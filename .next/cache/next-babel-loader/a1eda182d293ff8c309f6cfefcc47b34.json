{"ast":null,"code":"export var makeCancelable = function makeCancelable(promise, onfulfilled, onrejected) {\n  var hasCanceled = false;\n  new Promise(function (resolve, reject) {\n    return promise.then(function (val) {\n      return hasCanceled ? reject({\n        isCanceled: true\n      }) : resolve(val);\n    })[\"catch\"](function (err) {\n      return hasCanceled ? reject({\n        isCanceled: true\n      }) : reject(err);\n    });\n  }).then(onfulfilled)[\"catch\"](function (err) {\n    if (err && !err.isCanceled) {\n      throw err;\n    }\n  })[\"catch\"](onrejected);\n  return function () {\n    hasCanceled = true;\n  };\n};","map":null,"metadata":{},"sourceType":"module"}