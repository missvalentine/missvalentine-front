{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport dynamic from \"next/dynamic\";\nimport React, { useState } from \"react\";\nconst Layout = dynamic(() => import(\"../components/Layouts/Layout\"), {\n  ssr: false,\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak(\"../components/Layouts/Layout\")],\n    modules: [\"../components/Layouts/Layout\"]\n  }\n});\nimport { getProducts } from \"../redux/actions\";\nimport { connect } from \"react-redux\";\nimport { getAllCombos } from \"../services/api\";\nconst ProductRating = dynamic(() => import(\"../components/ProductRating\"), {\n  ssr: false,\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak(\"../components/ProductRating\")],\n    modules: [\"../components/ProductRating\"]\n  }\n});\nimport { projectName } from \"../constants/projectSettings\";\nimport { LazyLoadImage } from \"react-lazy-load-image-component\";\nimport BlankStar from \"../components/review-stars/BlankStar\"; // import BlankStar from \"../components/review-stars/BlankStar\";\n\nimport Button from \"../components/form-components/Button\";\nimport ReviewPageCard from \"../components/ReviewPageCard\";\n\nclass Home extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"changeCategory\", activeCategory => {\n      const {\n        products\n      } = this.props;\n      console.log({\n        activeCategory,\n        products\n      });\n\n      if (activeCategory.title === \"Featured\") {\n        this.setState({\n          products: products.featured,\n          activeCategory: activeCategory.title\n        });\n      } else if (activeCategory.title === \"All\") {\n        this.setState({\n          products: products.products,\n          activeCategory: activeCategory.title\n        });\n      } else {\n        const activeCategoryArr = products.categories.find(el => el.category.categorytitle === activeCategory.title) || {};\n        this.setState({\n          products: activeCategoryArr.products,\n          activeCategory: activeCategory.title\n        });\n      }\n    });\n\n    this.state = {\n      activeCategory: \"Featured\",\n      allProducts: props.products.products || [],\n      products: props.products.featured || [],\n      combos: []\n    };\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    if (nextProps.products.products !== prevState.allProducts) {\n      console.log({\n        allProducts: nextProps.products.products\n      });\n      return {\n        allProducts: nextProps.products.products\n      };\n    } else return null;\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.products.products !== this.props.products.products) {\n      this.changeCategory({\n        title: this.state.activeCategory\n      });\n    }\n  }\n\n  componentDidMount() {\n    this.props.getProducts();\n    getAllCombos().then(res => {\n      console.log({\n        res\n      });\n\n      if (res.data && res.data.combos) {\n        this.setState({\n          combos: res.data.combos\n        });\n      }\n    });\n  }\n\n  render() {\n    const {\n      activeCategory,\n      products,\n      combos\n    } = this.state; // const {\n    //   products\n    // } = this.props\n\n    console.log(this.state);\n    return __jsx(Layout, {\n      title: projectName,\n      fixed: true\n    }, __jsx(\"div\", {\n      className: \"c-reviews-page\"\n    }, __jsx(\"div\", {\n      className: \"c-reviews-page__banner\"\n    }, __jsx(\"img\", {\n      src: \"https://cdn.zeplin.io/5f51f07e47716786ed5162f8/assets/807624A0-41F6-46A3-B10E-A3BBED9D8DCE.png\",\n      alt: \"\"\n    }), __jsx(\"img\", {\n      src: \"https://cdn.zeplin.io/5f51f07e47716786ed5162f8/assets/807624A0-41F6-46A3-B10E-A3BBED9D8DCE.png\",\n      alt: \"\"\n    }), __jsx(\"img\", {\n      src: \"https://cdn.zeplin.io/5f51f07e47716786ed5162f8/assets/807624A0-41F6-46A3-B10E-A3BBED9D8DCE.png\",\n      alt: \"\"\n    })), __jsx(\"h2\", {\n      className: \"c-reviews-page__heading\"\n    }, \"reviews\"), __jsx(\"div\", {\n      className: \"c-reviews-page__main-landing\"\n    }, __jsx(\"div\", {\n      className: \"c-reviews-page__main-landing--leftSpan\"\n    }, __jsx(\"h2\", {\n      className: \"c-reviews-page__main-landing--leftSpan-heading\"\n    }, \"What our clients think about us\"), __jsx(\"div\", {\n      className: \"review-stars\"\n    }, __jsx(BlankStar, {\n      fill: \"white\"\n    }), __jsx(BlankStar, null), __jsx(BlankStar, null), __jsx(BlankStar, {\n      fill: \"black\"\n    }), __jsx(BlankStar, null)), __jsx(\"div\", {\n      className: \"review-count\"\n    }, \"12 reviews (9.7)\")), __jsx(\"div\", {\n      className: \"c-reviews-page__main-landing--rightSpan\"\n    }, __jsx(Button, {\n      parentClass: \"c-reviews-page\",\n      type: \"link\",\n      link: \"/\",\n      theme: \"dark\"\n    }, \"Write a review\"), __jsx(\"div\", {\n      className: \"reviews-filter\"\n    }, __jsx(\"div\", {\n      className: \"reviews-filter-container reviews-filter-5\"\n    }, __jsx(\"div\", null, __jsx(BlankStar, {\n      fill: \"black\"\n    }), __jsx(BlankStar, {\n      fill: \"black\"\n    }), __jsx(BlankStar, {\n      fill: \"black\"\n    }), __jsx(BlankStar, {\n      fill: \"black\"\n    }), __jsx(BlankStar, {\n      fill: \"black\"\n    })), __jsx(\"h2\", null, \"(120)\")), __jsx(\"div\", {\n      className: \"reviews-filter-container reviews-filter-4\"\n    }, __jsx(\"div\", null, __jsx(BlankStar, {\n      fill: \"black\"\n    }), __jsx(BlankStar, {\n      fill: \"black\"\n    }), __jsx(BlankStar, {\n      fill: \"black\"\n    }), __jsx(BlankStar, {\n      fill: \"black\"\n    })), __jsx(\"h2\", null, \"(80)\")), __jsx(\"div\", {\n      className: \"reviews-filter-container reviews-filter-3\"\n    }, __jsx(\"div\", null, __jsx(BlankStar, {\n      fill: \"black\"\n    }), __jsx(BlankStar, {\n      fill: \"black\"\n    }), __jsx(BlankStar, {\n      fill: \"black\"\n    })), __jsx(\"h2\", null, \"(20)\")), __jsx(\"div\", {\n      className: \"reviews-filter-container reviews-filter-2\"\n    }, __jsx(\"div\", null, __jsx(BlankStar, {\n      fill: \"black\"\n    }), __jsx(BlankStar, {\n      fill: \"black\"\n    })), __jsx(\"h2\", null, \"(12)\")), __jsx(\"div\", {\n      className: \"reviews-filter-container reviews-filter-1\"\n    }, __jsx(\"div\", null, __jsx(BlankStar, {\n      fill: \"black\"\n    })), __jsx(\"h2\", null, \"(2)\"))))), __jsx(\"div\", {\n      className: \"c-reviews-page__reviews-section\"\n    }, __jsx(ReviewPageCard, null), __jsx(ReviewPageCard, null), __jsx(ReviewPageCard, null), __jsx(ReviewPageCard, null), __jsx(ReviewPageCard, null)), __jsx(\"div\", {\n      className: \"c-reviews-page__pagination-container\"\n    })));\n  }\n\n}\n\nexport default connect(state => state, {\n  getProducts\n})(Home);","map":null,"metadata":{},"sourceType":"module"}