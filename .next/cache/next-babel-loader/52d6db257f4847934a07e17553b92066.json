{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport dynamic from 'next/dynamic';\nimport { useState } from 'react';\nimport Link from 'next/link';\nimport classNames from 'classnames';\nvar Tabs = dynamic(function () {\n  return import('./Tabs');\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('./Tabs')];\n    },\n    modules: ['./Tabs']\n  }\n});\nvar TitleList = dynamic(function () {\n  return import('./TItleList');\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('./TItleList')];\n    },\n    modules: ['./TItleList']\n  }\n});\nvar Heading = dynamic(function () {\n  return import('./Heading');\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('./Heading')];\n    },\n    modules: ['./Heading']\n  }\n});\nimport { Rate, Modal } from 'antd';\nimport moment from 'moment';\nimport projectSettings from '../constants/projectSettings';\nimport { getProductTitle, getProductShortDesc } from '../services/helpers/product';\nvar ProductRating = dynamic(function () {\n  return import('../components/ProductRating');\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('../components/ProductRating')];\n    },\n    modules: ['../components/ProductRating']\n  }\n});\nimport { TabContent, TabPane } from 'reactstrap';\n\nvar ProductDetailsTab = function ProductDetailsTab(_ref) {\n  var _classNames;\n\n  var product = _ref.product,\n      versions = _ref.versions,\n      parentClass = _ref.parentClass,\n      reviews = _ref.reviews,\n      allProducts = _ref.allProducts;\n\n  var _useState = useState(null),\n      numPages = _useState[0],\n      setNumPages = _useState[1];\n\n  var _useState2 = useState(1),\n      pageNumber = _useState2[0],\n      setPageNumber = _useState2[1];\n\n  function onDocumentLoadSuccess(_ref2) {\n    var numPages = _ref2.numPages;\n    setNumPages(numPages);\n  }\n\n  var _useState3 = useState(false),\n      open = _useState3[0],\n      setOpen = _useState3[1];\n\n  var componentClass = \"c-product-details-tab\";\n  var versionClass = versions.map(function (el) {\n    return \"\".concat(componentClass, \"--\").concat(el);\n  }).join(' ');\n  var parent = \"\".concat(parentClass, \"__\").concat(componentClass.replace('c-', ''));\n\n  var _useState4 = useState('0'),\n      currentTab = _useState4[0],\n      setCurrentTab = _useState4[1];\n\n  var className = classNames(componentClass, 'text-left', (_classNames = {}, _defineProperty(_classNames, versionClass, versions), _defineProperty(_classNames, parent, parentClass), _classNames));\n  var totalcbdmg = product.totalcbdmg,\n      cbdperunitmg = product.cbdperunitmg,\n      servings = product.servings,\n      servingsize = product.servingsize,\n      direction = product.direction,\n      warning = product.warning,\n      storage = product.storage,\n      indication = product.indication,\n      warranty = product.warranty,\n      use = product.use;\n\n  var getAvg = function getAvg(reviews) {\n    if (reviews) {\n      var newArr = reviews.map(function (el) {\n        return el.overall;\n      });\n      var sum = newArr.reduce(function (a, b) {\n        return a + b;\n      }, 0);\n      return (sum / reviews.length).toFixed(1);\n    }\n\n    return 0;\n  }; // console.log({\n  //   product,\n  // });\n\n\n  var avgReview = isNaN(getAvg(reviews)) ? 0 : getAvg(reviews);\n  var totalReview = reviews && reviews.length || 0;\n  var productFaq = product.faqcontent && product.faqcontent.filter(function (faq) {\n    return faq.title !== '' && faq.description !== '';\n  });\n  var tabs = [{\n    title: 'Details',\n    content: '' // content: <TabContainer>\n    //     <div className=\"col-lg-4 col-md-6 c-product-details-tab__contain-col\">\n    //         <TitleList parentClass=\"c-product-details-tab\" title=\"Total Cbd\" >\n    //             {`${totalcbdmg} mg`}\n    //         </TitleList>\n    //         <TitleList parentClass=\"c-product-details-tab\" title={\"Cbd per unit\"} >\n    //             {cbdperunitmg}\n    //         </TitleList>\n    //     </div>\n    //     <div className=\"col-lg-4 col-md-6 c-product-details-tab__contain-col\">\n    //         <TitleList parentClass=\"c-product-details-tab\" title=\"Total Servings\" >\n    //             {servings}\n    //         </TitleList>\n    //         <TitleList parentClass=\"c-product-details-tab\" title=\"Servings Size\" >\n    //             {servingsize}\n    //         </TitleList>\n    //     </div>\n    // </TabContainer>\n\n  }, {\n    title: 'How to use',\n    content: '' // content: <TabContainer>\n    //     <div className=\"col-12 c-product-details-tab__contain-col text-center\">\n    //         <Heading parentClass={componentClass} h=\"4\" subHeading={true} >Suggested Use</Heading>\n    //         <p className={`${componentClass}__text`} >{direction}</p>\n    //     </div>\n    // </TabContainer>\n\n  }, {\n    title: 'Reviews',\n    content: '' //     content: <TabContainer>\n    //     <div className=\"col-12 c-product-details-tab__contain-col text-center\">\n    //         {/* <Heading parentClass={componentClass} h=\"4\" subHeading={true} >Suggested Use</Heading>\n    //         <p className={`${componentClass}__text`} >{direction}</p> */}\n    //         <div className=\"row\">\n    //             <div className=\"col-lg-8 col-md-9\">\n    //                 {reviews && reviews.map((el, key)=> <TitleList key={key} title={el.title} >\n    //                     {el.content}\n    //                 </TitleList>)}\n    //             </div>\n    //             <div className=\"col-lg-4 col-md-3\">\n    //                 <Rate\n    //                     style={{ color: '#000' }}\n    //                     className=\"c-product-details-tab__stars\"\n    //                     disabled value={avgReview}\n    //                     allowHalf={true} />\n    //                 <p className=\"c-product-details-tab__review-para\">({totalReview} reviews)</p>\n    //                 <h1 className=\"c-product-details-tab__review-heading\">{avgReview}</h1>\n    //             </div>\n    //         </div>\n    //     </div>\n    // </TabContainer>\n\n  }, {\n    title: \"FAQ's\",\n    content: '' //     content: <TabContainer>\n    //     <div className=\"col-12 c-product-details-tab__contain-col text-center\">\n    //         <div className=\"row\">\n    //             <div className=\"col-lg-8 col-md-9\">\n    //                 {product.faqcontent && product.faqcontent.map((el, key)=> <TitleList key={key} title={el.title} >\n    //                     {el.description}\n    //                 </TitleList>)}\n    //             </div>\n    //         </div>\n    //     </div>\n    // </TabContainer>\n\n  } // {\n  //     title: \"Quality Sheet\",\n  //     content: \"\",\n  // //     content: <TabContainer>\n  // //     <div className=\"col-12 c-product-details-tab__contain-col text-center\">\n  // //         <div className=\"row\">\n  // //             <div className=\"col-lg-8 col-md-9\">\n  // //                 {product.faqcontent && product.faqcontent.map((el, key)=> <TitleList key={key} title={el.title} >\n  // //                     {el.description}\n  // //                 </TitleList>)}\n  // //             </div>\n  // //         </div>\n  // //     </div>\n  // // </TabContainer>\n  // },\n  ];\n  var allTabs = product.labsheet ? [].concat(tabs, [{\n    title: 'Quality sheet',\n    content: ''\n  }]) : tabs; // console.log(currentTab)\n\n  return __jsx(\"div\", {\n    className: className\n  }, __jsx(Tabs, {\n    tabs: allTabs,\n    activeKey: currentTab,\n    onNextClick: function onNextClick(e) {\n      setCurrentTab(\"\".concat(parseInt(currentTab) + 1));\n    },\n    onPrevClick: function onPrevClick(e) {\n      setCurrentTab(\"\".concat(parseInt(currentTab) - 1));\n    },\n    onChange: function onChange(e, a) {\n      setCurrentTab(e);\n\n      if (e === '4') {\n        //  console.log(product.labsheet)\n        // if (typeof window !== \"undefined\") {\n        //   window.location.href = \"https://admin.cbdbene.com/images/uploads/BENE 001 CBD Gel Caps 25mg cbd 10mg curcumin(CoAs)-1603786893637.pdf\";\n        // }\n        setOpen(true);\n      }\n    },\n    parentClass: componentClass\n  }), __jsx(TabContent, {\n    activeTab: currentTab\n  }, __jsx(TabPane, {\n    tabId: \"0\"\n  }, __jsx(TabContainer, {\n    isActive: currentTab === '0'\n  }, product.combo ? __jsx(\"div\", {\n    className: \"col-12\"\n  }, __jsx(\"div\", {\n    className: \"row justify-content-center\"\n  }, __jsx(\"div\", {\n    className: \"col-lg-10\"\n  }, __jsx(\"div\", {\n    className: \"row\"\n  }, product.products.map(function (item) {\n    var productItem = allProducts.find(function (product) {\n      return product._id === item.combo_pid;\n    });\n    if (!productItem) return null;\n    var title = getProductTitle(productItem);\n    var desc = getProductShortDesc(productItem); // console.log({\n    //   productItem,\n    // });\n\n    return __jsx(\"div\", {\n      key: item.combo_pid,\n      className: \"col-lg-6 col-md-6 col-12 c-product-details-tab__contain-col\"\n    }, __jsx(TitleList, {\n      parentClass: \"c-product-details-tab\",\n      versions: ['wide-title', 'height-100p'],\n      title: __jsx(Link, {\n        href: \"/shop/\".concat(getProductTitle(productItem).replace(/ /g, '-'))\n      }, __jsx(\"a\", null, title))\n    }, desc));\n  }))))) : __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"c-product-details-tab__contain-col c-product-details-tab__contain-col--detail\"\n  }, __jsx(TitleList, {\n    parentClass: \"c-product-details-tab\",\n    versions: ['inline', 'new'],\n    title: \"Total CBD\",\n    weight: \"\".concat(totalcbdmg, \" mg\")\n  }, \"- \", \"\".concat(totalcbdmg, \" mg\")), __jsx(TitleList, {\n    parentClass: \"c-product-details-tab\",\n    versions: ['inline', 'new'],\n    title: 'CBD/ unit',\n    weight: cbdperunitmg\n  }, \"- \", cbdperunitmg, \" mg\"), __jsx(TitleList, {\n    parentClass: \"c-product-details-tab\",\n    versions: ['inline', 'new'],\n    title: \"Total Servings\",\n    weight: servings\n  }, \"- \", servings), __jsx(TitleList, {\n    parentClass: \"c-product-details-tab\",\n    versions: ['inline', 'new'],\n    title: \"Servings Size\",\n    weight: servingsize\n  }, \"- \", servingsize))))), __jsx(TabPane, {\n    tabId: \"1\"\n  }, __jsx(TabContainer, {\n    isActive: currentTab === '1'\n  }, __jsx(\"div\", {\n    className: \"col-12 c-product-details-tab__contain-col\"\n  }, use && __jsx(TitleList, {\n    parentClass: \"c-product-details-tab\",\n    title: 'Suggested Use'\n  }, use), direction && __jsx(TitleList, {\n    parentClass: \"c-product-details-tab\",\n    title: 'Direction'\n  }, direction), storage && __jsx(TitleList, {\n    parentClass: \"c-product-details-tab\",\n    title: 'Storage'\n  }, storage), warning && __jsx(TitleList, {\n    parentClass: \"c-product-details-tab\",\n    title: 'Warning'\n  }, warning), warranty && __jsx(TitleList, {\n    parentClass: \"c-product-details-tab\",\n    title: 'Warranty'\n  }, warranty)))), __jsx(TabPane, {\n    tabId: \"2\"\n  }, __jsx(TabContainer, {\n    isActive: currentTab === '2'\n  }, __jsx(\"div\", {\n    className: \"col-12 c-product-details-tab__contain-col\"\n  }, totalReview > 0 ? __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"row w-100\"\n  }, __jsx(\"div\", {\n    className: \"col-lg-8 col-md-9 col-xs-12 w-100\"\n  }, reviews && reviews.map(function (el, key) {\n    return __jsx(TitleList, {\n      key: key,\n      title: el.usermetaid ? el.usermetaid.firstname + ' ' + el.usermetaid.lastname : ''\n    }, el.title, console.log('rattt', el));\n  })), __jsx(\"div\", {\n    className: \"col-lg-4 col-md-3 col-xs-12 col-sm-12  pt-5 rev \"\n  }, __jsx(Rate, {\n    style: {\n      color: '#000'\n    },\n    className: \"c-product-details-tab__stars\",\n    disabled: true,\n    value: avgReview,\n    allowHalf: true\n  }), __jsx(\"p\", {\n    className: \"c-product-details-tab__review-para\",\n    style: {\n      fontSize: '19px'\n    }\n  }, totalReview, \" reviews(\", avgReview, \")\")))) : __jsx(\"div\", {\n    className: \"row pt-5\"\n  }, __jsx(\"div\", {\n    className: \"col-md-10 offset-md-1 text-center\"\n  }, __jsx(Heading, {\n    parentClass: componentClass,\n    h: \"4\",\n    subHeading: true\n  }, \"We don't have any reviews for this product.\")))))), __jsx(TabPane, {\n    tabId: \"3\"\n  }, __jsx(TabContainer, {\n    isActive: currentTab === '3'\n  }, __jsx(\"div\", {\n    className: \"col-12 c-product-details-tab__contain-col text-center\"\n  }, __jsx(\"div\", {\n    className: \"row \"\n  }, productFaq && productFaq.length > 0 ? __jsx(\"div\", {\n    className: \"col-12 col-md-10 text-left pt-5\"\n  }, productFaq.map(function (el, key) {\n    return __jsx(TitleList, {\n      key: key,\n      versions: ['faq'],\n      title: el.title\n    }, el.description);\n  })) : __jsx(\"div\", {\n    className: \"col-md-10 offset-md-1 text-center pt-5\"\n  }, __jsx(Heading, {\n    parentClass: componentClass,\n    h: \"4\",\n    subHeading: true\n  }, \"We don't have any faq's for this product.\")))))), __jsx(TabPane, {\n    tabId: \"4\"\n  }, __jsx(TabContainer, {\n    isActive: currentTab === '4'\n  }, __jsx(Modal, {\n    visible: open,\n    onCancel: function onCancel() {\n      //  console.log(\"clicked\")\n      setOpen(false);\n      setCurrentTab('0');\n    },\n    style: {\n      width: '500px',\n      height: '500px'\n    }\n  }, product.labsheet && __jsx(\"iframe\", {\n    src: \"\".concat(projectSettings.baseUrl, \"/\").concat(product.labsheet.replace('public/', '')),\n    style: {\n      objectFit: 'contain'\n    },\n    width: \"100%\",\n    height: \"100%\"\n  }))))));\n};\n\nvar TabContainer = function TabContainer(_ref3) {\n  var children = _ref3.children,\n      isActive = _ref3.isActive;\n  return __jsx(\"div\", {\n    className: classNames('c-product-details-tab__contain animated', {\n      fadeIn: isActive\n    })\n  }, __jsx(\"div\", {\n    className: \"row c-product-details-tab__contain-row\"\n  }, children));\n};\n\nvar ReviewItem = function ReviewItem(_ref4) {\n  var title = _ref4.title,\n      content = _ref4.content,\n      createdOn = _ref4.createdOn,\n      userName = _ref4.userName,\n      overall = _ref4.overall,\n      props = _objectWithoutProperties(_ref4, [\"title\", \"content\", \"createdOn\", \"userName\", \"overall\"]);\n\n  console.log('rating', props, userName, props.usermetaid);\n  return __jsx(\"div\", {\n    className: \"container rating__wrapper\"\n  }, __jsx(\"div\", {\n    className: \"rating__star\"\n  }, props.usermetaid && __jsx(\"h5\", {\n    className: \"rating__star--name\"\n  }, \"\".concat(props.usermetaid.firstname, \" \").concat(props.usermetaid.lastname) || 'Steve')), __jsx(\"div\", {\n    className: \"rating__text\"\n  }, __jsx(\"h5\", {\n    className: \"rating__text--name\"\n  }, title), __jsx(\"p\", {\n    className: \"rating__text--msg\"\n  }, content)), __jsx(\"div\", {\n    className: \"rating__date\"\n  }, __jsx(\"p\", {\n    className: \"rating__date--msg\"\n  }, moment(createdOn).format('dd, MMMM, YYYY'))));\n};\n\nProductDetailsTab.defaultProps = {\n  versions: [],\n  product: {}\n};\nexport default ProductDetailsTab;","map":null,"metadata":{},"sourceType":"module"}