{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport { Input, Button } from 'antd';\nimport AdminLayout from '../../../components/admin/AdminLayout';\nimport { createSubcategory, getAllCategories } from '../../../services/apis/admin.js';\nimport '../../../components/styles/app.scss';\nimport { Select } from 'antd';\nvar Option = Select.Option;\nexport default function create() {\n  var _useState = useState(''),\n      name = _useState[0],\n      setName = _useState[1];\n\n  var _useState2 = useState([]),\n      categories = _useState2[0],\n      setCategories = _useState2[1];\n\n  var _useState3 = useState(null),\n      categoryId = _useState3[0],\n      setCategoryId = _useState3[1];\n\n  var onSubmit = function onSubmit(event) {\n    event.preventDefault();\n    createSubcategory({\n      name: name,\n      category: categoryId\n    }).then(function (res) {\n      if (res.data && res.data.success) {\n        setName('');\n        setCategoryId(null);\n      }\n    });\n  };\n\n  useEffect(function () {\n    getAllCategories().then(function (res) {\n      return res && res.data && setCategories(res.data.data);\n    });\n  }, []);\n\n  function handleCatChange(value) {\n    setCategoryId(value);\n  }\n\n  return __jsx(AdminLayout, null, __jsx(\"h3\", null, \"Create a New Category\"), categories.length > 1 ? __jsx(\"div\", null, __jsx(Select, {\n    placeholder: \"Select Category Category\",\n    style: {\n      width: '100%'\n    },\n    onChange: handleCatChange,\n    bordered: true\n  }, categories.map(function (cate, index) {\n    return __jsx(Option, {\n      key: index,\n      value: cate._id,\n      name: cate.name\n    }, cate.name);\n  })), __jsx(Input, {\n    addonBefore: 'Enter Sub-Category Name',\n    value: name,\n    onChange: function onChange(e) {\n      return setName(e.target.value);\n    },\n    placeholder: \"ex Bra, lingrie\",\n    disabled: categoryId === null\n  }), __jsx(Button, {\n    onClick: onSubmit,\n    type: \"submit\",\n    className: \"\"\n  }, \"Submit\")) : __jsx(\"div\", null, \"Create a Category first\"));\n}","map":null,"metadata":{},"sourceType":"module"}