{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport dynamic from \"next/dynamic\";\nimport { LazyLoadImage } from \"react-lazy-load-image-component\";\nconst Layout = dynamic(() => import(\"../components/Layouts/Layout\"), {\n  ssr: false,\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak(\"../components/Layouts/Layout\")],\n    modules: [\"../components/Layouts/Layout\"]\n  }\n});\nimport { connect } from \"react-redux\";\nimport { getProducts } from \"../redux/actions\";\nconst Heading = dynamic(() => import(\"../components/Heading\"), {\n  ssr: false,\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak(\"../components/Heading\")],\n    modules: [\"../components/Heading\"]\n  }\n});\nconst ContactFrom = dynamic(() => import(\"../components/forms/ContactForm\"), {\n  ssr: false,\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak(\"../components/forms/ContactForm\")],\n    modules: [\"../components/forms/ContactForm\"]\n  }\n});\n\nclass Contact extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"changeCategory\", activeCategory => {\n      const {\n        products\n      } = this.props;\n      console.log({\n        activeCategory,\n        products\n      });\n\n      if (activeCategory.title === \"Featured\") {\n        this.setState({\n          products: products.featured,\n          activeCategory: activeCategory.title\n        });\n      } else if (activeCategory.title === \"All\") {\n        this.setState({\n          products: products.products,\n          activeCategory: activeCategory.title\n        });\n      } else {\n        const activeCategoryArr = products.categories.find(el => el.category.categorytitle === activeCategory.title) || {};\n        this.setState({\n          products: activeCategoryArr.products,\n          activeCategory: activeCategory.title\n        });\n      }\n    });\n\n    this.state = {\n      activeCategory: \"Featured\",\n      allProducts: props.products.products || [],\n      products: props.products.featured || []\n    };\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    if (nextProps.products.products !== prevState.allProducts) {\n      console.log({\n        allProducts: nextProps.products.products\n      });\n      return {\n        allProducts: nextProps.products.products\n      };\n    } else return null;\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.products.products !== this.props.products.products) {\n      this.changeCategory({\n        title: this.state.activeCategory\n      });\n    }\n  }\n\n  componentDidMount() {\n    this.props.getProducts();\n  }\n\n  render() {\n    const {\n      activeCategory,\n      products\n    } = this.state;\n    return __jsx(Layout, {\n      className: \"c-contact\",\n      headerVersions: [\"dark\"],\n      title: \"Contact\"\n    }, __jsx(LazyLoadImage, {\n      src: \"/images/contact-banner.webp\",\n      className: \"img-fluid contact-page-banner\",\n      style: {\n        padding: \"5rem 7rem\"\n      }\n    }), __jsx(\"div\", {\n      className: \"c-contact__container\"\n    }, __jsx(Heading, null, \"WHAT CAN WE HELP YOU WITH?\"), __jsx(\"p\", null, \"Please select a topic below related to your enquiry.\"), __jsx(ContactFrom, null)));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  products: state.products\n});\n\nContact.defaultProps = {\n  products: {}\n};\nexport default connect(mapStateToProps, {\n  getProducts\n})(Contact);","map":null,"metadata":{},"sourceType":"module"}