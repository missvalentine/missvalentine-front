{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { addSlugToProduct } from \"./productHelpers\";\nexport var getItemTotal = function getItemTotal(item) {\n  if (item) {\n    if (item.saleprice) return parseFloat(item.saleprice) * parseFloat(item.qty.value);else if (item.regularprice) return parseFloat(item.regularprice) * parseFloat(item.qty.value);\n  }\n\n  return 0;\n};\nexport var returnSubTotal = function returnSubTotal(items) {\n  // amount =\n  return items.map(function (el) {\n    if (el) {\n      if (el.saleprice) {\n        if (el.subscribed) {\n          var totalPrice = parseFloat(el.saleprice) * parseFloat(el.qty.value);\n          var disc = totalPrice * el.subscribedDiscountPersent / 100;\n          return parseFloat(totalPrice) - parseFloat(disc);\n        } else {\n          return parseFloat(el.saleprice) * parseFloat(el.qty.value);\n        }\n      } else if (el.regularprice) if (el.subscribed) {\n        var _totalPrice = parseFloat(el.regularprice) * parseFloat(el.qty.value);\n\n        var _disc = _totalPrice * el.subscribedDiscountPersent / 100;\n\n        return parseFloat(_totalPrice) - parseFloat(_disc);\n      } else {\n        return parseFloat(el.regularprice) * parseFloat(el.qty.value);\n      }\n    }\n\n    return 0;\n  }).reduce(function (a, b) {\n    return a + b;\n  }, 0);\n};\nexport var returnUnSubscribeTotal = function returnUnSubscribeTotal(items) {\n  return items.filter(function (el) {\n    return !el.subscribed;\n  }).map(function (el) {\n    if (el) {\n      if (el.saleprice) return parseFloat(el.saleprice) * parseFloat(el.qty.value);else if (el.regularprice) return parseFloat(el.regularprice) * parseFloat(el.qty.value);\n    }\n\n    return 0;\n  }).reduce(function (a, b) {\n    return a + b;\n  }, 0);\n};\nexport var getTotalWeight = function getTotalWeight(items) {\n  return items.filter(function (el) {\n    return el.weight;\n  }).map(function (el) {\n    return el.weight * parseFloat(el.qty.value);\n  }).reduce(function (a, b) {\n    return a + b;\n  }, 0);\n};\nexport var getTotalVolume = function getTotalVolume(items) {\n  // return items\n  //   .filter(el => el.shipping_height && el.shipping_length && el.shipping_width)\n  //   .map(el => el.shipping_height * el.shipping_length * el.shipping_width)\n  //   .reduce((a, b) => a + b, 0);\n  return items.filter(function (el) {\n    return el.volume;\n  }).map(function (el) {\n    return el.volume * parseFloat(el.qty.value);\n  }).reduce(function (a, b) {\n    return a + b;\n  }, 0);\n};\nexport var getTotalVariation = function getTotalVariation(item) {\n  if (!item.attributes) return [];\n  return item.attributes.map(function (el) {\n    return el ? el.names : null;\n  }).filter(function (el) {\n    return el;\n  });\n};\nexport var variablePriceSet = function variablePriceSet(productItem) {\n  if (productItem) {\n    var tempVariable = _objectSpread({}, productItem);\n\n    if (productItem.producttype === \"variable\") {\n      // if (productItem.size && productItem.extract_flavor) {\n      var notNullVariation = productItem.variation.filter(function (el) {\n        return el !== null;\n      });\n      productItem.attributes.filter(function (el) {\n        return el !== null;\n      }).map(function (el) {\n        return el.names;\n      });\n      var varCheck = productItem.attributes.filter(function (el) {\n        return el !== null;\n      }).map(function (attr) {\n        return {\n          key: attr.names,\n          value: productItem[attr.names] ? productItem[attr.names].value : productItem[attr.names]\n        };\n      });\n      var matchedVariable = null;\n\n      if (!varCheck.some(function (vEl) {\n        return vEl.value === null || vEl.value === undefined;\n      })) {\n        matchedVariable = notNullVariation.find(function (varEl) {\n          var matchArr = [];\n          varCheck.map(function (vEl) {\n            matchArr.push(varEl[vEl.key] === vEl.value);\n            return null;\n          });\n          return !matchArr.includes(false);\n        });\n\n        if (matchedVariable) {\n          tempVariable = _objectSpread(_objectSpread({}, productItem), {}, {\n            regularprice: matchedVariable.regular_price,\n            saleprice: matchedVariable.sale_price\n          });\n        } else {\n          tempVariable = _objectSpread(_objectSpread({}, productItem), {}, {\n            regularprice: productItem.dregularprice,\n            saleprice: productItem.dsaleprice\n          });\n        }\n      }\n    } else {\n      if (productItem.producttype === \"simple\" || productItem.combo) {\n        tempVariable = _objectSpread(_objectSpread({}, productItem), {}, {\n          regularprice: productItem.dregularprice,\n          saleprice: productItem.dsaleprice\n        });\n      }\n    }\n\n    return tempVariable;\n  }\n};\nexport var changeCartItemVariation = function changeCartItemVariation(varValue, names, item, indexingNo, list) {\n  if (names === \"qty\") {\n    return {\n      approve: false,\n      update: {\n        oldItem: item,\n        newItem: _objectSpread(_objectSpread({}, item), {}, _defineProperty({}, names, varValue)),\n        remove: null\n      }\n    };\n  } else {\n    var totalVariation = getTotalVariation(item);\n    var foundItem = list.find(function (el, index) {\n      var innerFlag = totalVariation.map(function (varEl) {\n        if (el[varEl]) {\n          if (varEl === names) {\n            return el[varEl].value === varValue.value;\n          }\n\n          return el[varEl].value === item[varEl].value;\n        } else {\n          return null;\n        }\n      }).filter(function (el) {\n        return el !== null;\n      });\n      return el.productid._id === item.productid._id && innerFlag.every(function (el) {\n        return el;\n      }) && index !== indexingNo;\n    });\n\n    if (foundItem !== undefined && foundItem !== null) {\n      var totalQty = parseInt(foundItem.qty.value) + parseInt(item.qty.value);\n      var qty = {\n        label: totalQty.toString(),\n        value: totalQty.toString()\n      };\n\n      if (item.subscribed || foundItem.subscribed) {\n        var _objectSpread3;\n\n        return {\n          approve: true,\n          update: {\n            oldItem: foundItem,\n            newItem: _objectSpread(_objectSpread({}, foundItem), {}, (_objectSpread3 = {}, _defineProperty(_objectSpread3, names, varValue), _defineProperty(_objectSpread3, \"qty\", qty), _defineProperty(_objectSpread3, \"subscribed\", true), _defineProperty(_objectSpread3, \"subscribedDiscountPersent\", item.subscribedDiscountPersent), _defineProperty(_objectSpread3, \"subscribedTime\", item.subscribedTime), _objectSpread3)),\n            remove: item\n          }\n        };\n      } else {\n        var _objectSpread4;\n\n        return {\n          approve: false,\n          update: {\n            oldItem: foundItem,\n            newItem: _objectSpread(_objectSpread({}, foundItem), {}, (_objectSpread4 = {}, _defineProperty(_objectSpread4, names, varValue), _defineProperty(_objectSpread4, \"qty\", qty), _objectSpread4)),\n            remove: item\n          }\n        };\n      }\n    } else {\n      return {\n        approve: false,\n        update: {\n          oldItem: item,\n          newItem: _objectSpread(_objectSpread({}, item), {}, _defineProperty({}, names, varValue)),\n          remove: null\n        }\n      };\n    }\n  }\n};\nexport var verifyProduct = function verifyProduct(productItem) {\n  var items = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var totalVariation = getTotalVariation(productItem);\n  var foundItem = items.find(function (el) {\n    var innerFlag = totalVariation.map(function (varEl) {\n      if (el[varEl]) {\n        return el[varEl].value === productItem[varEl].value;\n      } else {\n        return null;\n      }\n    }).filter(function (el) {\n      return el !== null;\n    }).every(function (el) {\n      return el;\n    });\n    if (!innerFlag) return innerFlag;\n    if (el.combo && productItem.combo) return el._id === productItem._id;\n    if (el.combo) return el._id === productItem.productid._id;\n    if (productItem.combo) return el.productid._id === productItem._id;\n    return el.productid._id === productItem.productid._id;\n  });\n\n  if (foundItem !== undefined && foundItem !== null) {\n    var totalQty = parseInt(foundItem.qty.value) + parseInt(productItem.qty.value);\n    var qty = {\n      label: totalQty,\n      value: totalQty\n    };\n\n    var tempNewItem = _objectSpread(_objectSpread({}, foundItem), {}, {\n      subscribed: productItem.subscribed\n    });\n\n    if (productItem.subscribed) {\n      var subscribed = productItem.subscribed,\n          subscribedDiscountPersent = productItem.subscribedDiscountPersent,\n          subscribedTime = productItem.subscribedTime;\n      return {\n        found: foundItem,\n        item: _objectSpread(_objectSpread({}, foundItem), {}, {\n          qty: qty,\n          subscribed: subscribed,\n          subscribedDiscountPersent: subscribedDiscountPersent,\n          subscribedTime: subscribedTime\n        })\n      };\n    } else if (foundItem.subscribed) {\n      var _subscribedDiscountPersent = tempNewItem.subscribedDiscountPersent,\n          _subscribedTime = tempNewItem.subscribedTime,\n          newItem = _objectWithoutProperties(tempNewItem, [\"subscribedDiscountPersent\", \"subscribedTime\"]);\n\n      return {\n        found: foundItem,\n        item: _objectSpread({}, newItem)\n      };\n    }\n\n    return {\n      found: foundItem,\n      item: _objectSpread(_objectSpread({}, foundItem), {}, {\n        qty: qty,\n        subscribed: productItem.subscribed\n      })\n    };\n  }\n\n  return {\n    found: null,\n    item: _objectSpread({}, productItem)\n  };\n};\nexport var addItem = function addItem(state, newItem) {\n  var _verifyProduct = verifyProduct(newItem, state.items),\n      found = _verifyProduct.found,\n      item = _verifyProduct.item;\n\n  if (found) {\n    return modifyProduct(found, item, state);\n  }\n\n  var newItems = [].concat(_toConsumableArray(state.items), [newItem]);\n  return _objectSpread(_objectSpread({}, state), {}, {\n    items: newItems,\n    subTotal: returnSubTotal(newItems) || 0,\n    unSubscribeProductAmount: returnUnSubscribeTotal(newItems) || 0,\n    totalWeight: getTotalWeight(newItems),\n    totalVolume: getTotalVolume(newItems)\n  });\n};\nexport var setSlugInCart = function setSlugInCart(cart) {\n  return _objectSpread(_objectSpread({}, cart), {}, {\n    items: cart.items ? cart.items.map(function (el) {\n      return addSlugToProduct(el);\n    }) : []\n  });\n};\nexport var modifyProduct = function modifyProduct(oldItem, newItem, state) {\n  var NewItems = state.items.map(function (el) {\n    if (el._id === newItem._id) {\n      if (el === oldItem) {\n        return variablePriceSet(newItem);\n      }\n    }\n\n    return el;\n  });\n\n  if (oldItem !== newItem) {\n    return _objectSpread(_objectSpread({}, state), {}, {\n      items: _toConsumableArray(NewItems),\n      subTotal: returnSubTotal(NewItems) || 0,\n      unSubscribeProductAmount: returnUnSubscribeTotal(NewItems) || 0,\n      totalWeight: getTotalWeight(NewItems),\n      totalVolume: getTotalVolume(NewItems)\n    });\n  }\n\n  return state;\n};\nexport var removeItem = function removeItem(state, item) {\n  var newItems = _toConsumableArray(state.items.filter(function (el) {\n    return el !== item;\n  }));\n\n  return _objectSpread(_objectSpread({}, state), {}, {\n    items: newItems,\n    subTotal: returnSubTotal(newItems) || 0,\n    unSubscribeProductAmount: returnUnSubscribeTotal(newItems) || 0,\n    totalWeight: getTotalWeight(newItems),\n    totalVolume: getTotalVolume(newItems)\n  });\n};","map":{"version":3,"sources":["/Users/akshataggarwal/Documents/Coding Files/webd projects/missnew front/services/extra/cartHealpers.js"],"names":["addSlugToProduct","getItemTotal","item","saleprice","parseFloat","qty","value","regularprice","returnSubTotal","items","map","el","subscribed","totalPrice","disc","subscribedDiscountPersent","reduce","a","b","returnUnSubscribeTotal","filter","getTotalWeight","weight","getTotalVolume","volume","getTotalVariation","attributes","names","variablePriceSet","productItem","tempVariable","producttype","notNullVariation","variation","varCheck","attr","key","matchedVariable","some","vEl","undefined","find","varEl","matchArr","push","includes","regular_price","sale_price","dregularprice","dsaleprice","combo","changeCartItemVariation","varValue","indexingNo","list","approve","update","oldItem","newItem","remove","totalVariation","foundItem","index","innerFlag","productid","_id","every","totalQty","parseInt","label","toString","subscribedTime","verifyProduct","tempNewItem","found","addItem","state","modifyProduct","newItems","subTotal","unSubscribeProductAmount","totalWeight","totalVolume","setSlugInCart","cart","NewItems","removeItem"],"mappings":"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","sourcesContent":["import { addSlugToProduct } from \"./productHelpers\";\n\nexport const getItemTotal = item => {\n  if (item) {\n    if (item.saleprice)\n      return parseFloat(item.saleprice) * parseFloat(item.qty.value);\n    else if (item.regularprice)\n      return parseFloat(item.regularprice) * parseFloat(item.qty.value);\n  }\n  return 0;\n};\n\nexport const returnSubTotal = items => {\n  // amount =\n  return items\n    .map(el => {\n      if (el) {\n        if (el.saleprice)\n          if (el.subscribed) {\n            const totalPrice =\n              parseFloat(el.saleprice) * parseFloat(el.qty.value);\n            const disc = (totalPrice * el.subscribedDiscountPersent) / 100;\n            return parseFloat(totalPrice) - parseFloat(disc);\n          } else {\n            return parseFloat(el.saleprice) * parseFloat(el.qty.value);\n          }\n        else if (el.regularprice)\n          if (el.subscribed) {\n            const totalPrice =\n              parseFloat(el.regularprice) * parseFloat(el.qty.value);\n            const disc = (totalPrice * el.subscribedDiscountPersent) / 100;\n            return parseFloat(totalPrice) - parseFloat(disc);\n          } else {\n            return parseFloat(el.regularprice) * parseFloat(el.qty.value);\n          }\n      }\n\n      return 0;\n    })\n    .reduce((a, b) => a + b, 0);\n};\nexport const returnUnSubscribeTotal = items => {\n  return items\n    .filter(el => !el.subscribed)\n    .map(el => {\n      if (el) {\n        if (el.saleprice)\n          return parseFloat(el.saleprice) * parseFloat(el.qty.value);\n        else if (el.regularprice)\n          return parseFloat(el.regularprice) * parseFloat(el.qty.value);\n      }\n\n      return 0;\n    })\n    .reduce((a, b) => a + b, 0);\n};\nexport const getTotalWeight = items => {\n  return items\n    .filter(el => el.weight)\n    .map(el => el.weight * parseFloat(el.qty.value))\n    .reduce((a, b) => a + b, 0);\n};\nexport const getTotalVolume = items => {\n  // return items\n  //   .filter(el => el.shipping_height && el.shipping_length && el.shipping_width)\n  //   .map(el => el.shipping_height * el.shipping_length * el.shipping_width)\n  //   .reduce((a, b) => a + b, 0);\n  return items\n    .filter(el => el.volume)\n    .map(el => el.volume * parseFloat(el.qty.value))\n    .reduce((a, b) => a + b, 0);\n};\nexport const getTotalVariation = item => {\n  if (!item.attributes) return [];\n\n  return item.attributes.map(el => (el ? el.names : null)).filter(el => el);\n};\nexport const variablePriceSet = productItem => {\n  if (productItem) {\n    let tempVariable = { ...productItem };\n    if (productItem.producttype === \"variable\") {\n      // if (productItem.size && productItem.extract_flavor) {\n      const notNullVariation = productItem.variation.filter(el => el !== null);\n      productItem.attributes.filter(el => el !== null).map(el => el.names);\n      const varCheck = productItem.attributes\n        .filter(el => el !== null)\n        .map(attr => {\n          return {\n            key: attr.names,\n            value: productItem[attr.names]\n              ? productItem[attr.names].value\n              : productItem[attr.names]\n          };\n        });\n      let matchedVariable = null;\n      if (\n        !varCheck.some(vEl => vEl.value === null || vEl.value === undefined)\n      ) {\n        matchedVariable = notNullVariation.find(varEl => {\n          let matchArr = [];\n          varCheck.map(vEl => {\n            matchArr.push(varEl[vEl.key] === vEl.value);\n            return null;\n          });\n\n          return !matchArr.includes(false);\n        });\n        if (matchedVariable) {\n          tempVariable = {\n            ...productItem,\n            regularprice: matchedVariable.regular_price,\n            saleprice: matchedVariable.sale_price\n          };\n        } else {\n          tempVariable = {\n            ...productItem,\n            regularprice: productItem.dregularprice,\n            saleprice: productItem.dsaleprice\n          };\n        }\n      }\n    } else {\n      if (productItem.producttype === \"simple\" || productItem.combo) {\n        tempVariable = {\n          ...productItem,\n          regularprice: productItem.dregularprice,\n          saleprice: productItem.dsaleprice\n        };\n      }\n    }\n\n    return tempVariable;\n  }\n};\nexport const changeCartItemVariation = (\n  varValue,\n  names,\n  item,\n  indexingNo,\n  list\n) => {\n  if (names === \"qty\") {\n    return {\n      approve: false,\n      update: {\n        oldItem: item,\n        newItem: { ...item, [names]: varValue },\n        remove: null\n      }\n    };\n  } else {\n    const totalVariation = getTotalVariation(item);\n\n    const foundItem = list.find((el, index) => {\n      const innerFlag = totalVariation\n        .map(varEl => {\n          if (el[varEl]) {\n            if (varEl === names) {\n              return el[varEl].value === varValue.value;\n            }\n            return el[varEl].value === item[varEl].value;\n          } else {\n            return null;\n          }\n        })\n        .filter(el => el !== null);\n\n      return (\n        el.productid._id === item.productid._id &&\n        innerFlag.every(el => el) &&\n        index !== indexingNo\n      );\n    });\n    if (foundItem !== undefined && foundItem !== null) {\n      const totalQty = parseInt(foundItem.qty.value) + parseInt(item.qty.value);\n      const qty = {\n        label: totalQty.toString(),\n        value: totalQty.toString()\n      };\n\n      if (item.subscribed || foundItem.subscribed) {\n        return {\n          approve: true,\n          update: {\n            oldItem: foundItem,\n            newItem: {\n              ...foundItem,\n              [names]: varValue,\n              qty,\n              subscribed: true,\n              subscribedDiscountPersent: item.subscribedDiscountPersent,\n              subscribedTime: item.subscribedTime\n            },\n            remove: item\n          }\n        };\n      } else {\n        return {\n          approve: false,\n          update: {\n            oldItem: foundItem,\n            newItem: {\n              ...foundItem,\n              [names]: varValue,\n              qty\n            },\n            remove: item\n          }\n        };\n      }\n    } else {\n      return {\n        approve: false,\n        update: {\n          oldItem: item,\n          newItem: {\n            ...item,\n            [names]: varValue\n          },\n          remove: null\n        }\n      };\n    }\n  }\n};\nexport const verifyProduct = (productItem, items = []) => {\n  const totalVariation = getTotalVariation(productItem);\n\n  const foundItem = items.find(el => {\n    const innerFlag = totalVariation\n      .map(varEl => {\n        if (el[varEl]) {\n          return el[varEl].value === productItem[varEl].value;\n        } else {\n          return null;\n        }\n      })\n      .filter(el => el !== null)\n      .every(el => el);\n\n    if (!innerFlag) return innerFlag;\n\n    if (el.combo && productItem.combo) return el._id === productItem._id;\n\n    if (el.combo) return el._id === productItem.productid._id;\n\n    if (productItem.combo) return el.productid._id === productItem._id;\n\n    return el.productid._id === productItem.productid._id;\n  });\n\n  if (foundItem !== undefined && foundItem !== null) {\n    const totalQty =\n      parseInt(foundItem.qty.value) + parseInt(productItem.qty.value);\n    const qty = {\n      label: totalQty,\n      value: totalQty\n    };\n    const tempNewItem = {\n      ...foundItem,\n      subscribed: productItem.subscribed\n    };\n    if (productItem.subscribed) {\n      const {\n        subscribed,\n        subscribedDiscountPersent,\n        subscribedTime\n      } = productItem;\n      return {\n        found: foundItem,\n        item: {\n          ...foundItem,\n          qty: qty,\n          subscribed,\n          subscribedDiscountPersent,\n          subscribedTime\n        }\n      };\n    } else if (foundItem.subscribed) {\n      const {\n        subscribedDiscountPersent,\n        subscribedTime,\n        ...newItem\n      } = tempNewItem;\n      return {\n        found: foundItem,\n        item: {\n          ...newItem\n        }\n      };\n    }\n    return {\n      found: foundItem,\n      item: {\n        ...foundItem,\n        qty: qty,\n        subscribed: productItem.subscribed\n      }\n    };\n  }\n  return {\n    found: null,\n    item: {\n      ...productItem\n    }\n  };\n};\nexport const addItem = (state, newItem) => {\n  const { found, item } = verifyProduct(newItem, state.items);\n\n  if (found) {\n    return modifyProduct(found, item, state);\n  }\n  const newItems = [...state.items, newItem];\n\n  return {\n    ...state,\n    items: newItems,\n    subTotal: returnSubTotal(newItems) || 0,\n    unSubscribeProductAmount: returnUnSubscribeTotal(newItems) || 0,\n    totalWeight: getTotalWeight(newItems),\n    totalVolume: getTotalVolume(newItems)\n  };\n};\nexport const setSlugInCart = cart => {\n  return {\n    ...cart,\n    items: cart.items ? cart.items.map(el => addSlugToProduct(el)) : []\n  };\n};\nexport const modifyProduct = (oldItem, newItem, state) => {\n  const NewItems = state.items.map(el => {\n    if (el._id === newItem._id) {\n      if (el === oldItem) {\n        return variablePriceSet(newItem);\n      }\n    }\n    return el;\n  });\n  if (oldItem !== newItem) {\n    return {\n      ...state,\n      items: [...NewItems],\n      subTotal: returnSubTotal(NewItems) || 0,\n      unSubscribeProductAmount: returnUnSubscribeTotal(NewItems) || 0,\n      totalWeight: getTotalWeight(NewItems),\n      totalVolume: getTotalVolume(NewItems)\n    };\n  }\n  return state;\n};\nexport const removeItem = (state, item) => {\n  const newItems = [...state.items.filter(el => el !== item)];\n  return {\n    ...state,\n    items: newItems,\n    subTotal: returnSubTotal(newItems) || 0,\n    unSubscribeProductAmount: returnUnSubscribeTotal(newItems) || 0,\n    totalWeight: getTotalWeight(newItems),\n    totalVolume: getTotalVolume(newItems)\n  };\n};\n"]},"metadata":{},"sourceType":"module"}