{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/akshataggarwal/Documents/Coding Files/webd projects/missnew front/components/popups/Registration.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport dynamic from 'next/dynamic';\nimport { Form, Icon } from 'antd';\nvar Heading = dynamic(_c = function _c() {\n  return import('../Heading');\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('../Heading')];\n    },\n    modules: ['../Heading']\n  }\n});\n_c2 = Heading;\nvar Input = dynamic(_c3 = function _c3() {\n  return import('../form-components/Input');\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('../form-components/Input')];\n    },\n    modules: ['../form-components/Input']\n  }\n});\n_c4 = Input;\nvar Checkbox = dynamic(_c5 = function _c5() {\n  return import('../form-components/Checkbox');\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('../form-components/Checkbox')];\n    },\n    modules: ['../form-components/Checkbox']\n  }\n});\n_c6 = Checkbox;\nimport { connect } from 'react-redux';\nimport Button from '../form-components/Button';\nimport { registerUser } from '../../services/api';\nimport { drawerToDisplay, toggleRegBar } from '../../redux/actions/drawers';\nimport { setUser } from '../../redux/actions/user';\nimport regex from '../../services/helpers/regex';\nimport reactComponentDebounce from 'react-component-debounce';\nimport { projectName } from '../../constants/projectSettings';\nvar DebounceInput = reactComponentDebounce({\n  valuePropName: 'value',\n  triggerMs: 1000\n})(Input);\n\nvar RegistrationForm = /*#__PURE__*/function (_React$Component) {\n  _inherits(RegistrationForm, _React$Component);\n\n  var _super = _createSuper(RegistrationForm);\n\n  function RegistrationForm() {\n    var _this;\n\n    _classCallCheck(this, RegistrationForm);\n\n    _this = _super.call(this);\n\n    _defineProperty(_assertThisInitialized(_this), \"handleSubmit\", function (e) {\n      e.preventDefault();\n\n      _this.props.form.validateFields(function (err, values) {\n        if (!err) {\n          //     console.log(\"Received values of form: \", values);\n          var email = values.email,\n              password = values.password;\n\n          _this.setState({\n            isLoading: true,\n            error: null\n          });\n\n          registerUser({\n            email: email,\n            password: password,\n            password2: password,\n            firstname: 'null',\n            lastname: 'null',\n            phonenumber: 'null'\n          }).then(function (res) {\n            _this.setState({\n              isLoading: false\n            });\n\n            console.log({\n              res: res\n            });\n\n            if (res.status === 200) {\n              if (res.data.status) {\n                _this.props.setUser(res.data.user);\n\n                _this.props.toggleRegBar();\n              } else {\n                var error = res.data.error;\n\n                if (error.endsWith('is already taken')) {\n                  _this.setState({\n                    isAlreadyUser: true\n                  });\n                } else {\n                  _this.setState({\n                    error: res.data.error\n                  });\n                }\n              }\n            } else {\n              _this.setState({\n                error: 'something wrong'\n              });\n            }\n          })[\"catch\"](function (err) {\n            console.log({\n              err: err\n            });\n\n            _this.setState({\n              isLoading: false,\n              error: 'something wrong'\n            });\n          });\n        }\n      });\n    });\n\n    _this.state = {\n      isLoading: false,\n      error: null,\n      isAlreadyUser: false\n    };\n    return _this;\n  }\n\n  _createClass(RegistrationForm, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          drawerToDisplay = _this$props.drawerToDisplay,\n          getFieldDecorator = _this$props.form.getFieldDecorator;\n      var _this$state = this.state,\n          isLoading = _this$state.isLoading,\n          error = _this$state.error,\n          isAlreadyUser = _this$state.isAlreadyUser;\n      return __jsx(\"div\", {\n        className: \"c-registration\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 7\n        }\n      }, __jsx(Heading, {\n        parentClass: \"c-registration\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 9\n        }\n      }, isAlreadyUser ? __jsx(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }\n      }, \"Looks like you already\", __jsx(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 15\n        }\n      }), \"have an account\") : \"Welcome to \".concat(projectName, \"!\")), !isAlreadyUser && __jsx(\"p\", {\n        className: \"c-registration__info\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }\n      }, \"Fill in your details to create an account\"), !isAlreadyUser && __jsx(Form, {\n        onSubmit: this.handleSubmit,\n        className: \"c-ant-from c-registration__form\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }\n      }, __jsx(Form.Item, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 13\n        }\n      }, getFieldDecorator('email', {\n        rules: [{\n          max: 40,\n          message: \"You can't use more than 40 characters.\"\n        }, {\n          required: true,\n          message: 'Please input your e-mail!'\n        }, {\n          pattern: regex.email,\n          message: 'Please enter a valid E-mail.'\n        }]\n      })(__jsx(DebounceInput, {\n        style: {\n          padding: '0px',\n          fontSize: '16px',\n          fontFamily: 'futuraBT-book',\n          marginBottom: '20px'\n        },\n        versions: ['dark'],\n        parentClass: \"c-registration\",\n        label: \"E-mail\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 17\n        }\n      }))), __jsx(Form.Item, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 13\n        }\n      }, getFieldDecorator('password', {\n        rules: [{\n          required: true,\n          message: 'Please input your password!'\n        }, {\n          max: 20,\n          message: \"You can't use more than 20 characters.\"\n        }, {\n          min: 6,\n          message: 'Minimum 6 characters is require.'\n        }]\n      })(__jsx(DebounceInput, {\n        style: {\n          padding: '0px',\n          fontSize: '16px',\n          fontFamily: 'futuraBT-book',\n          width: '80%'\n        },\n        type: \"password\",\n        parentClass: \"c-registration\",\n        versions: ['dark'],\n        label: \"Password\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 17\n        }\n      }))), __jsx(\"div\", {\n        className: \"c-registration__terms\",\n        style: {\n          paddingTop: '30px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 13\n        }\n      }, __jsx(Form.Item, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 15\n        }\n      }, getFieldDecorator('agree', {\n        valuePropName: 'checked',\n        initialValue: true,\n        rules: [{\n          required: true,\n          message: 'Please agree the terms and conditions.',\n          transform: function transform(value) {\n            return value || undefined;\n          },\n          type: 'boolean'\n        }]\n      })(__jsx(Checkbox, {\n        style: {\n          marginBottom: 0\n        },\n        versions: ['dark'],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 19\n        }\n      }, \"I agree to\", __jsx(\"strong\", {\n        style: {\n          marginLeft: '4px',\n          marginRight: '4px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 21\n        }\n      }, __jsx(\"i\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 23\n        }\n      }, \"Terms and Conditions\")), \"and\", __jsx(\"strong\", {\n        style: {\n          marginLeft: '4px',\n          marginRight: '4px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 21\n        }\n      }, __jsx(\"i\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 23\n        }\n      }, \"Privacy Policy\")))), __jsx(\"p\", {\n        style: {\n          marginTop: 0\n        },\n        className: \"c-registration__inst\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 17\n        }\n      }, \"Already have an account?\", ' ', __jsx(\"span\", {\n        onClick: function onClick() {\n          drawerToDisplay('login');\n        },\n        className: \"c-registration__link\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 19\n        }\n      }, \"SIGN IN\")))), __jsx(\"div\", {\n        className: \"c-registration__error-block\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 13\n        }\n      }, isLoading && __jsx(Icon, {\n        type: \"loading\",\n        className: \"c-registration__spinner c-spinner\",\n        style: {\n          fontSize: 24\n        },\n        spin: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 17\n        }\n      }), error && __jsx(\"p\", {\n        className: \"c-registration__error\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 25\n        }\n      }, error)), __jsx(\"div\", {\n        className: \"row mb-4\",\n        style: {\n          justifyContent: 'space-around'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 13\n        }\n      }, __jsx(Button, {\n        theme: \"dark\",\n        disabled: isLoading //versions={[\"block\"]}\n        ,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 15\n        }\n      }, \"Register\"))), isAlreadyUser && __jsx(\"div\", {\n        className: \"c-registration__no-form-wrapper\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }\n      }, __jsx(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 13\n        }\n      }), __jsx(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 13\n        }\n      }), __jsx(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 13\n        }\n      }), __jsx(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 13\n        }\n      }), __jsx(\"p\", {\n        className: \"c-registration__inst\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 13\n        }\n      }, \"You can login from\", ' ', __jsx(\"span\", {\n        onClick: function onClick() {\n          drawerToDisplay('login');\n        },\n        className: \"c-registration__link\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 15\n        }\n      }, \"HERE\"))));\n    }\n  }]);\n\n  return RegistrationForm;\n}(React.Component);\n\nvar Registration = Form.create({\n  name: 'registration'\n})(RegistrationForm);\nvar mapActionToProps = {\n  drawerToDisplay: drawerToDisplay,\n  setUser: setUser,\n  toggleRegBar: toggleRegBar\n};\nexport default connect(function (state) {\n  return state;\n}, mapActionToProps)(Registration);\n\nvar _c, _c2, _c3, _c4, _c5, _c6;\n\n$RefreshReg$(_c, \"Heading$dynamic\");\n$RefreshReg$(_c2, \"Heading\");\n$RefreshReg$(_c3, \"Input$dynamic\");\n$RefreshReg$(_c4, \"Input\");\n$RefreshReg$(_c5, \"Checkbox$dynamic\");\n$RefreshReg$(_c6, \"Checkbox\");","map":{"version":3,"sources":["/Users/akshataggarwal/Documents/Coding Files/webd projects/missnew front/components/popups/Registration.js"],"names":["dynamic","Form","Icon","Heading","Input","Checkbox","connect","Button","registerUser","drawerToDisplay","toggleRegBar","setUser","regex","reactComponentDebounce","projectName","DebounceInput","valuePropName","triggerMs","RegistrationForm","e","preventDefault","props","form","validateFields","err","values","email","password","setState","isLoading","error","password2","firstname","lastname","phonenumber","then","res","console","log","status","data","user","endsWith","isAlreadyUser","state","getFieldDecorator","handleSubmit","rules","max","message","required","pattern","padding","fontSize","fontFamily","marginBottom","min","width","paddingTop","initialValue","transform","value","undefined","type","marginLeft","marginRight","marginTop","justifyContent","React","Component","Registration","create","name","mapActionToProps"],"mappings":"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","sourcesContent":["import dynamic from 'next/dynamic';\nimport { Form, Icon } from 'antd';\nconst Heading = dynamic(() => import('../Heading'));\nconst Input = dynamic(() => import('../form-components/Input'));\nconst Checkbox = dynamic(() => import('../form-components/Checkbox'));\nimport { connect } from 'react-redux';\nimport Button from '../form-components/Button';\nimport { registerUser } from '../../services/api';\nimport { drawerToDisplay, toggleRegBar } from '../../redux/actions/drawers';\nimport { setUser } from '../../redux/actions/user';\nimport regex from '../../services/helpers/regex';\nimport reactComponentDebounce from 'react-component-debounce';\nimport { projectName } from '../../constants/projectSettings';\n\nconst DebounceInput = reactComponentDebounce({\n  valuePropName: 'value',\n  triggerMs: 1000,\n})(Input);\n\nclass RegistrationForm extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      isLoading: false,\n      error: null,\n      isAlreadyUser: false,\n    };\n  }\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.props.form.validateFields((err, values) => {\n      if (!err) {\n        //     console.log(\"Received values of form: \", values);\n        const { email, password } = values;\n        this.setState({\n          isLoading: true,\n          error: null,\n        });\n        registerUser({\n          email,\n          password,\n          password2: password,\n          firstname: 'null',\n          lastname: 'null',\n          phonenumber: 'null',\n        })\n          .then((res) => {\n            this.setState({\n              isLoading: false,\n            });\n            console.log({ res });\n            if (res.status === 200) {\n              if (res.data.status) {\n                this.props.setUser(res.data.user);\n                this.props.toggleRegBar();\n              } else {\n                const { error } = res.data;\n                if (error.endsWith('is already taken')) {\n                  this.setState({\n                    isAlreadyUser: true,\n                  });\n                } else {\n                  this.setState({\n                    error: res.data.error,\n                  });\n                }\n              }\n            } else {\n              this.setState({\n                error: 'something wrong',\n              });\n            }\n          })\n          .catch((err) => {\n            console.log({ err });\n            this.setState({\n              isLoading: false,\n              error: 'something wrong',\n            });\n          });\n      }\n    });\n  };\n  render() {\n    const {\n      drawerToDisplay,\n      form: { getFieldDecorator },\n    } = this.props;\n    const { isLoading, error, isAlreadyUser } = this.state;\n    return (\n      <div className=\"c-registration\">\n        <Heading parentClass=\"c-registration\">\n          {isAlreadyUser ? (\n            <span>\n              Looks like you already\n              <br />\n              have an account\n            </span>\n          ) : (\n            `Welcome to ${projectName}!`\n          )}\n        </Heading>\n        {!isAlreadyUser && (\n          <p className=\"c-registration__info\">\n            Fill in your details to create an account\n          </p>\n        )}\n\n        {!isAlreadyUser && (\n          <Form\n            onSubmit={this.handleSubmit}\n            className=\"c-ant-from c-registration__form\"\n          >\n            <Form.Item>\n              {getFieldDecorator('email', {\n                rules: [\n                  {\n                    max: 40,\n                    message: \"You can't use more than 40 characters.\",\n                  },\n                  { required: true, message: 'Please input your e-mail!' },\n\n                  {\n                    pattern: regex.email,\n                    message: 'Please enter a valid E-mail.',\n                  },\n                ],\n              })(\n                <DebounceInput\n                  style={{\n                    padding: '0px',\n                    fontSize: '16px',\n                    fontFamily: 'futuraBT-book',\n                    marginBottom: '20px',\n                  }}\n                  versions={['dark']}\n                  parentClass=\"c-registration\"\n                  label=\"E-mail\"\n                />\n              )}\n            </Form.Item>\n            <Form.Item>\n              {getFieldDecorator('password', {\n                rules: [\n                  { required: true, message: 'Please input your password!' },\n                  {\n                    max: 20,\n                    message: \"You can't use more than 20 characters.\",\n                  },\n                  {\n                    min: 6,\n                    message: 'Minimum 6 characters is require.',\n                  },\n                ],\n              })(\n                <DebounceInput\n                  style={{\n                    padding: '0px',\n                    fontSize: '16px',\n                    fontFamily: 'futuraBT-book',\n                    width: '80%',\n                  }}\n                  type=\"password\"\n                  parentClass=\"c-registration\"\n                  versions={['dark']}\n                  label=\"Password\"\n                />\n              )}\n            </Form.Item>\n\n            <div\n              className=\"c-registration__terms\"\n              style={{ paddingTop: '30px' }}\n            >\n              <Form.Item>\n                {getFieldDecorator('agree', {\n                  valuePropName: 'checked',\n                  initialValue: true,\n                  rules: [\n                    {\n                      required: true,\n                      message: 'Please agree the terms and conditions.',\n                      transform: (value) => value || undefined,\n                      type: 'boolean',\n                    },\n                  ],\n                })(\n                  <Checkbox style={{ marginBottom: 0 }} versions={['dark']}>\n                    I agree to\n                    <strong style={{ marginLeft: '4px', marginRight: '4px' }}>\n                      <i>Terms and Conditions</i>\n                    </strong>\n                    and\n                    <strong style={{ marginLeft: '4px', marginRight: '4px' }}>\n                      <i>Privacy Policy</i>\n                    </strong>\n                  </Checkbox>\n                )}\n                <p style={{ marginTop: 0 }} className=\"c-registration__inst\">\n                  Already have an account?{' '}\n                  <span\n                    onClick={() => {\n                      drawerToDisplay('login');\n                    }}\n                    className=\"c-registration__link\"\n                  >\n                    SIGN IN\n                  </span>\n                </p>\n              </Form.Item>\n            </div>\n            <div className=\"c-registration__error-block\">\n              {isLoading && (\n                <Icon\n                  type=\"loading\"\n                  className=\"c-registration__spinner c-spinner\"\n                  style={{ fontSize: 24 }}\n                  spin\n                />\n              )}\n              {error && <p className=\"c-registration__error\">{error}</p>}\n            </div>\n            <div\n              className=\"row mb-4\"\n              style={{ justifyContent: 'space-around' }}\n            >\n              <Button\n                theme=\"dark\"\n                disabled={isLoading}\n                //versions={[\"block\"]}\n              >\n                Register\n              </Button>\n            </div>\n          </Form>\n        )}\n        {isAlreadyUser && (\n          <div className=\"c-registration__no-form-wrapper\">\n            <br />\n            <br />\n            <br />\n            <br />\n            <p className=\"c-registration__inst\">\n              You can login from{' '}\n              <span\n                onClick={() => {\n                  drawerToDisplay('login');\n                }}\n                className=\"c-registration__link\"\n              >\n                HERE\n              </span>\n            </p>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nconst Registration = Form.create({ name: 'registration' })(RegistrationForm);\nconst mapActionToProps = {\n  drawerToDisplay,\n  setUser,\n  toggleRegBar,\n};\nexport default connect((state) => state, mapActionToProps)(Registration);\n"]},"metadata":{},"sourceType":"module"}