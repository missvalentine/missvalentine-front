{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/akshataggarwal/Documents/Coding Files/webd projects/missvalentine-front/components/nav.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport dynamic from 'next/dynamic';\nimport React, { useState, useRef } from 'react';\nimport { connect } from 'react-redux';\nimport Link from 'next/link';\nimport Router from 'next/router';\nimport classNames from 'classnames';\nimport './styles/app.scss';\nvar Drawer = dynamic(_c = function _c() {\n  return import('./Drawer');\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('./Drawer')];\n    },\n    modules: ['./Drawer']\n  }\n});\n_c2 = Drawer;\nvar CartDrawer = dynamic(_c3 = function _c3() {\n  return import('./CartDrawer');\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('./CartDrawer')];\n    },\n    modules: ['./CartDrawer']\n  }\n});\n_c4 = CartDrawer;\nimport { toggleCartBar, hideCartBar, toggleRegBar } from '../redux/actions/drawers';\nimport { unsetUser } from '../redux/actions/user';\nimport { clearCart } from '../redux/actions/cart';\nvar Registration = dynamic(_c5 = function _c5() {\n  return import('./popups/Registration');\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('./popups/Registration')];\n    },\n    modules: ['./popups/Registration']\n  }\n});\n_c6 = Registration;\nvar ForgetPassword = dynamic(_c7 = function _c7() {\n  return import('./popups/ForgetPassword');\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('./popups/ForgetPassword')];\n    },\n    modules: ['./popups/ForgetPassword']\n  }\n});\n_c8 = ForgetPassword;\nvar Login = dynamic(_c9 = function _c9() {\n  return import('./popups/Login');\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('./popups/Login')];\n    },\n    modules: ['./popups/Login']\n  }\n});\n_c10 = Login;\nimport { Menu, Dropdown } from 'antd';\nvar Input = dynamic(_c11 = function _c11() {\n  return import('./form-components/Input');\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('./form-components/Input')];\n    },\n    modules: ['./form-components/Input']\n  }\n});\n_c12 = Input;\nimport CartIcon from './CartIcon';\nimport { SearchOutlined } from '@ant-design/icons';\nimport apiList from '../services/apis/apiList';\nimport { getVisibleProducts, addSlugToProduct, getProductTitle, getProductShortDesc, getBasicPrice } from '../services/helpers/product';\nimport projectSettings from '../constants/projectSettings';\nimport CartItem from './CartItem';\nimport { numberFormat } from '../services/helpers/misc';\nvar SubMenu = Menu.SubMenu;\n\nvar Nav = function Nav(_ref) {\n  _s();\n\n  var _classNames;\n\n  var parent = _ref.parent,\n      items = _ref.items,\n      isRight = _ref.isRight,\n      isCartOpen = _ref.isCartOpen,\n      toggleCartBar = _ref.toggleCartBar,\n      hideCartBar = _ref.hideCartBar,\n      toggleRegBar = _ref.toggleRegBar,\n      isRegOpen = _ref.isRegOpen,\n      loginDisplay = _ref.loginDisplay,\n      user = _ref.user,\n      unsetUser = _ref.unsetUser,\n      clearCart = _ref.clearCart,\n      props = _ref.props;\n  var inputEl = useRef(null);\n\n  var _useState = useState(false),\n      isOpen = _useState[0],\n      setOpen = _useState[1];\n\n  var _useState2 = useState(''),\n      search = _useState2[0],\n      setSearch = _useState2[1];\n\n  var _useState3 = useState(false),\n      display = _useState3[0],\n      setDisplay = _useState3[1];\n\n  var _useState4 = useState([]),\n      products = _useState4[0],\n      setProducts = _useState4[1]; // const [isCartOpen, setIsCartOpen] = useState(false)\n\n\n  var _onClick = function onClick(e, action) {\n    if (action === 'link') {}\n\n    if (action === 'cart') {\n      toggleCartBar(); // setIsCartOpen(!isCartOpen)\n    }\n\n    if (action === 'reg') {\n      toggleRegBar();\n    }\n\n    if (action === 'logout') {\n      // console.log(props);\n      unsetUser();\n      localStorage.clear();\n      clearCart(); //  console.log(\"after logout\",props);\n\n      Router.push('/');\n    } // if(action==='search'){\n    // }\n\n  }; // useEffect(()=> {\n  //   $(inputEl.current).hover(()=> {\n  //     $(this).css(\"background\", \"red\")\n  //   })\n  // })\n\n\n  var onSubmit = function onSubmit(e) {\n    //console.log(`${window.location.origin}/search/${search}`);\n    // window.location.href(`${window.location.origin}/search/${search}`)\n    if (e.key === 'Enter') {\n      Router.push(\"/search/\".concat(search));\n    }\n  }; // console.log(display);\n\n\n  var menu = __jsx(\"div\", {\n    className: \"search-container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 5\n    }\n  }, __jsx(Menu, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    style: {\n      marginTop: '40px'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }), products.length > 0 ? products.map(function (product, i) {\n    return __jsx(Menu.Item, {\n      style: {\n        height: 'fit-content'\n      },\n      key: i,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 13\n      }\n    }, __jsx(\"div\", {\n      className: \"c-cart-drawer\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 15\n      }\n    }, __jsx(CartItem, {\n      key: i,\n      title: product.title,\n      image: product.image,\n      subTitle: product.totalcbdmg,\n      price: \"$\".concat(numberFormat(parseFloat(product.price.sale_price))),\n      isSearch: true,\n      clearSearch: function clearSearch() {\n        setDisplay(false);\n        setSearch('');\n        setProducts([]);\n        Router.push(\"/shop/\".concat(product.title.replace(/ /g, '-')));\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }\n    })));\n  }) : __jsx(SubMenu, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 11\n    }\n  }, __jsx(\"h2\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }\n  }, \"No records found\"))));\n\n  var filterProducts = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(value) {\n      var res, productList, visibleProducts, newList, productsRow, applySearch;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setSearch(value);\n\n              if (!(value === '')) {\n                _context.next = 5;\n                break;\n              }\n\n              setDisplay(false);\n              setProducts([]);\n              return _context.abrupt(\"return\");\n\n            case 5:\n              setDisplay(true);\n              _context.next = 8;\n              return fetch(apiList.getAllProducts);\n\n            case 8:\n              res = _context.sent;\n              _context.next = 11;\n              return res.json();\n\n            case 11:\n              productList = _context.sent;\n              visibleProducts = getVisibleProducts(productList.products);\n              newList = visibleProducts.map(function (el) {\n                return addSlugToProduct(el);\n              });\n              productsRow = newList.map(function (el) {\n                return _objectSpread(_objectSpread({}, el), {}, {\n                  image: el.productImage ? projectSettings.serverUrl + el.productImage : '//via.placeholder.com/300x500',\n                  title: getProductTitle(el),\n                  subTitle: getProductShortDesc(el),\n                  price: getBasicPrice(el),\n                  qty: 1\n                });\n              });\n              applySearch = productsRow.filter(function (el) {\n                if (value === '') return false;\n                return el.title.toLowerCase().includes(value.toLowerCase());\n              }); // console.log(applySearch);\n\n              setProducts(applySearch);\n\n            case 17:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function filterProducts(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  console.log(user);\n  return __jsx(\"nav\", {\n    // onMouseOver={(element) => {\n    //   setOpen(true);\n    // }} onMouseOut={() => {setOpen(false)}}\n    className: classNames('c-nav', (_classNames = {}, _defineProperty(_classNames, \"\".concat(parent, \"__nav\"), parent), _defineProperty(_classNames, \"c-nav--right\", isRight), _classNames)),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 5\n    }\n  }, __jsx(\"ul\", {\n    className: \"c-nav__list\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 7\n    }\n  }, items.map(function (el, ind) {\n    return __jsx(\"li\", {\n      ref: inputEl,\n      key: ind,\n      className: classNames('c-nav__list-item', {\n        'c-nav__list-item--has-sub-menu': el.subMenus\n      }),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 11\n      }\n    }, el.link ? __jsx(Link, {\n      as: el.as || el.link,\n      href: el.link,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 15\n      }\n    }, __jsx(\"a\", {\n      onClick: function onClick(e) {\n        _onClick(e, el.action);\n      },\n      className: classNames('c-nav__link', {\n        'c-nav__link sub-menu': el.subMenus\n      }),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 17\n      }\n    }, el.label, el.icon)) : __jsx(\"span\", {\n      onClick: function onClick(e) {\n        _onClick(e, el.action);\n      },\n      className: \"c-nav__link\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 15\n      }\n    }, el.label, el.icon, el.isCart && __jsx(CartIcon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 31\n      }\n    })), el.subMenus && // <ul className=\"c-nav__sub-menu\">\n    __jsx(\"div\", {\n      className: \"sidebar\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 15\n      }\n    }, __jsx(\"div\", {\n      className: \"sidebarLeftDiv\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 17\n      }\n    }, __jsx(\"ul\", {\n      style: {\n        listStyleType: 'none'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 19\n      }\n    }, el.subMenus.map(function (elx, i) {\n      return (// <Flip key={i} left opposite when={isOpen}>\n        //   <li className=\"c-nav__sub-menu-item\">\n        //     <Link as={elx.as || elx.link} href={elx.link}>\n        //       <a className=\"c-nav__link c-nav__link--sub\">\n        //         {elx.label}\n        //       </a>\n        //     </Link>\n        //   </li>\n        // </Flip>\n        __jsx(\"li\", {\n          style: {\n            margin: '30px 20px'\n          },\n          key: i,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 23\n          }\n        }, __jsx(Link, {\n          as: elx.as || elx.link,\n          href: elx.link,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 25\n          }\n        }, __jsx(\"a\", {\n          className: \"c-nav__link c-nav__link--sub\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 27\n          }\n        }, elx.label)))\n      );\n    })))));\n  })), __jsx(Drawer, {\n    onClose: hideCartBar,\n    versions: ['cart'],\n    title: \"Cart\",\n    visible: isCartOpen,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 7\n    }\n  }, __jsx(CartDrawer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 9\n    }\n  })), __jsx(Drawer, {\n    onClose: toggleRegBar,\n    title: loginDisplay === 'register' ? 'Register' : 'Login',\n    visible: isRegOpen,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 7\n    }\n  }, loginDisplay === 'register' && __jsx(Registration, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 41\n    }\n  }), loginDisplay === 'login' && __jsx(Login, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 38\n    }\n  }), loginDisplay === 'forget' && __jsx(ForgetPassword, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 39\n    }\n  })));\n};\n\n_s(Nav, \"sTnQJgbbm3h9RQnUzlYQCyMH2sU=\");\n\n_c13 = Nav;\nNav.defaultProps = {\n  items: []\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    isCartOpen: state.drawers.isCartOpen,\n    isRegOpen: state.drawers.isRegOpen,\n    loginDisplay: state.drawers.toDisplay,\n    user: state.user\n  };\n};\n\nexport default connect(mapStateToProps, {\n  toggleCartBar: toggleCartBar,\n  hideCartBar: hideCartBar,\n  toggleRegBar: toggleRegBar,\n  unsetUser: unsetUser,\n  clearCart: clearCart\n})(Nav);\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13;\n\n$RefreshReg$(_c, \"Drawer$dynamic\");\n$RefreshReg$(_c2, \"Drawer\");\n$RefreshReg$(_c3, \"CartDrawer$dynamic\");\n$RefreshReg$(_c4, \"CartDrawer\");\n$RefreshReg$(_c5, \"Registration$dynamic\");\n$RefreshReg$(_c6, \"Registration\");\n$RefreshReg$(_c7, \"ForgetPassword$dynamic\");\n$RefreshReg$(_c8, \"ForgetPassword\");\n$RefreshReg$(_c9, \"Login$dynamic\");\n$RefreshReg$(_c10, \"Login\");\n$RefreshReg$(_c11, \"Input$dynamic\");\n$RefreshReg$(_c12, \"Input\");\n$RefreshReg$(_c13, \"Nav\");","map":{"version":3,"sources":["/Users/akshataggarwal/Documents/Coding Files/webd projects/missvalentine-front/components/nav.js"],"names":["dynamic","React","useState","useRef","connect","Link","Router","classNames","Drawer","CartDrawer","toggleCartBar","hideCartBar","toggleRegBar","unsetUser","clearCart","Registration","ForgetPassword","Login","Menu","Dropdown","Input","CartIcon","SearchOutlined","apiList","getVisibleProducts","addSlugToProduct","getProductTitle","getProductShortDesc","getBasicPrice","projectSettings","CartItem","numberFormat","SubMenu","Nav","parent","items","isRight","isCartOpen","isRegOpen","loginDisplay","user","props","inputEl","isOpen","setOpen","search","setSearch","display","setDisplay","products","setProducts","onClick","e","action","localStorage","clear","push","onSubmit","key","menu","marginTop","length","map","product","i","height","title","image","totalcbdmg","parseFloat","price","sale_price","replace","filterProducts","value","fetch","getAllProducts","res","json","productList","visibleProducts","newList","el","productsRow","productImage","serverUrl","subTitle","qty","applySearch","filter","toLowerCase","includes","console","log","ind","subMenus","link","as","label","icon","isCart","listStyleType","elx","margin","defaultProps","mapStateToProps","state","drawers","toDisplay"],"mappings":"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","sourcesContent":["import dynamic from 'next/dynamic';\nimport React, { useState, useRef } from 'react';\nimport { connect } from 'react-redux';\nimport Link from 'next/link';\nimport Router from 'next/router';\nimport classNames from 'classnames';\nimport './styles/app.scss';\nconst Drawer = dynamic(() => import('./Drawer'));\nconst CartDrawer = dynamic(() => import('./CartDrawer'));\nimport {\n  toggleCartBar,\n  hideCartBar,\n  toggleRegBar,\n} from '../redux/actions/drawers';\nimport { unsetUser } from '../redux/actions/user';\nimport { clearCart } from '../redux/actions/cart';\nconst Registration = dynamic(() => import('./popups/Registration'));\nconst ForgetPassword = dynamic(() => import('./popups/ForgetPassword'));\nconst Login = dynamic(() => import('./popups/Login'));\nimport { Menu, Dropdown } from 'antd';\nconst Input = dynamic(() => import('./form-components/Input'));\nimport CartIcon from './CartIcon';\nimport { SearchOutlined } from '@ant-design/icons';\nimport apiList from '../services/apis/apiList';\nimport {\n  getVisibleProducts,\n  addSlugToProduct,\n  getProductTitle,\n  getProductShortDesc,\n  getBasicPrice,\n} from '../services/helpers/product';\nimport projectSettings from '../constants/projectSettings';\nimport CartItem from './CartItem';\nimport { numberFormat } from '../services/helpers/misc';\nconst { SubMenu } = Menu;\nconst Nav = ({\n  parent,\n  items,\n  isRight,\n  isCartOpen,\n  toggleCartBar,\n  hideCartBar,\n  toggleRegBar,\n  isRegOpen,\n  loginDisplay,\n  user,\n  unsetUser,\n  clearCart,\n  props,\n}) => {\n  const inputEl = useRef(null);\n  const [isOpen, setOpen] = useState(false);\n  const [search, setSearch] = useState('');\n  const [display, setDisplay] = useState(false);\n  const [products, setProducts] = useState([]);\n\n  // const [isCartOpen, setIsCartOpen] = useState(false)\n  const onClick = (e, action) => {\n    if (action === 'link') {\n    }\n    if (action === 'cart') {\n      toggleCartBar();\n      // setIsCartOpen(!isCartOpen)\n    }\n    if (action === 'reg') {\n      toggleRegBar();\n    }\n    if (action === 'logout') {\n      // console.log(props);\n\n      unsetUser();\n      localStorage.clear();\n      clearCart();\n      //  console.log(\"after logout\",props);\n      Router.push('/');\n    }\n    // if(action==='search'){\n\n    // }\n  };\n  // useEffect(()=> {\n  //   $(inputEl.current).hover(()=> {\n  //     $(this).css(\"background\", \"red\")\n  //   })\n  // })\n  const onSubmit = (e) => {\n    //console.log(`${window.location.origin}/search/${search}`);\n    // window.location.href(`${window.location.origin}/search/${search}`)\n    if (e.key === 'Enter') {\n      Router.push(`/search/${search}`);\n    }\n  };\n\n  // console.log(display);\n\n  const menu = (\n    <div className=\"search-container\">\n      <Menu>\n        <div style={{ marginTop: '40px' }}></div>\n        {products.length > 0 ? (\n          products.map((product, i) => (\n            <Menu.Item style={{ height: 'fit-content' }} key={i}>\n              <div className=\"c-cart-drawer\">\n                <CartItem\n                  key={i}\n                  title={product.title}\n                  image={product.image}\n                  subTitle={product.totalcbdmg}\n                  price={`$${numberFormat(\n                    parseFloat(product.price.sale_price)\n                  )}`}\n                  isSearch={true}\n                  clearSearch={() => {\n                    setDisplay(false);\n                    setSearch('');\n                    setProducts([]);\n                    Router.push(`/shop/${product.title.replace(/ /g, '-')}`);\n                  }}\n                />\n              </div>\n            </Menu.Item>\n          ))\n        ) : (\n          <SubMenu>\n            <h2>No records found</h2>\n          </SubMenu>\n        )}\n      </Menu>\n    </div>\n  );\n\n  const filterProducts = async (value) => {\n    setSearch(value);\n    if (value === '') {\n      setDisplay(false);\n      setProducts([]);\n      return;\n    }\n    setDisplay(true);\n    const res = await fetch(apiList.getAllProducts);\n    const productList = await res.json();\n    const visibleProducts = getVisibleProducts(productList.products);\n    const newList = visibleProducts.map((el) => addSlugToProduct(el));\n    const productsRow = newList.map((el) => {\n      return {\n        ...el,\n        image: el.productImage\n          ? projectSettings.serverUrl + el.productImage\n          : '//via.placeholder.com/300x500',\n        title: getProductTitle(el),\n        subTitle: getProductShortDesc(el),\n        price: getBasicPrice(el),\n        qty: 1,\n      };\n    });\n    const applySearch = productsRow.filter((el) => {\n      if (value === '') return false;\n      return el.title.toLowerCase().includes(value.toLowerCase());\n    });\n    // console.log(applySearch);\n    setProducts(applySearch);\n  };\n  console.log(user);\n  return (\n    <nav\n      // onMouseOver={(element) => {\n      //   setOpen(true);\n      // }} onMouseOut={() => {setOpen(false)}}\n      className={classNames('c-nav', {\n        [`${parent}__nav`]: parent,\n        [`c-nav--right`]: isRight,\n      })}\n    >\n      <ul className=\"c-nav__list\">\n        {items.map((el, ind) => (\n          <li\n            ref={inputEl}\n            key={ind}\n            className={classNames('c-nav__list-item', {\n              'c-nav__list-item--has-sub-menu': el.subMenus,\n            })}\n          >\n            {el.link ? (\n              <Link as={el.as || el.link} href={el.link}>\n                <a\n                  onClick={(e) => {\n                    onClick(e, el.action);\n                  }}\n                  className={classNames('c-nav__link', {\n                    'c-nav__link sub-menu': el.subMenus,\n                  })}\n                >\n                  {el.label}\n                  {el.icon}\n                </a>\n              </Link>\n            ) : (\n              <span\n                onClick={(e) => {\n                  onClick(e, el.action);\n                }}\n                className=\"c-nav__link\"\n              >\n                {el.label}\n                {el.icon}\n                {el.isCart && <CartIcon />}\n              </span>\n            )}\n            {el.subMenus && (\n              // <ul className=\"c-nav__sub-menu\">\n              <div className=\"sidebar\">\n                <div className=\"sidebarLeftDiv\">\n                  <ul style={{ listStyleType: 'none' }}>\n                    {el.subMenus.map((elx, i) => (\n                      // <Flip key={i} left opposite when={isOpen}>\n                      //   <li className=\"c-nav__sub-menu-item\">\n                      //     <Link as={elx.as || elx.link} href={elx.link}>\n                      //       <a className=\"c-nav__link c-nav__link--sub\">\n                      //         {elx.label}\n                      //       </a>\n                      //     </Link>\n                      //   </li>\n                      // </Flip>\n\n                      <li style={{ margin: '30px 20px' }} key={i}>\n                        <Link as={elx.as || elx.link} href={elx.link}>\n                          <a className=\"c-nav__link c-nav__link--sub\">\n                            {elx.label}\n                          </a>\n                        </Link>\n                      </li>\n                    ))}\n                  </ul>\n                </div>\n              </div>\n            )}\n          </li>\n        ))}\n      </ul>\n      <Drawer\n        onClose={hideCartBar}\n        versions={['cart']}\n        title=\"Cart\"\n        visible={isCartOpen}\n      >\n        <CartDrawer />\n      </Drawer>\n      <Drawer\n        onClose={toggleRegBar}\n        title={loginDisplay === 'register' ? 'Register' : 'Login'}\n        visible={isRegOpen}\n      >\n        {loginDisplay === 'register' && <Registration />}\n        {loginDisplay === 'login' && <Login />}\n        {loginDisplay === 'forget' && <ForgetPassword />}\n      </Drawer>\n    </nav>\n  );\n};\n\nNav.defaultProps = {\n  items: [],\n};\nconst mapStateToProps = (state) => ({\n  isCartOpen: state.drawers.isCartOpen,\n  isRegOpen: state.drawers.isRegOpen,\n  loginDisplay: state.drawers.toDisplay,\n  user: state.user,\n});\nexport default connect(mapStateToProps, {\n  toggleCartBar,\n  hideCartBar,\n  toggleRegBar,\n  unsetUser,\n  clearCart,\n})(Nav);\n"]},"metadata":{},"sourceType":"module"}