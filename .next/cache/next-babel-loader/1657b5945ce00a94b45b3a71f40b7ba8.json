{"ast":null,"code":"var _jsxFileName = \"/Users/akshataggarwal/Documents/Coding Files/webd projects/missvalentine-front/pages/blog/index.js\";\nvar __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport dynamic from 'next/dynamic';\nimport React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport _ from \"underscore\";\nimport InfiniteScroll from \"react-infinite-scroller\";\nconst MainSection = dynamic(() => import(\"../../components/blog/MainSection/MainSection\"), {\n  ssr: false,\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak(\"../../components/blog/MainSection/MainSection\")],\n    modules: [\"../../components/blog/MainSection/MainSection\"]\n  }\n});\nconst Layout = dynamic(() => import(\"../../components/Layouts/Layout\"), {\n  ssr: false,\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak(\"../../components/Layouts/Layout\")],\n    modules: [\"../../components/Layouts/Layout\"]\n  }\n});\nconst Article = dynamic(() => import(\"../../components/blog/Article\"), {\n  ssr: false,\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak(\"../../components/blog/Article\")],\n    modules: [\"../../components/blog/Article\"]\n  }\n});\nimport { getBanner } from \"../../services/apis/blog\";\nimport * as actionCreators from \"../../redux/actions/blog\";\nimport parser from \"html-react-parser\";\nimport { Spin } from \"antd\";\nimport { LoadingOutlined } from \"@ant-design/icons\";\nimport { LazyLoadImage } from 'react-lazy-load-image-component';\n\nconst antIcon = __jsx(LoadingOutlined, {\n  style: {\n    fontSize: 50,\n    color: \"black\"\n  },\n  spin: true,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 3\n  }\n});\n\nlet prev = 0;\nlet more = true;\n\nclass BlogPage extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      toggle: false,\n      loading: true,\n      title: \"\",\n      subTitle: \"\",\n      content: \"\",\n      imageUrl: \"\"\n    });\n\n    _defineProperty(this, \"articleClickHandler\", index => {\n      this.props.getArticle(index);\n      this.setState({\n        toggle: true\n      });\n      window.scroll(0, 100);\n    });\n\n    _defineProperty(this, \"navClickHandler\", tag => {\n      this.props.get(0, tag);\n      this.setState({\n        toggle: false\n      });\n    });\n\n    _defineProperty(this, \"backHandler\", () => {\n      this.setState({\n        toggle: false\n      });\n    });\n\n    _defineProperty(this, \"loadItems\", page => {\n      this.props.get(page, this.props.tag).then(() => {\n        if (prev !== this.props.article.length) {\n          prev = this.props.article.length;\n          more = true;\n        } else {\n          more = false;\n        }\n      }).catch(err => console.log(err));\n    });\n\n    _defineProperty(this, \"componentDidMount\", () => {\n      if (this.props.isPersist) {\n        this.props.get(0, this.props.tag);\n      }\n\n      getBanner(\"blog\").then(res => {\n        console.log(res);\n        this.setState({\n          title: res.data.data.bannerTitle,\n          subTitle: res.data.data.subTitle,\n          content: res.data.data.content,\n          imageUrl: res.data.data.image.src,\n          loading: false\n        });\n      });\n      console.log(this.props.article);\n    });\n\n    _defineProperty(this, \"hasmoreHandler\", () => {\n      console.log(\"hasmore\");\n    });\n  }\n\n  render() {\n    const {\n      title,\n      subTitle,\n      imageUrl,\n      content,\n      loading\n    } = this.state;\n    return __jsx(Layout, {\n      title: \"Home\",\n      headerTheme: \"black\",\n      homeLogo: false,\n      pageClass: \"c-home\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 7\n      }\n    }, this.state.toggle ? __jsx(Article, {\n      data: this.props.current,\n      navClickHandler: this.navClickHandler,\n      backHandler: this.backHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }\n    }) : __jsx(React.Fragment, null, __jsx(\"div\", {\n      className: \"main-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 15\n      }\n    }, __jsx(\"div\", {\n      className: \"main-header-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }\n    }, __jsx(LazyLoadImage, {\n      src: imageUrl.replace(\"public\", `${imageUrl}`),\n      alt: \"blog-banner\",\n      className: \"img-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 19\n      }\n    }), __jsx(\"div\", {\n      className: \"main-header-title-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 19\n      }\n    }, parser(title)), __jsx(\"div\", {\n      className: \"main-header-title-primary-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 19\n      }\n    }, parser(subTitle)), __jsx(\"div\", {\n      className: \"main-header-title-secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 19\n      }\n    }, parser(content)))), __jsx(InfiniteScroll, {\n      pageStart: 0,\n      loadMore: this.loadItems.bind(this),\n      hasMore: more,\n      loader: antIcon,\n      threshold: 500,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 15\n      }\n    }, __jsx(MainSection, {\n      articleClickHandler: this.articleClickHandler,\n      navClickHandler: this.navClickHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }\n    }))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    article: state.blog.article,\n    current: state.blog.current,\n    tag: state.blog.currentTag\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    get: (pageNo, tag) => dispatch(actionCreators.get(pageNo, tag)),\n    getArticle: index => dispatch(actionCreators.getArticle(index)),\n    back: () => ({\n      type: CLEAR\n    })\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BlogPage);","map":{"version":3,"sources":["/Users/akshataggarwal/Documents/Coding Files/webd projects/missvalentine-front/pages/blog/index.js"],"names":["dynamic","React","useState","useEffect","connect","_","InfiniteScroll","MainSection","ssr","Layout","Article","getBanner","actionCreators","parser","Spin","LoadingOutlined","LazyLoadImage","antIcon","fontSize","color","prev","more","BlogPage","Component","toggle","loading","title","subTitle","content","imageUrl","index","props","getArticle","setState","window","scroll","tag","get","page","then","article","length","catch","err","console","log","isPersist","res","data","bannerTitle","image","src","render","state","current","navClickHandler","backHandler","replace","loadItems","bind","articleClickHandler","mapStateToProps","blog","currentTag","mapDispatchToProps","dispatch","pageNo","back","type","CLEAR"],"mappings":"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","sourcesContent":["import dynamic from 'next/dynamic'\nimport React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport _ from \"underscore\";\nimport InfiniteScroll from \"react-infinite-scroller\";\nconst MainSection = dynamic(() => import(\"../../components/blog/MainSection/MainSection\"), {\n  ssr: false,\n});\nconst Layout = dynamic(() => import(\"../../components/Layouts/Layout\"), {\n  ssr: false,\n});\nconst Article = dynamic(() => import(\"../../components/blog/Article\"), {\n  ssr: false,\n});\nimport { getBanner } from \"../../services/apis/blog\";\nimport * as actionCreators from \"../../redux/actions/blog\";\nimport parser from \"html-react-parser\";\nimport { Spin } from \"antd\";\nimport { LoadingOutlined } from \"@ant-design/icons\";\nimport { LazyLoadImage } from 'react-lazy-load-image-component';\nconst antIcon = (\n  <LoadingOutlined style={{ fontSize: 50, color: \"black\" }} spin />\n);\nlet prev = 0;\nlet more = true;\nclass BlogPage extends React.Component {\n  state = {\n    toggle: false,\n    loading: true,\n    title: \"\",\n    subTitle: \"\",\n    content: \"\",\n    imageUrl: \"\"\n\n  };\n\n  articleClickHandler = (index) => {\n    this.props.getArticle(index);\n    this.setState({\n      toggle: true,\n    });\n    window.scroll(0,100);\n  };\n  navClickHandler = (tag) => {\n    this.props.get(0, tag);\n    this.setState({\n      toggle: false,\n    });\n  };\n  backHandler = () => {\n    this.setState({ toggle: false });\n  };\n\n  loadItems = (page) => {\n    this.props\n      .get(page, this.props.tag)\n      .then(() => {\n        if (prev !== this.props.article.length) {\n          prev = this.props.article.length;\n          more = true;\n        } else {\n          more = false;\n        }\n      })\n      .catch((err) => console.log(err));\n  };\n\n  componentDidMount = () => {\n    if (this.props.isPersist) {\n      this.props.get(0, this.props.tag);\n    }\n    getBanner(\"blog\").then(res => {\n      console.log(res);\n      this.setState({\n        title: res.data.data.bannerTitle,\n        subTitle: res.data.data.subTitle,\n        content: res.data.data.content,\n        imageUrl: res.data.data.image.src,\n        loading: false\n      });\n    });\n    console.log(this.props.article);\n  };\n  hasmoreHandler = () => {\n    console.log(\"hasmore\");\n  };\n\n  render() {\n    const { title, subTitle, imageUrl, content, loading } = this.state;\n\n\n    return (\n      <Layout\n        title=\"Home\"\n        headerTheme=\"black\"\n        homeLogo={false}\n        pageClass={\"c-home\"}\n      >\n        {this.state.toggle ? (\n          <Article\n            data={this.props.current}\n            navClickHandler={this.navClickHandler}\n            backHandler={this.backHandler}\n          />\n        ) : (\n            <>\n\n              <div className=\"main-header\">\n                {/* <div className=\"main-header-heading\">hims</div> */}\n                <div className=\"main-header-title\">\n                  <LazyLoadImage src={imageUrl.replace(\"public\",`${imageUrl}`)} alt=\"blog-banner\" className=\"img-fluid\" />\n                  <div className=\"main-header-title-primary\">{parser(title)}</div>\n                  <div className=\"main-header-title-primary-2\">{parser(subTitle)}</div>\n                  <div className=\"main-header-title-secondary\">{parser(content)}</div>\n                </div>\n              </div>\n              <InfiniteScroll\n                pageStart={0}\n                loadMore={this.loadItems.bind(this)}\n                hasMore={more}\n                loader={antIcon}\n                threshold={500}\n              >\n                <MainSection\n                  articleClickHandler={this.articleClickHandler}\n                  navClickHandler={this.navClickHandler}\n                />\n              </InfiniteScroll>\n            </>\n          )}\n      </Layout>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    article: state.blog.article,\n    current: state.blog.current,\n    tag: state.blog.currentTag,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    get: (pageNo, tag) => dispatch(actionCreators.get(pageNo, tag)),\n    getArticle: (index) => dispatch(actionCreators.getArticle(index)),\n    back: () => ({ type: CLEAR }),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BlogPage);\n"]},"metadata":{},"sourceType":"module"}