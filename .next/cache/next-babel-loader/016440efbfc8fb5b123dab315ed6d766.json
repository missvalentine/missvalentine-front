{"ast":null,"code":"var _jsxFileName = \"/Users/akshataggarwal/Documents/Coding Files/webd projects/missvalentine-front/components/CategoryProducts.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport dynamic from 'next/dynamic';\nconst Heading = dynamic(() => import('./Heading'), {\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak('./Heading')],\n    modules: ['./Heading']\n  }\n});\nconst Button = dynamic(() => import('./form-components/Button'), {\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak('./form-components/Button')],\n    modules: ['./form-components/Button']\n  }\n});\nimport classNames from 'classnames';\nimport { connect } from 'react-redux';\nimport projectSettings from '../constants/projectSettings';\nimport Flickity from 'react-flickity-component';\nimport Link from 'next/link';\nimport { LazyLoadImage } from 'react-lazy-load-image-component';\nimport { showCartBar } from '../redux/actions/drawers';\nimport Product from './Product';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useState } from 'react';\n\nconst CategoryProducts = (props, {\n  heading,\n  subHeading,\n  showCartBar,\n  bg,\n  btnText\n}) => {\n  const className = classNames('c-category-products', {\n    [`c-category-products--${bg}`]: bg\n  });\n  const {\n    0: activeCategoryIndex,\n    1: setActiveCategoryIndex\n  } = useState(-1);\n\n  const flickityInit = () => {\n    setTimeout(() => {\n      if (flkty) {\n        flkty.on('scroll', progress => {\n          if (!isNaN(progress)) {\n            let pos = `${progress * 80}%`; //  sliderLine.current.style.left = pos\n          }\n        });\n      }\n    }, 200);\n  };\n\n  const flResize = () => {\n    if (flkty) flkty.resize();\n  };\n\n  const onCategoryChange = index => setActiveCategoryIndex(index);\n\n  const products = useSelector(s => s.products);\n  console.log('pro', products);\n  let flkty = undefined;\n  return __jsx(\"div\", {\n    className: className,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"c-category-products__heading-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, __jsx(Heading, {\n    parentClass: \"c-category-products\",\n    versions: ['default', 'upper'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, heading), subHeading && __jsx(Heading, {\n    subHeading: true,\n    parentClass: \"c-category-products\",\n    versions: ['default', 'lft-br'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  }, subHeading)), __jsx(\"div\", {\n    className: \"c-category-products__list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, __jsx(\"span\", {\n    onClick: () => {\n      onCategoryChange(-1);\n    },\n    className: classNames('c-category-products__list-item', {\n      'c-category-products__list-item--active': activeCategoryIndex === -1\n    }),\n    key: 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, \"All\"), products.categories.map((el, i) => {\n    if (el.products.length >= 1) return __jsx(\"span\", {\n      onClick: () => {\n        onCategoryChange(i);\n      },\n      className: classNames('c-category-products__list-item', {\n        'c-category-products__list-item--active': activeCategoryIndex === i\n      }),\n      className: `c-category-products__list-item \n            ${activeCategoryIndex === i && 'c-category-products__list-item--active'}\n                `,\n      key: i,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 15\n      }\n    }, el.name);\n  })), __jsx(\"div\", {\n    className: \"row c-category-products__product-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }\n  }, __jsx(Flickity, {\n    options: {\n      initialIndex: 0,\n      pageDots: false,\n      cellAlign: 'left',\n      contain: true,\n      on: {\n        ready: () => {\n          flickityInit();\n        }\n      }\n    },\n    flickityRef: c => flkty = c,\n    disableImagesLoaded: false,\n    reloadOnUpdate: true,\n    className: \"c-category-products__slider \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }, console.log('poooo', products.categories, activeCategoryIndex), activeCategoryIndex === -1 ? products.products.filter(product => product.hidden === false).map((item, index) => __jsx(Product, _extends({}, props, {\n    key: index,\n    data: item,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 19\n    }\n  }))) : products.categories[activeCategoryIndex].products.filter(product => product.hidden === false).map((item, index) => __jsx(Product, _extends({}, props, {\n    key: index,\n    data: item,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 19\n    }\n  }))))), __jsx(\"div\", {\n    className: \"consult-doc-banner-wrapper\",\n    style: {\n      padding: '0rem 0 0rem 0'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }\n  }, __jsx(Link, {\n    href: \"/products\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 9\n    }\n  }, __jsx(\"button\", {\n    className: \"top-btn\",\n    style: {\n      fontSize: 'x-large',\n      fontWeight: '500'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 11\n    }\n  }, 'SEE ALL PRODUCTS ', \" \\xA0\", __jsx(\"img\", {\n    className: \"top\",\n    style: {\n      height: '20px',\n      marginBottom: '5px'\n    },\n    src: \"/images/right-arrow-32px.png\",\n    alt: \"to-top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 13\n    }\n  })))));\n};\n\nexport default CategoryProducts;","map":{"version":3,"sources":["/Users/akshataggarwal/Documents/Coding Files/webd projects/missvalentine-front/components/CategoryProducts.js"],"names":["dynamic","Heading","Button","classNames","connect","projectSettings","Flickity","Link","LazyLoadImage","showCartBar","Product","useSelector","useDispatch","useState","CategoryProducts","props","heading","subHeading","bg","btnText","className","activeCategoryIndex","setActiveCategoryIndex","flickityInit","setTimeout","flkty","on","progress","isNaN","pos","flResize","resize","onCategoryChange","index","products","s","console","log","undefined","categories","map","el","i","length","name","initialIndex","pageDots","cellAlign","contain","ready","c","filter","product","hidden","item","padding","fontSize","fontWeight","height","marginBottom"],"mappings":"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","sourcesContent":["import dynamic from 'next/dynamic';\nconst Heading = dynamic(() => import('./Heading'));\nconst Button = dynamic(() => import('./form-components/Button'));\nimport classNames from 'classnames';\nimport { connect } from 'react-redux';\nimport projectSettings from '../constants/projectSettings';\nimport Flickity from 'react-flickity-component';\nimport Link from 'next/link';\nimport { LazyLoadImage } from 'react-lazy-load-image-component';\nimport { showCartBar } from '../redux/actions/drawers';\nimport Product from './Product';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useState } from 'react';\nconst CategoryProducts = (\n  props,\n  { heading, subHeading, showCartBar, bg, btnText }\n) => {\n  const className = classNames('c-category-products', {\n    [`c-category-products--${bg}`]: bg,\n  });\n  const [activeCategoryIndex, setActiveCategoryIndex] = useState(-1);\n\n  const flickityInit = () => {\n    setTimeout(() => {\n      if (flkty) {\n        flkty.on('scroll', (progress) => {\n          if (!isNaN(progress)) {\n            let pos = `${progress * 80}%`;\n            //  sliderLine.current.style.left = pos\n          }\n        });\n      }\n    }, 200);\n  };\n  const flResize = () => {\n    if (flkty) flkty.resize();\n  };\n\n  const onCategoryChange = (index) => setActiveCategoryIndex(index);\n\n  const products = useSelector((s) => s.products);\n  console.log('pro', products);\n  let flkty = undefined;\n  return (\n    <div className={className}>\n      <div className=\"c-category-products__heading-wrapper\">\n        <Heading\n          parentClass=\"c-category-products\"\n          versions={['default', 'upper']}\n        >\n          {heading}\n        </Heading>\n        {subHeading && (\n          <Heading\n            subHeading={true}\n            parentClass=\"c-category-products\"\n            versions={['default', 'lft-br']}\n          >\n            {subHeading}\n          </Heading>\n        )}\n      </div>\n      <div className=\"c-category-products__list\">\n        <span\n          onClick={() => {\n            onCategoryChange(-1);\n          }}\n          className={classNames('c-category-products__list-item', {\n            'c-category-products__list-item--active':\n              activeCategoryIndex === -1,\n          })}\n          key={0}\n        >\n          All\n        </span>\n\n        {products.categories.map((el, i) => {\n          if (el.products.length >= 1)\n            return (\n              <span\n                onClick={() => {\n                  onCategoryChange(i);\n                }}\n                className={classNames('c-category-products__list-item', {\n                  'c-category-products__list-item--active':\n                    activeCategoryIndex === i,\n                })}\n                className={`c-category-products__list-item \n            ${activeCategoryIndex === i &&\n              'c-category-products__list-item--active'}\n                `}\n                key={i}\n              >\n                {el.name}\n              </span>\n            );\n        })}\n      </div>\n\n      <div className=\"row c-category-products__product-list\">\n        <Flickity\n          options={{\n            initialIndex: 0,\n            pageDots: false,\n            cellAlign: 'left',\n            contain: true,\n            on: {\n              ready: () => {\n                flickityInit();\n              },\n            },\n          }}\n          flickityRef={(c) => (flkty = c)}\n          disableImagesLoaded={false}\n          reloadOnUpdate={true}\n          className=\"c-category-products__slider \"\n        >\n          {console.log('poooo', products.categories, activeCategoryIndex)}\n          {activeCategoryIndex === -1\n            ? products.products\n                .filter((product) => product.hidden === false)\n                .map((item, index) => (\n                  <Product {...props} key={index} data={item} />\n                ))\n            : products.categories[activeCategoryIndex].products\n                .filter((product) => product.hidden === false)\n                .map((item, index) => (\n                  <Product {...props} key={index} data={item} />\n                ))}\n        </Flickity>\n      </div>\n      <div\n        className=\"consult-doc-banner-wrapper\"\n        style={{ padding: '0rem 0 0rem 0' }}\n      >\n        <Link href=\"/products\">\n          <button\n            className=\"top-btn\"\n            style={{ fontSize: 'x-large', fontWeight: '500' }}\n          >\n            {'SEE ALL PRODUCTS '} &nbsp;\n            <img\n              className=\"top\"\n              style={{ height: '20px', marginBottom: '5px' }}\n              src=\"/images/right-arrow-32px.png\"\n              alt=\"to-top\"\n            />\n          </button>\n        </Link>\n      </div>\n    </div>\n  );\n};\n\nexport default CategoryProducts;\n"]},"metadata":{},"sourceType":"module"}