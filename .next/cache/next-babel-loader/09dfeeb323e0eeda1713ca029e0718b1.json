{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/akshataggarwal/Documents/Coding Files/webd projects/missvalentine-front/pages/products/[id].js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport dynamic from 'next/dynamic';\nvar Layout = dynamic(_c = function _c() {\n  return import('../../components/Layouts/Layout');\n}, {\n  ssr: false,\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('../../components/Layouts/Layout')];\n    },\n    modules: ['../../components/Layouts/Layout']\n  }\n});\n_c2 = Layout;\nvar ProductInfo = dynamic(_c3 = function _c3() {\n  return import('../../components/ProductInfo');\n}, {\n  ssr: false,\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('../../components/ProductInfo')];\n    },\n    modules: ['../../components/ProductInfo']\n  }\n});\n_c4 = ProductInfo;\nvar HImgSection = dynamic(_c5 = function _c5() {\n  return import('../../components/HImgSection');\n}, {\n  ssr: false,\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('../../components/HImgSection')];\n    },\n    modules: ['../../components/HImgSection']\n  }\n});\n_c6 = HImgSection;\nimport { useEffect, useState } from 'react';\nimport { getProductImage, getProductAttributes, getVisibleProducts, getProductDescription } from '../../services/helpers/product';\nvar Heading = dynamic(_c7 = function _c7() {\n  return import('../../components/Heading');\n}, {\n  ssr: false,\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('../../components/Heading')];\n    },\n    modules: ['../../components/Heading']\n  }\n});\n_c8 = Heading;\nvar TitleList = dynamic(_c9 = function _c9() {\n  return import('../../components/TItleList');\n}, {\n  ssr: false,\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('../../components/TItleList')];\n    },\n    modules: ['../../components/TItleList']\n  }\n});\n_c10 = TitleList;\nvar ProductDetailsTab = dynamic(_c11 = function _c11() {\n  return import('../../components/ProductDetailsTab');\n}, {\n  ssr: false,\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('../../components/ProductDetailsTab')];\n    },\n    modules: ['../../components/ProductDetailsTab']\n  }\n});\n_c12 = ProductDetailsTab;\nvar ProductSlider = dynamic(_c13 = function _c13() {\n  return import('../../components/ProductSlider');\n}, {\n  ssr: false,\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('../../components/ProductSlider')];\n    },\n    modules: ['../../components/ProductSlider']\n  }\n});\n_c14 = ProductSlider;\nimport { useRouter } from 'next/router';\nimport { connect } from 'react-redux';\nimport fetch from 'isomorphic-unfetch';\nimport projectSettings from '../../constants/projectSettings';\nimport apiList from '../../services/apis/apiList';\nimport Error from 'next/error';\nvar product = {\n  title: 'CBD Isolate 500 mg'\n};\n\nvar Product = function Product(_ref) {\n  _s();\n\n  var product = _ref.product,\n      allProducts = _ref.allProducts,\n      props = _objectWithoutProperties(_ref, [\"product\", \"allProducts\"]);\n\n  var _useState = useState(false),\n      isScrolled = _useState[0],\n      setIsScrolled = _useState[1];\n\n  useEffect(function () {\n    setIsScrolled(true);\n    document.body.scrollTop = document.documentElement.scrollTop = 0;\n  }, isScrolled);\n  var router = useRouter();\n  var pid = router.query.pid;\n  var state = {\n    productDetails: null,\n    productList: [{\n      title: 'title',\n      subTitle: 'sub title',\n      image: '/images/oil.png'\n    }, {\n      title: 'lorem',\n      subTitle: 'sub title',\n      image: '/images/capsule-img.png'\n    }, {\n      title: 'ipsum',\n      subTitle: 'sub title',\n      image: '/images/cbd-oil.png'\n    }]\n  };\n  var productList = state.productList;\n  var productAttr = getProductAttributes(product, allProducts);\n  var image = getProductImage(product, 'sectionB'); //|| \"/images/cbd-oil.png\"\n\n  var productImage = getProductImage(product) ? projectSettings.serverUrl + getProductImage(product) : '/images/cbd-oil.png';\n\n  if (props.err) {\n    return __jsx(Error, _extends({}, props.err, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 12\n      }\n    }));\n  }\n\n  return __jsx(Layout, {\n    headerTheme: \"black\",\n    fixed: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 5\n    }\n  }, __jsx(ProductInfo, {\n    product: product,\n    reviews: props.reviews,\n    productAttr: productAttr.filter(function (el, i) {\n      return product.combo ? i < 2 : i < 1;\n    }),\n    image: productImage,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }), __jsx(HImgSection, {\n    parentClass: 'c-product-single',\n    version: ['full'],\n    image: projectSettings.filePath + image,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  }, __jsx(Heading, {\n    style: {\n      fontSize: '30px',\n      fontFamily: 'futuraBT-book'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 11\n    }\n  }, getProductDescription(product))), __jsx(\"div\", {\n    className: \"c-product-single__list\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, productAttr.map(function (el, i) {\n    if (product.combo ? i < 2 : i < 1) return null;\n    return __jsx(TitleList, {\n      parentClass: \"c-product-single\",\n      key: i,\n      title: el.title,\n      versions: ['responsive'],\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 15\n      }\n    }, el.description);\n  }))), __jsx(\"div\", {\n    className: \"c-product-single__details-wrapper\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }\n  }, __jsx(ProductDetailsTab, {\n    product: product,\n    reviews: props.reviews,\n    allProducts: allProducts,\n    parentClass: \"c-product-single\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }\n  })), __jsx(\"div\", {\n    className: \"c-product-single__related-section\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"row justify-content-center\",\n    style: {\n      maxWidth: '100%'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"col-md-6\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 11\n    }\n  }, __jsx(Heading, {\n    style: {\n      textAlign: 'center'\n    },\n    versions: ['default', 'upper', 'weight-500'],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }\n  }, \"Accompany with\")), __jsx(\"div\", {\n    className: \"col-12\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 11\n    }\n  }, __jsx(ProductSlider, {\n    parentClass: \"c-product-single\",\n    products: allProducts,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }\n  })))));\n};\n\n_s(Product, \"5k/uRizZCBJxePIr7gfWKnguzi0=\", false, function () {\n  return [useRouter];\n});\n\n_c15 = Product;\n\nProduct.getInitialProps = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref2) {\n    var query, resMain, product, res, productObj, _res, _productObj, reviewRes, reviews, allRes, allProductObj, allProducts;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            query = _ref2.query, resMain = _ref2.res;\n            // const {\n            //     baseUrl\n            // } = projectSettings\n            product = null;\n            _context.next = 4;\n            return fetch(apiList.getProductByName + query.pid);\n\n          case 4:\n            res = _context.sent;\n            _context.next = 7;\n            return res.json();\n\n          case 7:\n            productObj = _context.sent;\n\n            if (productObj.product_details) {\n              _context.next = 18;\n              break;\n            }\n\n            _context.next = 11;\n            return fetch(apiList.getProductById + query.pid);\n\n          case 11:\n            _res = _context.sent;\n            _context.next = 14;\n            return _res.json();\n\n          case 14:\n            _productObj = _context.sent;\n            product = getVisibleProducts([_productObj.product_details]);\n            _context.next = 19;\n            break;\n\n          case 18:\n            product = getVisibleProducts([productObj.product_details]);\n\n          case 19:\n            _context.next = 21;\n            return fetch(apiList.getReviews + productObj.product_details._id);\n\n          case 21:\n            reviewRes = _context.sent;\n            _context.next = 24;\n            return reviewRes.json();\n\n          case 24:\n            reviews = _context.sent;\n            _context.next = 27;\n            return fetch(apiList.getAllProducts);\n\n          case 27:\n            allRes = _context.sent;\n            _context.next = 30;\n            return allRes.json();\n\n          case 30:\n            allProductObj = _context.sent;\n            allProducts = getVisibleProducts(allProductObj.products).filter(function (el) {\n              return el._id !== query.pid;\n            });\n\n            if (!(product.length && product[0] && productObj.status)) {\n              _context.next = 34;\n              break;\n            }\n\n            return _context.abrupt(\"return\", {\n              res: res,\n              product: product.length && product[0],\n              productObj: productObj,\n              allProducts: allProducts,\n              allProductObj: allProductObj,\n              reviews: reviews.reviews\n            });\n\n          case 34:\n            resMain.statusCode = 404;\n            return _context.abrupt(\"return\", {\n              err: {\n                statusCode: 404\n              }\n            });\n\n          case 36:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nexport default connect(function (state) {\n  return {\n    cart: state.cart,\n    user: state.user\n  };\n})(Product);\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13, _c14, _c15;\n\n$RefreshReg$(_c, \"Layout$dynamic\");\n$RefreshReg$(_c2, \"Layout\");\n$RefreshReg$(_c3, \"ProductInfo$dynamic\");\n$RefreshReg$(_c4, \"ProductInfo\");\n$RefreshReg$(_c5, \"HImgSection$dynamic\");\n$RefreshReg$(_c6, \"HImgSection\");\n$RefreshReg$(_c7, \"Heading$dynamic\");\n$RefreshReg$(_c8, \"Heading\");\n$RefreshReg$(_c9, \"TitleList$dynamic\");\n$RefreshReg$(_c10, \"TitleList\");\n$RefreshReg$(_c11, \"ProductDetailsTab$dynamic\");\n$RefreshReg$(_c12, \"ProductDetailsTab\");\n$RefreshReg$(_c13, \"ProductSlider$dynamic\");\n$RefreshReg$(_c14, \"ProductSlider\");\n$RefreshReg$(_c15, \"Product\");","map":{"version":3,"sources":["/Users/akshataggarwal/Documents/Coding Files/webd projects/missvalentine-front/pages/products/[id].js"],"names":["dynamic","Layout","ssr","ProductInfo","HImgSection","useEffect","useState","getProductImage","getProductAttributes","getVisibleProducts","getProductDescription","Heading","TitleList","ProductDetailsTab","ProductSlider","useRouter","connect","fetch","projectSettings","apiList","Error","product","title","Product","allProducts","props","isScrolled","setIsScrolled","document","body","scrollTop","documentElement","router","pid","query","state","productDetails","productList","subTitle","image","productAttr","productImage","serverUrl","err","reviews","filter","el","i","combo","filePath","fontSize","fontFamily","map","description","maxWidth","textAlign","getInitialProps","resMain","res","getProductByName","json","productObj","product_details","getProductById","getReviews","_id","reviewRes","getAllProducts","allRes","allProductObj","products","length","status","statusCode","cart","user"],"mappings":"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","sourcesContent":["import dynamic from 'next/dynamic';\nconst Layout = dynamic(() => import('../../components/Layouts/Layout'), {\n  ssr: false,\n});\nconst ProductInfo = dynamic(() => import('../../components/ProductInfo'), {\n  ssr: false,\n});\nconst HImgSection = dynamic(() => import('../../components/HImgSection'), {\n  ssr: false,\n});\nimport { useEffect, useState } from 'react';\nimport {\n  getProductImage,\n  getProductAttributes,\n  getVisibleProducts,\n  getProductDescription,\n} from '../../services/helpers/product';\nconst Heading = dynamic(() => import('../../components/Heading'), {\n  ssr: false,\n});\nconst TitleList = dynamic(() => import('../../components/TItleList'), {\n  ssr: false,\n});\nconst ProductDetailsTab = dynamic(\n  () => import('../../components/ProductDetailsTab'),\n  {\n    ssr: false,\n  }\n);\nconst ProductSlider = dynamic(() => import('../../components/ProductSlider'), {\n  ssr: false,\n});\nimport { useRouter } from 'next/router';\nimport { connect } from 'react-redux';\nimport fetch from 'isomorphic-unfetch';\nimport projectSettings from '../../constants/projectSettings';\nimport apiList from '../../services/apis/apiList';\nimport Error from 'next/error';\nconst product = {\n  title: 'CBD Isolate 500 mg',\n};\n\nconst Product = ({ product, allProducts, ...props }) => {\n  const [isScrolled, setIsScrolled] = useState(false);\n  useEffect(() => {\n    setIsScrolled(true);\n    document.body.scrollTop = document.documentElement.scrollTop = 0;\n  }, isScrolled);\n  const router = useRouter();\n  const { pid } = router.query;\n\n  const state = {\n    productDetails: null,\n    productList: [\n      {\n        title: 'title',\n        subTitle: 'sub title',\n        image: '/images/oil.png',\n      },\n      {\n        title: 'lorem',\n        subTitle: 'sub title',\n        image: '/images/capsule-img.png',\n      },\n      {\n        title: 'ipsum',\n        subTitle: 'sub title',\n        image: '/images/cbd-oil.png',\n      },\n    ],\n  };\n\n  const { productList } = state;\n  const productAttr = getProductAttributes(product, allProducts);\n  const image = getProductImage(product, 'sectionB'); //|| \"/images/cbd-oil.png\"\n  const productImage = getProductImage(product)\n    ? projectSettings.serverUrl + getProductImage(product)\n    : '/images/cbd-oil.png';\n  if (props.err) {\n    return <Error {...props.err} />;\n  }\n  return (\n    <Layout headerTheme=\"black\" fixed={true}>\n      <ProductInfo\n        product={product}\n        reviews={props.reviews}\n        productAttr={productAttr.filter((el, i) =>\n          product.combo ? i < 2 : i < 1\n        )}\n        image={productImage}\n      ></ProductInfo>\n      <HImgSection\n        parentClass={'c-product-single'}\n        version={['full']}\n        image={projectSettings.filePath + image}\n      >\n        <div>\n          <Heading style={{ fontSize: '30px', fontFamily: 'futuraBT-book' }}>\n            {getProductDescription(product)}\n          </Heading>\n        </div>\n        <div className=\"c-product-single__list\">\n          {productAttr.map((el, i) => {\n            if (product.combo ? i < 2 : i < 1) return null;\n            return (\n              <TitleList\n                parentClass=\"c-product-single\"\n                key={i}\n                title={el.title}\n                versions={['responsive']}\n              >\n                {el.description}\n              </TitleList>\n            );\n          })}\n        </div>\n      </HImgSection>\n      <div className=\"c-product-single__details-wrapper\">\n        <ProductDetailsTab\n          product={product}\n          reviews={props.reviews}\n          allProducts={allProducts}\n          parentClass=\"c-product-single\"\n        />\n      </div>\n      <div className=\"c-product-single__related-section\">\n        <div\n          className=\"row justify-content-center\"\n          style={{ maxWidth: '100%' }}\n        >\n          <div className=\"col-md-6\">\n            <Heading\n              style={{\n                textAlign: 'center',\n              }}\n              versions={['default', 'upper', 'weight-500']}\n            >\n              Accompany with\n            </Heading>\n          </div>\n\n          <div className=\"col-12\">\n            <ProductSlider\n              parentClass=\"c-product-single\"\n              products={allProducts}\n            />\n          </div>\n        </div>\n      </div>\n    </Layout>\n  );\n};\nProduct.getInitialProps = async ({ query, res: resMain }) => {\n  // const {\n  //     baseUrl\n  // } = projectSettings\n  let product = null;\n  const res = await fetch(apiList.getProductByName + query.pid);\n  // const res           = await fetch(apiList.getProductById+query.pid)\n  const productObj = await res.json();\n\n  if (!productObj.product_details) {\n    const res = await fetch(apiList.getProductById + query.pid);\n    const productObj = await res.json();\n    product = getVisibleProducts([productObj.product_details]);\n  } else {\n    product = getVisibleProducts([productObj.product_details]);\n  }\n\n  const reviewRes = await fetch(\n    apiList.getReviews + productObj.product_details._id\n  );\n  const reviews = await reviewRes.json();\n\n  const allRes = await fetch(apiList.getAllProducts);\n  const allProductObj = await allRes.json();\n  const allProducts = getVisibleProducts(allProductObj.products).filter(\n    (el) => el._id !== query.pid\n  );\n  if (product.length && product[0] && productObj.status) {\n    return {\n      res,\n      product: product.length && product[0],\n      productObj,\n      allProducts,\n      allProductObj,\n      reviews: reviews.reviews,\n    };\n  }\n  resMain.statusCode = 404;\n  return {\n    err: {\n      statusCode: 404,\n    },\n  };\n};\nexport default connect((state) => ({\n  cart: state.cart,\n  user: state.user,\n}))(Product);\n"]},"metadata":{},"sourceType":"module"}