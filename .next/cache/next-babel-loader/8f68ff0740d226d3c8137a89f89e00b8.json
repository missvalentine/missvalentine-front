{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\n\nvar _jsxFileName = \"/Users/akshataggarwal/Documents/Coding Files/webd projects/missvalentine-front/pages/category/[cid].js\",\n    _this = this;\n\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport dynamic from 'next/dynamic';\nimport { connect } from 'react-redux';\nvar Layout = dynamic(_c = function _c() {\n  return import('../../components/Layouts/Layout');\n}, {\n  ssr: false,\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('../../components/Layouts/Layout')];\n    },\n    modules: ['../../components/Layouts/Layout']\n  }\n}); // const BundleProducts = dynamic(\n//   () => import(\"../../components/BundleProducts\"),\n//   {\n//     ssr: false,\n//   }\n// );\n\n_c2 = Layout;\nvar Heading = dynamic(_c3 = function _c3() {\n  return import('../../components/Heading');\n}, {\n  ssr: false,\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('../../components/Heading')];\n    },\n    modules: ['../../components/Heading']\n  }\n});\n_c4 = Heading;\nimport apiList from '../../services/apis/apiList';\nvar ProductCard = dynamic(_c5 = function _c5() {\n  return import('../../components/ProductCard');\n}, {\n  ssr: false,\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('../../components/ProductCard')];\n    },\n    modules: ['../../components/ProductCard']\n  }\n});\n_c6 = ProductCard;\nimport { getCategory } from '../../services/apis/blog';\nimport { getProductTitle, getProductShortDesc, getBasicPrice, addSlugToProduct, getVisibleProducts } from '../../services/helpers/product';\nimport projectSettings from '../../constants/projectSettings';\nimport fetch from 'isomorphic-unfetch';\nimport parse from 'html-react-parser';\nimport { LazyLoadImage } from 'react-lazy-load-image-component';\nimport { Spin } from 'antd';\nimport { LoadingOutlined } from '@ant-design/icons';\n\nvar antIcon = __jsx(LoadingOutlined, {\n  style: {\n    fontSize: 50,\n    color: 'black'\n  },\n  spin: true,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 3\n  }\n});\n\nvar Banner = dynamic(_c7 = function _c7() {\n  return import('../../components/Banner');\n}, {\n  ssr: false,\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('../../components/Banner')];\n    },\n    modules: ['../../components/Banner']\n  }\n});\n_c8 = Banner;\n\nvar Category = function Category(_ref) {\n  var productList = _ref.productList,\n      combos = _ref.combos,\n      data = _ref.data,\n      props = _objectWithoutProperties(_ref, [\"productList\", \"combos\", \"data\"]);\n\n  var products = productList.map(function (el) {\n    console.log({\n      price: getBasicPrice(el),\n      el: el\n    });\n    return _objectSpread({\n      image: el.productImage ? projectSettings.serverUrl + el.productImage : '//via.placeholder.com/300x500',\n      title: getProductTitle(el),\n      subTitle: getProductShortDesc(el),\n      price: getBasicPrice(el)\n    }, el);\n  });\n  console.log(data);\n\n  var toTop = function toTop() {\n    window.scrollTo({\n      top: 0,\n      left: 0,\n      behavior: 'smooth'\n    });\n  };\n\n  return __jsx(Layout, {\n    fixed: true,\n    headerTheme: \"black\",\n    logo: data.logo,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"c-category-page \",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, __jsx(Banner // ! temporary images to style\n  , {\n    image: data.image.src,\n    mobileImage: data.image.src // image={`${imageUrl}/Oil-Page-Image.png`}\n    // mobileImage={`${imageUrl}/Oil-Page-Image.png`}\n    ,\n    versions: ['black-heading'] // heading={\n    //   <h2 class=\"c-banner__heading\">\n    //     <span class=\"c-banner__heading__leftSpan\">\n    //       reduce & relieve <br />\n    //     </span>{\" \"}\n    //     <span class=\"c-banner__heading__rightSpan\">your pain.</span>\n    //   </h2>\n    // }\n    ,\n    heading: __jsx(\"h2\", {\n      className: \"c-banner__heading\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }\n    }, parse(data.bannerTitle)),\n    content: __jsx(\"p\", {\n      \"class\": \"c-banner__text-category\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 20\n      }\n    }, parse(data.content)) //content={parser(bannerContent)}\n    ,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }), __jsx(\"div\", {\n    className: \"c-category-page__products-wrapper\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"c-category-page__row row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"col-lg-12 col-md-12 d-flex \",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"c-category-page__heading-wrapper\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 15\n    }\n  }, __jsx(Heading, {\n    parentClass: \"c-category-page\",\n    versions: ['large', 'transform'],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 17\n    }\n  }, parse(data.subTitle)))), products.map(function (el) {\n    return __jsx(\"div\", {\n      key: el._id,\n      className: \"col-lg-4 col-md-6\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 15\n      }\n    }, __jsx(ProductCard, {\n      product: el,\n      versions: ['show-price', 'full-height'],\n      title: el.title,\n      subTitle: el.subTitle,\n      image: el.image,\n      price: el.price && el.price.sale_price,\n      mg: el.totalcbdmg,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }\n    }));\n  }))), combos && combos.length > 1 && __jsx(React.Fragment, null) //  <div className=\"c-category-page__combos-wrapper\">\n  //     <div className=\"c-category-page__row\">\n  //       <div className=\"c-category-page__combos-wrapper-top\">\n  //         <div className=\"\">\n  //           <Heading\n  //             parentClass=\"c-category-page\"\n  //             versions={[\"large\", \"rgt-br\"]}\n  //           >\n  //             {parse(\n  //               '<span style=\"font-size: 60px;line-height:50px;\"><b>Bundles of <br> Awesomeness!</b></span>'\n  //             )}\n  //           </Heading>\n  //         </div>\n  //         <div className=\"\">\n  //           <Heading\n  //             parentClass=\"c-category-page\"\n  //             subHeading={true}\n  //             versions={[\"light\"]}\n  //           >\n  //             {parse(\n  //               '<div><span>Give our bundles a try with our 60-day money-back guarantee. A great way to enjoy premium CBD at an incredible price.<p style=\" margin-top: 20px;\"><b style=\"font-size:30px;\">All bundles are 20% off.</b></p></span></div>'\n  //             )}\n  //           </Heading>\n  //         </div>\n  //       </div>\n  //       <div\n  //       // className=\"c-category-products__bundles\"\n  //       // style={{ marginTop: \"50px\" }}\n  //       >\n  //         <BundleProducts versions={[\"no-padding\", \"h-auto\"]} bg=\"bggrey\" products={combos} />\n  //         <BundleProducts\n  //           versions={[\"no-padding\", \"h-auto\", \"bundles\"]}\n  //           products={combos}\n  //         />\n  //       </div>\n  //     </div>\n  //   </div>\n  ), __jsx(\"div\", {\n    className: \"consult-doc-banner-wrapper\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }\n  }, __jsx(\"button\", {\n    className: \"top-btn\",\n    style: {\n      fontSize: 'x-large'\n    },\n    onClick: function onClick() {\n      return toTop();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 9\n    }\n  }, \"BACK TO TOP\", ' ', __jsx(LazyLoadImage, {\n    className: \"top\",\n    style: {\n      height: '20px',\n      marginBottom: '5px'\n    },\n    src: \"/images/arrow-up.png\",\n    alt: \"to-top\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 11\n    }\n  }))));\n};\n\n_c9 = Category;\n\nCategory.getInitialProps = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref2) {\n    var query, res, productList, visibleProducts, _yield$getCategory, data, _yield$getCategory2, _data, _res, _productList, _visibleProducts, comboRes, comboList, visibleCombo, categoryProduct;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            query = _ref2.query;\n\n            if (!(query.cid.toLowerCase() === 'bundles')) {\n              _context.next = 16;\n              break;\n            }\n\n            _context.next = 4;\n            return fetch(apiList.getAllCombos);\n\n          case 4:\n            res = _context.sent;\n            _context.next = 7;\n            return res.json();\n\n          case 7:\n            productList = _context.sent;\n            visibleProducts = getVisibleProducts(productList.combos);\n            _context.next = 11;\n            return getCategory(query.cid);\n\n          case 11:\n            _yield$getCategory = _context.sent;\n            data = _yield$getCategory.data;\n            return _context.abrupt(\"return\", {\n              category: query.cid,\n              productList: visibleProducts.map(function (el) {\n                return addSlugToProduct(el);\n              }),\n              combos: [],\n              data: data.data\n            });\n\n          case 16:\n            _context.next = 18;\n            return getCategory(query.cid);\n\n          case 18:\n            _yield$getCategory2 = _context.sent;\n            _data = _yield$getCategory2.data;\n            _context.next = 22;\n            return fetch(apiList.getAllProducts);\n\n          case 22:\n            _res = _context.sent;\n            _context.next = 25;\n            return _res.json();\n\n          case 25:\n            _productList = _context.sent;\n            _visibleProducts = getVisibleProducts(_productList.products);\n            _context.next = 29;\n            return fetch(apiList.getAllCombos);\n\n          case 29:\n            comboRes = _context.sent;\n            _context.next = 32;\n            return comboRes.json();\n\n          case 32:\n            comboList = _context.sent;\n            visibleCombo = getVisibleProducts(comboList.combos);\n            categoryProduct = _visibleProducts.filter(function (el) {\n              if (el.categoryid) {\n                if (el.categoryid.constructor === Array) {\n                  return el.categoryid.some(function (elx) {\n                    return elx.categorytitle && elx.categorytitle.toLowerCase() === query.cid.toLowerCase();\n                  });\n                } else if (el.categoryid.categorytitle) {\n                  return el.categoryid.categorytitle.toLowerCase() === query.cid.toLowerCase();\n                }\n              }\n\n              return false;\n            });\n            return _context.abrupt(\"return\", {\n              category: query.cid,\n              productList: categoryProduct.map(function (el) {\n                return addSlugToProduct(el);\n              }),\n              combos: visibleCombo.map(function (el) {\n                return addSlugToProduct(el);\n              }),\n              data: _data.data\n            });\n\n          case 36:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nexport default connect(null)(Category);\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9;\n\n$RefreshReg$(_c, \"Layout$dynamic\");\n$RefreshReg$(_c2, \"Layout\");\n$RefreshReg$(_c3, \"Heading$dynamic\");\n$RefreshReg$(_c4, \"Heading\");\n$RefreshReg$(_c5, \"ProductCard$dynamic\");\n$RefreshReg$(_c6, \"ProductCard\");\n$RefreshReg$(_c7, \"Banner$dynamic\");\n$RefreshReg$(_c8, \"Banner\");\n$RefreshReg$(_c9, \"Category\");","map":{"version":3,"sources":["/Users/akshataggarwal/Documents/Coding Files/webd projects/missvalentine-front/pages/category/[cid].js"],"names":["dynamic","connect","Layout","ssr","Heading","apiList","ProductCard","getCategory","getProductTitle","getProductShortDesc","getBasicPrice","addSlugToProduct","getVisibleProducts","projectSettings","fetch","parse","LazyLoadImage","Spin","LoadingOutlined","antIcon","fontSize","color","Banner","Category","productList","combos","data","props","products","map","el","console","log","price","image","productImage","serverUrl","title","subTitle","toTop","window","scrollTo","top","left","behavior","logo","src","bannerTitle","content","_id","sale_price","totalcbdmg","length","height","marginBottom","getInitialProps","query","cid","toLowerCase","getAllCombos","res","json","visibleProducts","category","getAllProducts","comboRes","comboList","visibleCombo","categoryProduct","filter","categoryid","constructor","Array","some","elx","categorytitle"],"mappings":"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","sourcesContent":["import dynamic from 'next/dynamic';\nimport { connect } from 'react-redux';\nconst Layout = dynamic(() => import('../../components/Layouts/Layout'), {\n  ssr: false,\n});\n// const BundleProducts = dynamic(\n//   () => import(\"../../components/BundleProducts\"),\n//   {\n//     ssr: false,\n//   }\n// );\nconst Heading = dynamic(() => import('../../components/Heading'), {\n  ssr: false,\n});\nimport apiList from '../../services/apis/apiList';\nconst ProductCard = dynamic(() => import('../../components/ProductCard'), {\n  ssr: false,\n});\nimport { getCategory } from '../../services/apis/blog';\nimport {\n  getProductTitle,\n  getProductShortDesc,\n  getBasicPrice,\n  addSlugToProduct,\n  getVisibleProducts,\n} from '../../services/helpers/product';\nimport projectSettings from '../../constants/projectSettings';\nimport fetch from 'isomorphic-unfetch';\nimport parse from 'html-react-parser';\nimport { LazyLoadImage } from 'react-lazy-load-image-component';\nimport { Spin } from 'antd';\nimport { LoadingOutlined } from '@ant-design/icons';\nconst antIcon = (\n  <LoadingOutlined style={{ fontSize: 50, color: 'black' }} spin />\n);\nconst Banner = dynamic(() => import('../../components/Banner'), {\n  ssr: false,\n});\nconst Category = ({ productList, combos, data, ...props }) => {\n  const products = productList.map((el) => {\n    console.log({\n      price: getBasicPrice(el),\n      el,\n    });\n    return {\n      image: el.productImage\n        ? projectSettings.serverUrl + el.productImage\n        : '//via.placeholder.com/300x500',\n      title: getProductTitle(el),\n      subTitle: getProductShortDesc(el),\n      price: getBasicPrice(el),\n      ...el,\n    };\n  });\n  console.log(data);\n  const toTop = () => {\n    window.scrollTo({ top: 0, left: 0, behavior: 'smooth' });\n  };\n  return (\n    <Layout fixed={true} headerTheme=\"black\" logo={data.logo}>\n      {/* <Layout headerVersions={[\"bg-dark\"]} className=\"c-consult-page\" title=\"Category\">  */}\n      <div className=\"c-category-page \">\n        {/*<HImgSection\n\t\t\t\t\tparentClass=\"c-category-page\"\n\t\t\t\t\tversion={[\"full\", \"content-bottom\"]}\n\t\t\t\t\timage={`${imageUrl}/Oil-Page-Image.png`}\n\t\t\t\t>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Heading\n\t\t\t\t\t\t\tparentClass=\"c-category-page\"\n\t\t\t\t\t\t\tversions={[\"lft-br\", \"large\"]}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{parse(bannerTitle)}\n\t\t\t\t\t\t</Heading>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t</div>\n\t\t\t\t</HImgSection> */}\n        <Banner\n          // ! temporary images to style\n          image={data.image.src}\n          mobileImage={data.image.src}\n          // image={`${imageUrl}/Oil-Page-Image.png`}\n          // mobileImage={`${imageUrl}/Oil-Page-Image.png`}\n          versions={['black-heading']}\n          // heading={\n          //   <h2 class=\"c-banner__heading\">\n          //     <span class=\"c-banner__heading__leftSpan\">\n          //       reduce & relieve <br />\n          //     </span>{\" \"}\n          //     <span class=\"c-banner__heading__rightSpan\">your pain.</span>\n          //   </h2>\n          // }\n          heading={\n            <h2 className=\"c-banner__heading\">{parse(data.bannerTitle)}</h2>\n          }\n          content={<p class=\"c-banner__text-category\">{parse(data.content)}</p>}\n          //content={parser(bannerContent)}\n        >\n          {/* <Button\n\t\t\t\t\t\tparentClass=\"c-home\"\n\t\t\t\t\t\ttype=\"link\"\n\t\t\t\t\t\tlink=\"/shop\"\n\t\t\t\t\t\ttheme={\"dark\"}\n\t\t\t\t\t>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t//parser(bannerBtnText)\n\t\t\t\t\t\t<span><b><i>Shop All</i></b></span>\n\t\t\t\t\t\t}\n\t\t\t\t\t</Button> */}\n        </Banner>\n\n        <div className=\"c-category-page__products-wrapper\">\n          <div className=\"c-category-page__row row\">\n            <div className=\"col-lg-12 col-md-12 d-flex \">\n              <div className=\"c-category-page__heading-wrapper\">\n                <Heading\n                  parentClass=\"c-category-page\"\n                  versions={['large', 'transform']}\n                >\n                  {/* Discover\n                                    <br />\n                                    {`our ${props.category} line`} */}\n                  {parse(data.subTitle)}\n                </Heading>\n                {/* {parse(content)} */}\n                {/* <hr /> */}\n              </div>\n            </div>\n            {products.map((el) => (\n              <div key={el._id} className=\"col-lg-4 col-md-6\">\n                <ProductCard\n                  product={el}\n                  versions={['show-price', 'full-height']}\n                  title={el.title}\n                  subTitle={el.subTitle}\n                  image={el.image}\n                  price={el.price && el.price.sale_price}\n                  mg={el.totalcbdmg}\n                />\n              </div>\n            ))}\n          </div>\n        </div>\n        {combos && combos.length > 1 && (\n          <></>\n          //  <div className=\"c-category-page__combos-wrapper\">\n          //     <div className=\"c-category-page__row\">\n          //       <div className=\"c-category-page__combos-wrapper-top\">\n          //         <div className=\"\">\n          //           <Heading\n          //             parentClass=\"c-category-page\"\n          //             versions={[\"large\", \"rgt-br\"]}\n          //           >\n\n          //             {parse(\n          //               '<span style=\"font-size: 60px;line-height:50px;\"><b>Bundles of <br> Awesomeness!</b></span>'\n          //             )}\n          //           </Heading>\n          //         </div>\n          //         <div className=\"\">\n          //           <Heading\n          //             parentClass=\"c-category-page\"\n          //             subHeading={true}\n          //             versions={[\"light\"]}\n          //           >\n\n          //             {parse(\n          //               '<div><span>Give our bundles a try with our 60-day money-back guarantee. A great way to enjoy premium CBD at an incredible price.<p style=\" margin-top: 20px;\"><b style=\"font-size:30px;\">All bundles are 20% off.</b></p></span></div>'\n          //             )}\n          //           </Heading>\n          //         </div>\n          //       </div>\n\n          //       <div\n          //       // className=\"c-category-products__bundles\"\n          //       // style={{ marginTop: \"50px\" }}\n          //       >\n          //         <BundleProducts versions={[\"no-padding\", \"h-auto\"]} bg=\"bggrey\" products={combos} />\n          //         <BundleProducts\n          //           versions={[\"no-padding\", \"h-auto\", \"bundles\"]}\n          //           products={combos}\n          //         />\n          //       </div>\n          //     </div>\n          //   </div>\n        )}\n      </div>\n      <div className=\"consult-doc-banner-wrapper\">\n        <button\n          className=\"top-btn\"\n          style={{ fontSize: 'x-large' }}\n          onClick={() => toTop()}\n        >\n          BACK TO TOP{' '}\n          <LazyLoadImage\n            className=\"top\"\n            style={{ height: '20px', marginBottom: '5px' }}\n            src=\"/images/arrow-up.png\"\n            alt=\"to-top\"\n          />\n        </button>\n      </div>\n    </Layout>\n  );\n};\nCategory.getInitialProps = async ({ query }) => {\n  if (query.cid.toLowerCase() === 'bundles') {\n    const res = await fetch(apiList.getAllCombos);\n    const productList = await res.json();\n    const visibleProducts = getVisibleProducts(productList.combos);\n    const { data } = await getCategory(query.cid);\n\n    return {\n      category: query.cid,\n      productList: visibleProducts.map((el) => addSlugToProduct(el)),\n      combos: [],\n      data: data.data,\n    };\n  } else {\n    const { data } = await getCategory(query.cid);\n    // console.log(data);\n    const res = await fetch(apiList.getAllProducts);\n    const productList = await res.json();\n    const visibleProducts = getVisibleProducts(productList.products);\n\n    const comboRes = await fetch(apiList.getAllCombos);\n    const comboList = await comboRes.json();\n    const visibleCombo = getVisibleProducts(comboList.combos);\n\n    const categoryProduct = visibleProducts.filter((el) => {\n      if (el.categoryid) {\n        if (el.categoryid.constructor === Array) {\n          return el.categoryid.some(\n            (elx) =>\n              elx.categorytitle &&\n              elx.categorytitle.toLowerCase() === query.cid.toLowerCase()\n          );\n        } else if (el.categoryid.categorytitle) {\n          return (\n            el.categoryid.categorytitle.toLowerCase() ===\n            query.cid.toLowerCase()\n          );\n        }\n      }\n      return false;\n    });\n    return {\n      category: query.cid,\n      productList: categoryProduct.map((el) => addSlugToProduct(el)),\n      combos: visibleCombo.map((el) => addSlugToProduct(el)),\n      data: data.data,\n    };\n  }\n};\nexport default connect(null)(Category);\n"]},"metadata":{},"sourceType":"module"}