{"ast":null,"code":"var _jsxFileName = \"/Users/akshataggarwal/Documents/Coding Files/webd projects/missvalentine-front/pages/category/[cid].js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport dynamic from 'next/dynamic';\nimport { connect } from 'react-redux';\nconst Layout = dynamic(() => import('../../components/Layouts/Layout'), {\n  ssr: false,\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak('../../components/Layouts/Layout')],\n    modules: ['../../components/Layouts/Layout']\n  }\n}); // const BundleProducts = dynamic(\n//   () => import(\"../../components/BundleProducts\"),\n//   {\n//     ssr: false,\n//   }\n// );\n\nconst Heading = dynamic(() => import('../../components/Heading'), {\n  ssr: false,\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak('../../components/Heading')],\n    modules: ['../../components/Heading']\n  }\n});\nimport apiList from '../../services/apis/apiList';\nconst ProductCard = dynamic(() => import('../../components/ProductCard'), {\n  ssr: false,\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak('../../components/ProductCard')],\n    modules: ['../../components/ProductCard']\n  }\n});\nimport { getCategory } from '../../services/apis/blog';\nimport { getProductTitle, getProductShortDesc, getBasicPrice, addSlugToProduct, getVisibleProducts } from '../../services/helpers/product';\nimport projectSettings from '../../constants/projectSettings';\nimport fetch from 'isomorphic-unfetch';\nimport parse from 'html-react-parser';\nimport { LazyLoadImage } from 'react-lazy-load-image-component';\nimport { Spin } from 'antd';\nimport { LoadingOutlined } from '@ant-design/icons';\n\nconst antIcon = __jsx(LoadingOutlined, {\n  style: {\n    fontSize: 50,\n    color: 'black'\n  },\n  spin: true,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 3\n  }\n});\n\nconst Banner = dynamic(() => import('../../components/Banner'), {\n  ssr: false,\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak('../../components/Banner')],\n    modules: ['../../components/Banner']\n  }\n});\n\nconst Category = (_ref) => {\n  let {\n    productList,\n    combos,\n    data\n  } = _ref,\n      props = _objectWithoutProperties(_ref, [\"productList\", \"combos\", \"data\"]);\n\n  const products = productList.map(el => {\n    console.log({\n      price: getBasicPrice(el),\n      el\n    });\n    return _objectSpread({\n      image: el.productImage ? projectSettings.serverUrl + el.productImage : '//via.placeholder.com/300x500',\n      title: getProductTitle(el),\n      subTitle: getProductShortDesc(el),\n      price: getBasicPrice(el)\n    }, el);\n  });\n  console.log(data);\n\n  const toTop = () => {\n    window.scrollTo({\n      top: 0,\n      left: 0,\n      behavior: 'smooth'\n    });\n  };\n\n  return __jsx(Layout, {\n    fixed: true,\n    headerTheme: \"black\",\n    logo: data.logo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"c-category-page \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, __jsx(Banner // ! temporary images to style\n  , {\n    image: data.image.src,\n    mobileImage: data.image.src // image={`${imageUrl}/Oil-Page-Image.png`}\n    // mobileImage={`${imageUrl}/Oil-Page-Image.png`}\n    ,\n    versions: ['black-heading'] // heading={\n    //   <h2 class=\"c-banner__heading\">\n    //     <span class=\"c-banner__heading__leftSpan\">\n    //       reduce & relieve <br />\n    //     </span>{\" \"}\n    //     <span class=\"c-banner__heading__rightSpan\">your pain.</span>\n    //   </h2>\n    // }\n    ,\n    heading: __jsx(\"h2\", {\n      className: \"c-banner__heading\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }\n    }, parse(data.bannerTitle)),\n    content: __jsx(\"p\", {\n      class: \"c-banner__text-category\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 20\n      }\n    }, parse(data.content)) //content={parser(bannerContent)}\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }), __jsx(\"div\", {\n    className: \"c-category-page__products-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"c-category-page__row row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"col-lg-12 col-md-12 d-flex \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"c-category-page__heading-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 15\n    }\n  }, __jsx(Heading, {\n    parentClass: \"c-category-page\",\n    versions: ['large', 'transform'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 17\n    }\n  }, parse(data.subTitle)))), products.map(el => __jsx(\"div\", {\n    key: el._id,\n    className: \"col-lg-4 col-md-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 15\n    }\n  }, __jsx(ProductCard, {\n    product: el,\n    versions: ['show-price', 'full-height'],\n    title: el.title,\n    subTitle: el.subTitle,\n    image: el.image,\n    price: el.price && el.price.sale_price,\n    mg: el.totalcbdmg,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 17\n    }\n  }))))), combos && combos.length > 1 && __jsx(React.Fragment, null) //  <div className=\"c-category-page__combos-wrapper\">\n  //     <div className=\"c-category-page__row\">\n  //       <div className=\"c-category-page__combos-wrapper-top\">\n  //         <div className=\"\">\n  //           <Heading\n  //             parentClass=\"c-category-page\"\n  //             versions={[\"large\", \"rgt-br\"]}\n  //           >\n  //             {parse(\n  //               '<span style=\"font-size: 60px;line-height:50px;\"><b>Bundles of <br> Awesomeness!</b></span>'\n  //             )}\n  //           </Heading>\n  //         </div>\n  //         <div className=\"\">\n  //           <Heading\n  //             parentClass=\"c-category-page\"\n  //             subHeading={true}\n  //             versions={[\"light\"]}\n  //           >\n  //             {parse(\n  //               '<div><span>Give our bundles a try with our 60-day money-back guarantee. A great way to enjoy premium CBD at an incredible price.<p style=\" margin-top: 20px;\"><b style=\"font-size:30px;\">All bundles are 20% off.</b></p></span></div>'\n  //             )}\n  //           </Heading>\n  //         </div>\n  //       </div>\n  //       <div\n  //       // className=\"c-category-products__bundles\"\n  //       // style={{ marginTop: \"50px\" }}\n  //       >\n  //         <BundleProducts versions={[\"no-padding\", \"h-auto\"]} bg=\"bggrey\" products={combos} />\n  //         <BundleProducts\n  //           versions={[\"no-padding\", \"h-auto\", \"bundles\"]}\n  //           products={combos}\n  //         />\n  //       </div>\n  //     </div>\n  //   </div>\n  ), __jsx(\"div\", {\n    className: \"consult-doc-banner-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }\n  }, __jsx(\"button\", {\n    className: \"top-btn\",\n    style: {\n      fontSize: 'x-large'\n    },\n    onClick: () => toTop(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 9\n    }\n  }, \"BACK TO TOP\", ' ', __jsx(LazyLoadImage, {\n    className: \"top\",\n    style: {\n      height: '20px',\n      marginBottom: '5px'\n    },\n    src: \"/images/arrow-up.png\",\n    alt: \"to-top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 11\n    }\n  }))));\n};\n\nCategory.getInitialProps = async ({\n  query\n}) => {\n  if (query.cid.toLowerCase() === 'bundles') {\n    const res = await fetch(apiList.getAllCombos);\n    const productList = await res.json();\n    const visibleProducts = getVisibleProducts(productList.combos);\n    const {\n      data\n    } = await getCategory(query.cid);\n    return {\n      category: query.cid,\n      productList: visibleProducts.map(el => addSlugToProduct(el)),\n      combos: [],\n      data: data.data\n    };\n  } else {\n    const {\n      data\n    } = await getCategory(query.cid); // console.log(data);\n\n    const res = await fetch(apiList.getAllProducts);\n    const productList = await res.json();\n    const visibleProducts = getVisibleProducts(productList.products);\n    const comboRes = await fetch(apiList.getAllCombos);\n    const comboList = await comboRes.json();\n    const visibleCombo = getVisibleProducts(comboList.combos);\n    const categoryProduct = visibleProducts.filter(el => {\n      if (el.categoryid) {\n        if (el.categoryid.constructor === Array) {\n          return el.categoryid.some(elx => elx.categorytitle && elx.categorytitle.toLowerCase() === query.cid.toLowerCase());\n        } else if (el.categoryid.categorytitle) {\n          return el.categoryid.categorytitle.toLowerCase() === query.cid.toLowerCase();\n        }\n      }\n\n      return false;\n    });\n    return {\n      category: query.cid,\n      productList: categoryProduct.map(el => addSlugToProduct(el)),\n      combos: visibleCombo.map(el => addSlugToProduct(el)),\n      data: data.data\n    };\n  }\n};\n\nexport default connect(null)(Category);","map":{"version":3,"sources":["/Users/akshataggarwal/Documents/Coding Files/webd projects/missvalentine-front/pages/category/[cid].js"],"names":["dynamic","connect","Layout","ssr","Heading","apiList","ProductCard","getCategory","getProductTitle","getProductShortDesc","getBasicPrice","addSlugToProduct","getVisibleProducts","projectSettings","fetch","parse","LazyLoadImage","Spin","LoadingOutlined","antIcon","fontSize","color","Banner","Category","productList","combos","data","props","products","map","el","console","log","price","image","productImage","serverUrl","title","subTitle","toTop","window","scrollTo","top","left","behavior","logo","src","bannerTitle","content","_id","sale_price","totalcbdmg","length","height","marginBottom","getInitialProps","query","cid","toLowerCase","res","getAllCombos","json","visibleProducts","category","getAllProducts","comboRes","comboList","visibleCombo","categoryProduct","filter","categoryid","constructor","Array","some","elx","categorytitle"],"mappings":"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","sourcesContent":["import dynamic from 'next/dynamic';\nimport { connect } from 'react-redux';\nconst Layout = dynamic(() => import('../../components/Layouts/Layout'), {\n  ssr: false,\n});\n// const BundleProducts = dynamic(\n//   () => import(\"../../components/BundleProducts\"),\n//   {\n//     ssr: false,\n//   }\n// );\nconst Heading = dynamic(() => import('../../components/Heading'), {\n  ssr: false,\n});\nimport apiList from '../../services/apis/apiList';\nconst ProductCard = dynamic(() => import('../../components/ProductCard'), {\n  ssr: false,\n});\nimport { getCategory } from '../../services/apis/blog';\nimport {\n  getProductTitle,\n  getProductShortDesc,\n  getBasicPrice,\n  addSlugToProduct,\n  getVisibleProducts,\n} from '../../services/helpers/product';\nimport projectSettings from '../../constants/projectSettings';\nimport fetch from 'isomorphic-unfetch';\nimport parse from 'html-react-parser';\nimport { LazyLoadImage } from 'react-lazy-load-image-component';\nimport { Spin } from 'antd';\nimport { LoadingOutlined } from '@ant-design/icons';\nconst antIcon = (\n  <LoadingOutlined style={{ fontSize: 50, color: 'black' }} spin />\n);\nconst Banner = dynamic(() => import('../../components/Banner'), {\n  ssr: false,\n});\nconst Category = ({ productList, combos, data, ...props }) => {\n  const products = productList.map((el) => {\n    console.log({\n      price: getBasicPrice(el),\n      el,\n    });\n    return {\n      image: el.productImage\n        ? projectSettings.serverUrl + el.productImage\n        : '//via.placeholder.com/300x500',\n      title: getProductTitle(el),\n      subTitle: getProductShortDesc(el),\n      price: getBasicPrice(el),\n      ...el,\n    };\n  });\n  console.log(data);\n  const toTop = () => {\n    window.scrollTo({ top: 0, left: 0, behavior: 'smooth' });\n  };\n  return (\n    <Layout fixed={true} headerTheme=\"black\" logo={data.logo}>\n      {/* <Layout headerVersions={[\"bg-dark\"]} className=\"c-consult-page\" title=\"Category\">  */}\n      <div className=\"c-category-page \">\n        {/*<HImgSection\n\t\t\t\t\tparentClass=\"c-category-page\"\n\t\t\t\t\tversion={[\"full\", \"content-bottom\"]}\n\t\t\t\t\timage={`${imageUrl}/Oil-Page-Image.png`}\n\t\t\t\t>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Heading\n\t\t\t\t\t\t\tparentClass=\"c-category-page\"\n\t\t\t\t\t\t\tversions={[\"lft-br\", \"large\"]}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{parse(bannerTitle)}\n\t\t\t\t\t\t</Heading>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t</div>\n\t\t\t\t</HImgSection> */}\n        <Banner\n          // ! temporary images to style\n          image={data.image.src}\n          mobileImage={data.image.src}\n          // image={`${imageUrl}/Oil-Page-Image.png`}\n          // mobileImage={`${imageUrl}/Oil-Page-Image.png`}\n          versions={['black-heading']}\n          // heading={\n          //   <h2 class=\"c-banner__heading\">\n          //     <span class=\"c-banner__heading__leftSpan\">\n          //       reduce & relieve <br />\n          //     </span>{\" \"}\n          //     <span class=\"c-banner__heading__rightSpan\">your pain.</span>\n          //   </h2>\n          // }\n          heading={\n            <h2 className=\"c-banner__heading\">{parse(data.bannerTitle)}</h2>\n          }\n          content={<p class=\"c-banner__text-category\">{parse(data.content)}</p>}\n          //content={parser(bannerContent)}\n        >\n          {/* <Button\n\t\t\t\t\t\tparentClass=\"c-home\"\n\t\t\t\t\t\ttype=\"link\"\n\t\t\t\t\t\tlink=\"/shop\"\n\t\t\t\t\t\ttheme={\"dark\"}\n\t\t\t\t\t>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t//parser(bannerBtnText)\n\t\t\t\t\t\t<span><b><i>Shop All</i></b></span>\n\t\t\t\t\t\t}\n\t\t\t\t\t</Button> */}\n        </Banner>\n\n        <div className=\"c-category-page__products-wrapper\">\n          <div className=\"c-category-page__row row\">\n            <div className=\"col-lg-12 col-md-12 d-flex \">\n              <div className=\"c-category-page__heading-wrapper\">\n                <Heading\n                  parentClass=\"c-category-page\"\n                  versions={['large', 'transform']}\n                >\n                  {/* Discover\n                                    <br />\n                                    {`our ${props.category} line`} */}\n                  {parse(data.subTitle)}\n                </Heading>\n                {/* {parse(content)} */}\n                {/* <hr /> */}\n              </div>\n            </div>\n            {products.map((el) => (\n              <div key={el._id} className=\"col-lg-4 col-md-6\">\n                <ProductCard\n                  product={el}\n                  versions={['show-price', 'full-height']}\n                  title={el.title}\n                  subTitle={el.subTitle}\n                  image={el.image}\n                  price={el.price && el.price.sale_price}\n                  mg={el.totalcbdmg}\n                />\n              </div>\n            ))}\n          </div>\n        </div>\n        {combos && combos.length > 1 && (\n          <></>\n          //  <div className=\"c-category-page__combos-wrapper\">\n          //     <div className=\"c-category-page__row\">\n          //       <div className=\"c-category-page__combos-wrapper-top\">\n          //         <div className=\"\">\n          //           <Heading\n          //             parentClass=\"c-category-page\"\n          //             versions={[\"large\", \"rgt-br\"]}\n          //           >\n\n          //             {parse(\n          //               '<span style=\"font-size: 60px;line-height:50px;\"><b>Bundles of <br> Awesomeness!</b></span>'\n          //             )}\n          //           </Heading>\n          //         </div>\n          //         <div className=\"\">\n          //           <Heading\n          //             parentClass=\"c-category-page\"\n          //             subHeading={true}\n          //             versions={[\"light\"]}\n          //           >\n\n          //             {parse(\n          //               '<div><span>Give our bundles a try with our 60-day money-back guarantee. A great way to enjoy premium CBD at an incredible price.<p style=\" margin-top: 20px;\"><b style=\"font-size:30px;\">All bundles are 20% off.</b></p></span></div>'\n          //             )}\n          //           </Heading>\n          //         </div>\n          //       </div>\n\n          //       <div\n          //       // className=\"c-category-products__bundles\"\n          //       // style={{ marginTop: \"50px\" }}\n          //       >\n          //         <BundleProducts versions={[\"no-padding\", \"h-auto\"]} bg=\"bggrey\" products={combos} />\n          //         <BundleProducts\n          //           versions={[\"no-padding\", \"h-auto\", \"bundles\"]}\n          //           products={combos}\n          //         />\n          //       </div>\n          //     </div>\n          //   </div>\n        )}\n      </div>\n      <div className=\"consult-doc-banner-wrapper\">\n        <button\n          className=\"top-btn\"\n          style={{ fontSize: 'x-large' }}\n          onClick={() => toTop()}\n        >\n          BACK TO TOP{' '}\n          <LazyLoadImage\n            className=\"top\"\n            style={{ height: '20px', marginBottom: '5px' }}\n            src=\"/images/arrow-up.png\"\n            alt=\"to-top\"\n          />\n        </button>\n      </div>\n    </Layout>\n  );\n};\nCategory.getInitialProps = async ({ query }) => {\n  if (query.cid.toLowerCase() === 'bundles') {\n    const res = await fetch(apiList.getAllCombos);\n    const productList = await res.json();\n    const visibleProducts = getVisibleProducts(productList.combos);\n    const { data } = await getCategory(query.cid);\n\n    return {\n      category: query.cid,\n      productList: visibleProducts.map((el) => addSlugToProduct(el)),\n      combos: [],\n      data: data.data,\n    };\n  } else {\n    const { data } = await getCategory(query.cid);\n    // console.log(data);\n    const res = await fetch(apiList.getAllProducts);\n    const productList = await res.json();\n    const visibleProducts = getVisibleProducts(productList.products);\n\n    const comboRes = await fetch(apiList.getAllCombos);\n    const comboList = await comboRes.json();\n    const visibleCombo = getVisibleProducts(comboList.combos);\n\n    const categoryProduct = visibleProducts.filter((el) => {\n      if (el.categoryid) {\n        if (el.categoryid.constructor === Array) {\n          return el.categoryid.some(\n            (elx) =>\n              elx.categorytitle &&\n              elx.categorytitle.toLowerCase() === query.cid.toLowerCase()\n          );\n        } else if (el.categoryid.categorytitle) {\n          return (\n            el.categoryid.categorytitle.toLowerCase() ===\n            query.cid.toLowerCase()\n          );\n        }\n      }\n      return false;\n    });\n    return {\n      category: query.cid,\n      productList: categoryProduct.map((el) => addSlugToProduct(el)),\n      combos: visibleCombo.map((el) => addSlugToProduct(el)),\n      data: data.data,\n    };\n  }\n};\nexport default connect(null)(Category);\n"]},"metadata":{},"sourceType":"module"}