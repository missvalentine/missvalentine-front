{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport dynamic from \"next/dynamic\";\nimport React, { useState } from \"react\";\nvar Layout = dynamic(function () {\n  return import(\"../components/Layouts/Layout\");\n}, {\n  ssr: false,\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak(\"../components/Layouts/Layout\")];\n    },\n    modules: [\"../components/Layouts/Layout\"]\n  }\n});\nimport { getProducts } from \"../redux/actions\";\nimport { connect } from \"react-redux\";\nimport { getAllCombos } from \"../services/api\";\nvar ProductRating = dynamic(function () {\n  return import(\"../components/ProductRating\");\n}, {\n  ssr: false,\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak(\"../components/ProductRating\")];\n    },\n    modules: [\"../components/ProductRating\"]\n  }\n});\nimport { projectName } from \"../constants/projectSettings\";\nimport { LazyLoadImage } from \"react-lazy-load-image-component\";\nimport BlankStar from \"../components/review-stars/BlankStar\"; // import BlankStar from \"../components/review-stars/BlankStar\";\n\nimport Button from \"../components/form-components/Button\";\nimport ReviewPageCard from \"../components/ReviewPageCard\";\n\nvar Home = /*#__PURE__*/function (_React$Component) {\n  _inherits(Home, _React$Component);\n\n  var _super = _createSuper(Home);\n\n  function Home(props) {\n    var _this;\n\n    _classCallCheck(this, Home);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"changeCategory\", function (activeCategory) {\n      var products = _this.props.products;\n      console.log({\n        activeCategory: activeCategory,\n        products: products\n      });\n\n      if (activeCategory.title === \"Featured\") {\n        _this.setState({\n          products: products.featured,\n          activeCategory: activeCategory.title\n        });\n      } else if (activeCategory.title === \"All\") {\n        _this.setState({\n          products: products.products,\n          activeCategory: activeCategory.title\n        });\n      } else {\n        var activeCategoryArr = products.categories.find(function (el) {\n          return el.category.categorytitle === activeCategory.title;\n        }) || {};\n\n        _this.setState({\n          products: activeCategoryArr.products,\n          activeCategory: activeCategory.title\n        });\n      }\n    });\n\n    _this.state = {\n      activeCategory: \"Featured\",\n      allProducts: props.products.products || [],\n      products: props.products.featured || [],\n      combos: []\n    };\n    return _this;\n  }\n\n  _createClass(Home, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (prevProps.products.products !== this.props.products.products) {\n        this.changeCategory({\n          title: this.state.activeCategory\n        });\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.props.getProducts();\n      getAllCombos().then(function (res) {\n        console.log({\n          res: res\n        });\n\n        if (res.data && res.data.combos) {\n          _this2.setState({\n            combos: res.data.combos\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          activeCategory = _this$state.activeCategory,\n          products = _this$state.products,\n          combos = _this$state.combos; // const {\n      //   products\n      // } = this.props\n\n      console.log(this.state);\n      return __jsx(Layout, {\n        title: projectName,\n        fixed: true\n      }, __jsx(\"div\", {\n        className: \"c-reviews-page\"\n      }, __jsx(\"div\", {\n        className: \"c-reviews-page__banner\"\n      }, __jsx(\"img\", {\n        src: \"https://cdn.zeplin.io/5f51f07e47716786ed5162f8/assets/807624A0-41F6-46A3-B10E-A3BBED9D8DCE.png\",\n        alt: \"\"\n      }), __jsx(\"img\", {\n        src: \"https://cdn.zeplin.io/5f51f07e47716786ed5162f8/assets/807624A0-41F6-46A3-B10E-A3BBED9D8DCE.png\",\n        alt: \"\"\n      }), __jsx(\"img\", {\n        src: \"https://cdn.zeplin.io/5f51f07e47716786ed5162f8/assets/807624A0-41F6-46A3-B10E-A3BBED9D8DCE.png\",\n        alt: \"\"\n      })), __jsx(\"h2\", {\n        className: \"c-reviews-page__heading\"\n      }, \"reviews\"), __jsx(\"div\", {\n        className: \"c-reviews-page__main-landing\"\n      }, __jsx(\"div\", {\n        className: \"c-reviews-page__main-landing--leftSpan\"\n      }, __jsx(\"h2\", {\n        className: \"c-reviews-page__main-landing--leftSpan-heading\"\n      }, \"What our clients think about us\"), __jsx(\"div\", {\n        className: \"review-stars\"\n      }, __jsx(BlankStar, {\n        fill: \"white\"\n      }), __jsx(BlankStar, null), __jsx(BlankStar, null), __jsx(BlankStar, {\n        fill: \"black\"\n      }), __jsx(BlankStar, null)), __jsx(\"div\", {\n        className: \"review-count\"\n      }, \"12 reviews (9.7)\")), __jsx(\"div\", {\n        className: \"c-reviews-page__main-landing--rightSpan\"\n      }, __jsx(Button, {\n        parentClass: \"c-reviews-page\",\n        type: \"link\",\n        link: \"/\",\n        theme: \"dark\"\n      }, \"Write a review\"), __jsx(\"div\", {\n        className: \"reviews-filter\"\n      }, __jsx(\"div\", {\n        className: \"reviews-filter-container reviews-filter-5\"\n      }, __jsx(\"div\", null, __jsx(BlankStar, {\n        fill: \"black\"\n      }), __jsx(BlankStar, {\n        fill: \"black\"\n      }), __jsx(BlankStar, {\n        fill: \"black\"\n      }), __jsx(BlankStar, {\n        fill: \"black\"\n      }), __jsx(BlankStar, {\n        fill: \"black\"\n      })), __jsx(\"h2\", null, \"(120)\")), __jsx(\"div\", {\n        className: \"reviews-filter-container reviews-filter-4\"\n      }, __jsx(\"div\", null, __jsx(BlankStar, {\n        fill: \"black\"\n      }), __jsx(BlankStar, {\n        fill: \"black\"\n      }), __jsx(BlankStar, {\n        fill: \"black\"\n      }), __jsx(BlankStar, {\n        fill: \"black\"\n      })), __jsx(\"h2\", null, \"(80)\")), __jsx(\"div\", {\n        className: \"reviews-filter-container reviews-filter-3\"\n      }, __jsx(\"div\", null, __jsx(BlankStar, {\n        fill: \"black\"\n      }), __jsx(BlankStar, {\n        fill: \"black\"\n      }), __jsx(BlankStar, {\n        fill: \"black\"\n      })), __jsx(\"h2\", null, \"(20)\")), __jsx(\"div\", {\n        className: \"reviews-filter-container reviews-filter-2\"\n      }, __jsx(\"div\", null, __jsx(BlankStar, {\n        fill: \"black\"\n      }), __jsx(BlankStar, {\n        fill: \"black\"\n      })), __jsx(\"h2\", null, \"(12)\")), __jsx(\"div\", {\n        className: \"reviews-filter-container reviews-filter-1\"\n      }, __jsx(\"div\", null, __jsx(BlankStar, {\n        fill: \"black\"\n      })), __jsx(\"h2\", null, \"(2)\"))))), __jsx(\"div\", {\n        className: \"c-reviews-page__reviews-section\"\n      }, __jsx(ReviewPageCard, null), __jsx(ReviewPageCard, null), __jsx(ReviewPageCard, null), __jsx(ReviewPageCard, null), __jsx(ReviewPageCard, null)), __jsx(\"div\", {\n        className: \"c-reviews-page__pagination-container\"\n      })));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      if (nextProps.products.products !== prevState.allProducts) {\n        console.log({\n          allProducts: nextProps.products.products\n        });\n        return {\n          allProducts: nextProps.products.products\n        };\n      } else return null;\n    }\n  }]);\n\n  return Home;\n}(React.Component);\n\nexport default connect(function (state) {\n  return state;\n}, {\n  getProducts: getProducts\n})(Home);","map":null,"metadata":{},"sourceType":"module"}