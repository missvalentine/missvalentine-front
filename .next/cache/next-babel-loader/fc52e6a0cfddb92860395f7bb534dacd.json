{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/akshataggarwal/Documents/Coding Files/webd projects/missvalentine-front/components/popups/ForgetPassword.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport dynamic from 'next/dynamic';\nimport { Form, Spin, Icon } from \"antd\";\n;\nvar Heading = dynamic(_c = function _c() {\n  return import(\"../Heading\");\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak(\"../Heading\")];\n    },\n    modules: [\"../Heading\"]\n  }\n});\n_c2 = Heading;\n;\nvar Input = dynamic(_c3 = function _c3() {\n  return import(\"../form-components/Input\");\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak(\"../form-components/Input\")];\n    },\n    modules: [\"../form-components/Input\"]\n  }\n});\n_c4 = Input;\nimport { connect } from \"react-redux\";\n;\nvar Button = dynamic(_c5 = function _c5() {\n  return import(\"../form-components/Button\");\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak(\"../form-components/Button\")];\n    },\n    modules: [\"../form-components/Button\"]\n  }\n});\n_c6 = Button;\nimport { forgotPassword } from \"../../services/api\";\nimport { drawerToDisplay, toggleRegBar } from \"../../redux/actions/drawers\";\nimport { setUser } from \"../../redux/actions/user\";\nimport regex from \"../../services/helpers/regex\";\nimport { sendEmailMsg } from \"../../constants/constantMessage\";\nimport reactComponentDebounce from \"react-component-debounce\";\nvar DebounceInput = reactComponentDebounce({\n  valuePropName: \"value\",\n  triggerMs: 1000\n})(Input);\n\nvar ForgetForm = /*#__PURE__*/function (_React$Component) {\n  _inherits(ForgetForm, _React$Component);\n\n  var _super = _createSuper(ForgetForm);\n\n  function ForgetForm() {\n    var _this;\n\n    _classCallCheck(this, ForgetForm);\n\n    _this = _super.call(this);\n\n    _defineProperty(_assertThisInitialized(_this), \"handleSubmit\", function (e) {\n      e.preventDefault();\n\n      _this.props.form.validateFields(function (err, values) {\n        if (!err) {\n          console.log(\"Received values of form: \", values);\n          var email = values.email,\n              password = values.password;\n\n          _this.setState({\n            isLoading: true,\n            error: null\n          });\n\n          forgotPassword({\n            email: email,\n            firststep: 1\n          }).then(function (res) {\n            _this.setState({\n              isLoading: false\n            });\n\n            if (res.status === 200) {\n              if (res.data.status || res.data.success) {\n                _this.setState({\n                  mailSent: true\n                });\n              } else {\n                _this.setState({\n                  error: res.data.message || \"User not found\"\n                });\n              }\n            } else {\n              _this.setState({\n                error: \"User not found\"\n              });\n            }\n          })[\"catch\"](function (err) {\n            console.log({\n              err: err\n            });\n\n            _this.setState({\n              isLoading: false,\n              error: \"User not found\"\n            });\n          });\n        }\n      });\n    });\n\n    _this.state = {\n      isLoading: false,\n      error: null,\n      isAlreadyUser: false,\n      mailSent: false\n    };\n    return _this;\n  }\n\n  _createClass(ForgetForm, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          drawerToDisplay = _this$props.drawerToDisplay,\n          getFieldDecorator = _this$props.form.getFieldDecorator;\n      var _this$state = this.state,\n          isLoading = _this$state.isLoading,\n          error = _this$state.error,\n          isAlreadyUser = _this$state.isAlreadyUser,\n          mailSent = _this$state.mailSent;\n      return __jsx(\"div\", {\n        className: \"c-registration\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 7\n        }\n      }, __jsx(Heading, {\n        parentClass: \"c-registration\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 9\n        }\n      }, mailSent ? __jsx(React.Fragment, null, \" \", sendEmailMsg, \"  \", __jsx(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 42\n        }\n      }, __jsx(\"p\", {\n        style: {\n          fontSize: \"16px\",\n          fontFamily: \"futuraBT-light\",\n          marginTop: \"20px\"\n        },\n        className: \"c-registration__inst\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 15\n        }\n      }, \"Back to\", __jsx(\"span\", {\n        style: {\n          marginLeft: \"5px\"\n        },\n        onClick: function onClick() {\n          drawerToDisplay(\"login\");\n        },\n        className: \"c-registration__link\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 17\n        }\n      }, \"LOGIN\"))), \" \") : \"Forgot Your Password?\"), !mailSent && __jsx(Heading, {\n        className: \"c-registration__sub-heading\",\n        subHeading: true,\n        versions: [\"dark\"],\n        parentClass: \"c-registration\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }\n      }, \"Enter your email to reset your password\"), !mailSent && __jsx(Form, {\n        onSubmit: this.handleSubmit,\n        className: \"c-ant-from c-registration__form\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }\n      }, __jsx(Form.Item, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 13\n        }\n      }, getFieldDecorator(\"email\", {\n        rules: [{\n          max: 40,\n          message: \"You can't use more than 40 characters.\"\n        }, {\n          required: true,\n          message: \"Please input your e-mail!\"\n        }, {\n          pattern: regex.email,\n          message: \"Please enter a valid E-mail.\"\n        }]\n      })(__jsx(DebounceInput, {\n        style: {\n          padding: \"0px\",\n          fontSize: \"16px\",\n          fontFamily: \"futuraBT-book\",\n          marginBottom: \"15px\"\n        },\n        versions: [\"dark\"],\n        parentClass: \"c-registration\",\n        label: \"E-mail\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 17\n        }\n      }))), __jsx(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 13\n        }\n      }, __jsx(\"p\", {\n        style: {\n          fontSize: \"16px\",\n          fontFamily: \"futuraBT-light\"\n        },\n        className: \"c-registration__inst\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 15\n        }\n      }, \"Back to\", __jsx(\"span\", {\n        style: {\n          marginLeft: \"5px\"\n        },\n        onClick: function onClick() {\n          drawerToDisplay(\"login\");\n        },\n        className: \"c-registration__link\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 17\n        }\n      }, \"LOGIN\"))), __jsx(\"div\", {\n        className: \"c-registration__error-block\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 13\n        }\n      }, isLoading && __jsx(Icon, {\n        type: \"loading\",\n        className: \"c-registration__spinner c-spinner\",\n        style: {\n          fontSize: 24\n        },\n        spin: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 17\n        }\n      }), error && __jsx(\"p\", {\n        className: \"c-registration__error\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 25\n        }\n      }, error)), __jsx(\"div\", {\n        className: \"row\",\n        style: {\n          justifyContent: \"space-around\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 13\n        }\n      }, __jsx(Button, {\n        theme: \"dark\",\n        disabled: isLoading,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 15\n        }\n      }, \"Reset Password\"))));\n    }\n  }]);\n\n  return ForgetForm;\n}(React.Component);\n\nvar ForgetPassword = Form.create({\n  name: \"registration\"\n})(ForgetForm);\nvar mapActionToProps = {\n  drawerToDisplay: drawerToDisplay,\n  setUser: setUser,\n  toggleRegBar: toggleRegBar\n};\nexport default connect(function (state) {\n  return state;\n}, mapActionToProps)(ForgetPassword);\n\nvar _c, _c2, _c3, _c4, _c5, _c6;\n\n$RefreshReg$(_c, \"Heading$dynamic\");\n$RefreshReg$(_c2, \"Heading\");\n$RefreshReg$(_c3, \"Input$dynamic\");\n$RefreshReg$(_c4, \"Input\");\n$RefreshReg$(_c5, \"Button$dynamic\");\n$RefreshReg$(_c6, \"Button\");","map":{"version":3,"sources":["/Users/akshataggarwal/Documents/Coding Files/webd projects/missvalentine-front/components/popups/ForgetPassword.js"],"names":["dynamic","Form","Spin","Icon","Heading","Input","connect","Button","forgotPassword","drawerToDisplay","toggleRegBar","setUser","regex","sendEmailMsg","reactComponentDebounce","DebounceInput","valuePropName","triggerMs","ForgetForm","e","preventDefault","props","form","validateFields","err","values","console","log","email","password","setState","isLoading","error","firststep","then","res","status","data","success","mailSent","message","state","isAlreadyUser","getFieldDecorator","fontSize","fontFamily","marginTop","marginLeft","handleSubmit","rules","max","required","pattern","padding","marginBottom","justifyContent","React","Component","ForgetPassword","create","name","mapActionToProps"],"mappings":"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","sourcesContent":["import dynamic from 'next/dynamic'\nimport { Form, Spin, Icon } from \"antd\";;\nconst Heading = dynamic(() => import(\"../Heading\"));;\nconst Input = dynamic(() => import(\"../form-components/Input\"));\nimport { connect } from \"react-redux\";;\nconst Button = dynamic(() => import(\"../form-components/Button\"));\nimport { forgotPassword } from \"../../services/api\";\nimport { drawerToDisplay, toggleRegBar } from \"../../redux/actions/drawers\";\nimport { setUser } from \"../../redux/actions/user\";\nimport regex from \"../../services/helpers/regex\";\nimport { sendEmailMsg } from \"../../constants/constantMessage\";\nimport reactComponentDebounce from \"react-component-debounce\";\n\nconst DebounceInput = reactComponentDebounce({\n  valuePropName: \"value\",\n  triggerMs: 1000,\n})(Input);\n\nclass ForgetForm extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      isLoading: false,\n      error: null,\n      isAlreadyUser: false,\n      mailSent: false,\n    };\n  }\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.props.form.validateFields((err, values) => {\n      if (!err) {\n        console.log(\"Received values of form: \", values);\n        const { email, password } = values;\n        this.setState({\n          isLoading: true,\n          error: null,\n        });\n        forgotPassword({\n          email,firststep:1\n        })\n          .then((res) => {\n            this.setState({\n              isLoading: false,\n            });\n            if (res.status === 200) {\n              if (res.data.status || res.data.success) {\n                this.setState({\n                  mailSent: true,\n                });\n              } else {\n                this.setState({\n                  error: res.data.message || \"User not found\",\n                });\n              }\n            } else {\n              this.setState({\n                error: \"User not found\",\n              });\n            }\n          })\n          .catch((err) => {\n            console.log({ err });\n            this.setState({\n              isLoading: false,\n              error: \"User not found\",\n            });\n          });\n      }\n    });\n  };\n  render() {\n    const {\n      drawerToDisplay,\n      form: { getFieldDecorator },\n    } = this.props;\n    const { isLoading, error, isAlreadyUser, mailSent } = this.state;\n\n    return (\n      <div className=\"c-registration\">\n        <Heading parentClass=\"c-registration\">\n          {mailSent ? <> {sendEmailMsg}  <div>\n              <p\n                style={{ fontSize: \"16px\", fontFamily: \"futuraBT-light\",marginTop:\"20px\" }}\n                className=\"c-registration__inst\"\n              >\n                Back to\n                <span\n                  style={{ marginLeft: \"5px\" }}\n                  onClick={() => {\n                    drawerToDisplay(\"login\");\n                  }}\n                  className=\"c-registration__link\"\n                >\n                  LOGIN\n                </span>\n              </p>\n            </div> </>: \"Forgot Your Password?\"}\n        </Heading>\n        {!mailSent && (\n          <Heading\n            className=\"c-registration__sub-heading\"\n            subHeading={true}\n            versions={[\"dark\"]}\n            parentClass=\"c-registration\"\n          >\n            Enter your email to reset your password\n          </Heading>\n        )}\n        {!mailSent && (\n          <Form\n            onSubmit={this.handleSubmit}\n            className=\"c-ant-from c-registration__form\"\n          >\n            <Form.Item>\n              {getFieldDecorator(\"email\", {\n                rules: [\n                  {\n                    max: 40,\n                    message: \"You can't use more than 40 characters.\",\n                  },\n                  { required: true, message: \"Please input your e-mail!\" },\n\n                  {\n                    pattern: regex.email,\n                    message: \"Please enter a valid E-mail.\",\n                  },\n                ],\n              })(\n                <DebounceInput\n                  style={{\n                    padding: \"0px\",\n                    fontSize: \"16px\",\n                    fontFamily: \"futuraBT-book\",\n                    marginBottom: \"15px\",\n                  }}\n                  versions={[\"dark\"]}\n                  parentClass=\"c-registration\"\n                  label=\"E-mail\"\n                />\n              )}\n            </Form.Item>\n            <div>\n              <p\n                style={{ fontSize: \"16px\", fontFamily: \"futuraBT-light\" }}\n                className=\"c-registration__inst\"\n              >\n                Back to\n                <span\n                  style={{ marginLeft: \"5px\" }}\n                  onClick={() => {\n                    drawerToDisplay(\"login\");\n                  }}\n                  className=\"c-registration__link\"\n                >\n                  LOGIN\n                </span>\n              </p>\n            </div>\n            <div className=\"c-registration__error-block\">\n              {isLoading && (\n                <Icon\n                  type=\"loading\"\n                  className=\"c-registration__spinner c-spinner\"\n                  style={{ fontSize: 24 }}\n                  spin\n                />\n              )}\n              {error && <p className=\"c-registration__error\">{error}</p>}\n            </div>\n            <div className=\"row\" style={{ justifyContent: \"space-around\" }}>\n              <Button theme=\"dark\" disabled={isLoading}>\n                Reset Password\n              </Button>\n            </div>\n          </Form>\n        )}\n        {/* {<div className=\"c-registration__no-form-wrapper\">\n                    <br/>\n                    <br/>\n                    <br/>\n                    <br/>\n                        <p className=\"c-registration__inst\">Back to <span \n                            onClick={()=> {\n                                drawerToDisplay(\"login\")\n                            }}\n                            className=\"c-registration__link\">Login</span></p>\n                </div>} */}\n      </div>\n    );\n  }\n}\n\nconst ForgetPassword = Form.create({ name: \"registration\" })(ForgetForm);\nconst mapActionToProps = {\n  drawerToDisplay,\n  setUser,\n  toggleRegBar,\n};\nexport default connect((state) => state, mapActionToProps)(ForgetPassword);\n"]},"metadata":{},"sourceType":"module"}