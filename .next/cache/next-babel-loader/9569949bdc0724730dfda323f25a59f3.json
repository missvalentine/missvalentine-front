{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport dynamic from 'next/dynamic';\nvar Heading = dynamic(function () {\n  return import('./Heading');\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('./Heading')];\n    },\n    modules: ['./Heading']\n  }\n});\nvar Button = dynamic(function () {\n  return import('./form-components/Button');\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('./form-components/Button')];\n    },\n    modules: ['./form-components/Button']\n  }\n});\nimport classNames from 'classnames';\nimport { connect } from 'react-redux';\nimport projectSettings from '../constants/projectSettings';\nimport Flickity from 'react-flickity-component';\nimport Link from 'next/link';\nimport { LazyLoadImage } from 'react-lazy-load-image-component';\nimport { showCartBar } from '../redux/actions/drawers';\nimport Product from './Product';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useState } from 'react';\n\nvar CategoryProducts = function CategoryProducts(props, _ref) {\n  var heading = _ref.heading,\n      subHeading = _ref.subHeading,\n      showCartBar = _ref.showCartBar,\n      bg = _ref.bg,\n      btnText = _ref.btnText;\n  var className = classNames('c-category-products', _defineProperty({}, \"c-category-products--\".concat(bg), bg));\n\n  var _useState = useState(-1),\n      activeCategoryIndex = _useState[0],\n      setActiveCategoryIndex = _useState[1];\n\n  var flickityInit = function flickityInit() {\n    setTimeout(function () {\n      if (flkty) {\n        flkty.on('scroll', function (progress) {\n          if (!isNaN(progress)) {\n            var pos = \"\".concat(progress * 80, \"%\"); //  sliderLine.current.style.left = pos\n          }\n        });\n      }\n    }, 200);\n  };\n\n  var flResize = function flResize() {\n    if (flkty) flkty.resize();\n  };\n\n  var onCategoryChange = function onCategoryChange(index) {\n    return setActiveCategoryIndex(index);\n  };\n\n  var products = useSelector(function (s) {\n    return s.products;\n  });\n  console.log('pro', products);\n  var flkty = undefined;\n  return __jsx(\"div\", {\n    className: className\n  }, __jsx(\"div\", {\n    className: \"c-category-products__heading-wrapper\"\n  }, __jsx(Heading, {\n    parentClass: \"c-category-products\",\n    versions: ['default', 'upper']\n  }, heading), subHeading && __jsx(Heading, {\n    subHeading: true,\n    parentClass: \"c-category-products\",\n    versions: ['default', 'lft-br']\n  }, subHeading)), __jsx(\"div\", {\n    className: \"c-category-products__list\"\n  }, __jsx(\"span\", {\n    onClick: function onClick() {\n      onCategoryChange(-1);\n    },\n    className: classNames('c-category-products__list-item', {\n      'c-category-products__list-item--active': activeCategoryIndex === -1\n    }),\n    key: 0\n  }, \"All\"), products.categories.map(function (el, i) {\n    var _jsx;\n\n    if (el.products.length >= 1) return __jsx(\"span\", (_jsx = {\n      onClick: function onClick() {\n        onCategoryChange(i);\n      },\n      className: classNames('c-category-products__list-item', {\n        'c-category-products__list-item--active': activeCategoryIndex === i\n      })\n    }, _defineProperty(_jsx, \"className\", \"c-category-products__list-item \\n            \".concat(activeCategoryIndex === i && 'c-category-products__list-item--active', \"\\n                \")), _defineProperty(_jsx, \"key\", i), _jsx), el.name);\n  })), __jsx(\"div\", {\n    className: \"row c-category-products__product-list\"\n  }, __jsx(Flickity, {\n    options: {\n      initialIndex: 0,\n      pageDots: false,\n      cellAlign: 'left',\n      contain: true,\n      on: {\n        ready: function ready() {\n          flickityInit();\n        }\n      }\n    },\n    flickityRef: function flickityRef(c) {\n      return flkty = c;\n    },\n    disableImagesLoaded: false,\n    reloadOnUpdate: true,\n    className: \"c-category-products__slider \"\n  }, console.log('poooo', products.categories, activeCategoryIndex), activeCategoryIndex === -1 ? products.products.filter(function (product) {\n    return product.hidden === false;\n  }).map(function (item, index) {\n    return __jsx(Product, _extends({}, props, {\n      key: index,\n      data: item\n    }));\n  }) : products.categories[activeCategoryIndex].products.filter(function (product) {\n    return product.hidden === false;\n  }).map(function (item, index) {\n    return __jsx(Product, _extends({}, props, {\n      key: index,\n      data: item\n    }));\n  }))), __jsx(\"div\", {\n    className: \"consult-doc-banner-wrapper\",\n    style: {\n      padding: '0rem 0 0rem 0'\n    }\n  }, __jsx(Link, {\n    href: \"/products\"\n  }, __jsx(\"button\", {\n    className: \"top-btn\",\n    style: {\n      fontSize: 'x-large',\n      fontWeight: '500'\n    }\n  }, 'SEE ALL PRODUCTS ', \" \\xA0\", __jsx(\"img\", {\n    className: \"top\",\n    style: {\n      height: '20px',\n      marginBottom: '5px'\n    },\n    src: \"/images/right-arrow-32px.png\",\n    alt: \"to-top\"\n  })))));\n};\n\nexport default CategoryProducts;","map":null,"metadata":{},"sourceType":"module"}