{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport _ from \"lodash\";\nimport { expireMonthInvalid, expireYearInvalid, cardNumberInvalid, cardDetailsNotMAtch, shippingExtraRate, defaultOrderStatus, defaultStatusInOrder, shippingStaticRate } from \"../../constants/constantMessage\"; // import { referralPresent } from \"../../components\";\n\nvar referralPresent = 25;\nimport { combineLoop } from \"box-dimension-calculator\"; // import { variablePriceSet } from \"./cartHealpers\";\n\nvar BasicFunction = /*#__PURE__*/function () {\n  function BasicFunction() {\n    _classCallCheck(this, BasicFunction);\n\n    _defineProperty(this, \"removeEmpty\", function (obj) {\n      Object.keys(obj).forEach(function (key) {\n        return obj[key] === null && delete obj[key];\n      });\n    });\n\n    _defineProperty(this, \"getSelectedAttributes\", function (item) {\n      if (item.producttype === \"variable\") return item.attributes.map(function (el) {\n        return _defineProperty({}, el.names, item[el.names].value);\n      }).filter(function (el) {\n        return el;\n      }).reduce(function (a, b) {\n        return _objectSpread(_objectSpread({}, a), b);\n      }, {});\n      return null;\n    });\n\n    _defineProperty(this, \"calculatePrice\", function (item) {\n      var saleprice = item.saleprice,\n          regularprice = item.regularprice,\n          subscribedDiscountPersent = item.subscribedDiscountPersent,\n          value = item.qty.value,\n          subscribed = item.subscribed;\n\n      if (subscribed) {\n        if (saleprice) {\n          var price = parseFloat(saleprice) * parseFloat(value) / parseFloat(subscribedDiscountPersent);\n          return price;\n        } else if (regularprice) {\n          var _price = parseFloat(regularprice) * parseFloat(value) / parseFloat(subscribedDiscountPersent);\n\n          return _price;\n        }\n\n        return 0;\n      }\n    });\n\n    _defineProperty(this, \"convertCardErrors\", function (error) {\n      switch (error) {\n        case \"Your card number is incorrect.\":\n          return cardNumberInvalid;\n\n        case \"Missing required param: card[exp_year].\":\n          return expireYearInvalid;\n\n        case \"Could not find payment information.\":\n          return cardDetailsNotMAtch;\n\n        case \"Your card's expiration year is invalid.\":\n          return expireYearInvalid;\n\n        case \"Your card's expiration month is invalid.\":\n          return expireMonthInvalid;\n\n        default:\n          return expireMonthInvalid;\n      }\n    });\n\n    _defineProperty(this, \"stripeCheckValidation\", function (paymentDetail) {\n      var cvNumber = paymentDetail.cvNumber,\n          expDate = paymentDetail.expDate,\n          cardNumber = paymentDetail.cardNumber;\n\n      if (cvNumber && cvNumber.length <= 2) {\n        return false;\n      }\n\n      if (expDate && expDate.length <= 4) {\n        return false;\n      }\n\n      if (cardNumber && cardNumber.length <= 18) {\n        return false;\n      }\n\n      return true;\n    });\n\n    _defineProperty(this, \"getShippingRates\", function (rateArr) {\n      if (rateArr.length > 0) {\n        var filteredRates = _.uniqBy(rateArr, function (e) {\n          return e.service;\n        });\n\n        var smallSorted = filteredRates.sort(function (a, b) {\n          return parseFloat(a.rate || 0) - parseFloat(b.rate || 0);\n        });\n        var Smallest = smallSorted[0];\n        var Smallest1 = smallSorted[1];\n        var Smallest2 = smallSorted[2];\n        var PriorityRaw = filteredRates.find(function (el) {\n          return el.service === \"Priority\";\n        });\n        var ExpressRaw = filteredRates.find(function (el) {\n          return el.service === \"Express\";\n        }); // const standard =\n        //   Smallest.service === \"Priority\" || Smallest.service === \"Express\"\n        //     ? null\n        //     : {\n        //         ...Smallest,\n        //         customName: \"Standard\",\n        //         customRate: parseFloat(Smallest.rate) + shippingExtraRate\n        //       };\n        // const Priority = PriorityRaw\n        //   ? {\n        //       ...PriorityRaw,\n        //       customName: \"Priority\",\n        //       customRate: parseFloat(PriorityRaw.rate) + shippingExtraRate\n        //     }\n        //   : null;\n        // const Express = ExpressRaw\n        //   ? {\n        //       ...ExpressRaw,\n        //       customName: \"Express\",\n        //       customRate: parseFloat(ExpressRaw.rate) + shippingExtraRate\n        //     }\n        //   : null;\n\n        var standard = Smallest && _objectSpread(_objectSpread({}, Smallest), {}, {\n          customName: \"Standard\",\n          customRate: parseFloat(Smallest.rate) + shippingExtraRate\n        });\n\n        var Priority = Smallest1 && _objectSpread(_objectSpread({}, Smallest1), {}, {\n          customName: \"Priority\",\n          customRate: parseFloat(Smallest1.rate) + shippingExtraRate\n        });\n\n        var Express = Smallest2 && _objectSpread(_objectSpread({}, Smallest2), {}, {\n          customName: \"Express\",\n          customRate: parseFloat(Smallest2.rate) + shippingExtraRate\n        });\n\n        return [standard, Priority, Express].filter(function (el) {\n          return el;\n        });\n      }\n\n      return rateArr; // return [\n      //   {\n      //     carrier: \"Carrier_Not_Found\",\n      //     created_at: new Date(),\n      //     currency: \"USD\",\n      //     mode: \"test\",\n      //     object: \"Rate\",\n      //     customName: \"Standard\",\n      //     rate: shippingStaticRate,\n      //     customRate: shippingStaticRate,\n      //     retail_currency: \"USD\",\n      //   }\n      // ]\n    });\n  }\n\n  _createClass(BasicFunction, [{\n    key: \"dateFun\",\n    value: function dateFun(date) {\n      var d = new Date(date),\n          month = \"\" + (d.getMonth() + 1),\n          day = \"\" + d.getDate(),\n          year = d.getFullYear();\n      if (month.length < 2) month = \"0\" + month;\n      if (day.length < 2) day = \"0\" + day;\n      return [month, day, year].join(\"/\");\n    }\n  }, {\n    key: \"dateFun2\",\n    value: function dateFun2(date) {\n      var d = new Date(date),\n          month = \"\" + (d.getMonth() + 1),\n          day = \"\" + d.getDate(),\n          year = d.getFullYear();\n      if (month.length < 2) month = \"0\" + month;\n      if (day.length < 2) day = \"0\" + day;\n      return [month, day, year].join(\"/\");\n    }\n  }, {\n    key: \"dateTimeAmPm\",\n    value: function dateTimeAmPm(date) {\n      var d = new Date(date),\n          month = \"\" + (d.getMonth() + 1),\n          day = \"\" + d.getDate(),\n          year = d.getFullYear();\n      if (month.length < 2) month = \"0\" + month;\n      if (day.length < 2) day = \"0\" + day;\n      var dateis = month + \"/\" + day + \"/\" + year + \" \";\n      var hours = d.getHours();\n      var minutes = d.getMinutes();\n      var ampm = hours >= 12 ? \"PM\" : \"AM\";\n      hours = hours % 12;\n      hours = hours ? hours : 12; // the hour '0' should be '12'\n\n      minutes = minutes < 10 ? \"0\" + minutes : minutes;\n      var strTime = hours + \":\" + minutes + \" \" + ampm;\n      return dateis + strTime;\n    }\n  }, {\n    key: \"dateTimeAmPmOld\",\n    value: function dateTimeAmPmOld(date) {\n      var monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n      var d = new Date(date),\n          month = \"\" + (d.getMonth() + 1),\n          day = \"\" + d.getDate(),\n          year = d.getFullYear();\n      if (month.length < 2) month = \"0\" + month;\n      if (day.length < 2) day = \"0\" + day;\n      var monthnameis = monthNames[month - 1];\n      var dateis = monthnameis + \" \" + day + \",\" + year + \" \";\n      var hours = d.getHours();\n      var minutes = d.getMinutes();\n      var ampm = hours >= 12 ? \"PM\" : \"AM\";\n      hours = hours % 12;\n      hours = hours ? hours : 12; // the hour '0' should be '12'\n\n      minutes = minutes < 10 ? \"0\" + minutes : minutes;\n      var strTime = hours + \":\" + minutes + \" \" + ampm;\n      return dateis + strTime;\n    }\n  }, {\n    key: \"dateTimeInMonthName\",\n    value: function dateTimeInMonthName(date) {\n      if (!date) return \"-\";\n      var monthNames = [\"Jan\", \"Feb\", \"March\", \"April\", \"May\", \"June\", \"July\", \"Aug\", \"Sept\", \"Oct\", \"Nov\", \"Dec\"];\n      var d = new Date(date),\n          month = \"\" + (d.getMonth() + 1),\n          day = \"\" + d.getDate(),\n          year = d.getFullYear();\n      if (month.length < 2) month = \"0\" + month;\n      if (day.length < 2) day = \"0\" + day;\n      var monthnameis = monthNames[month - 1];\n      var dateis = monthnameis + \" \" + day + \", \" + year + \" \"; //var hours = d.getHours();\n      // var minutes = d.getMinutes();\n      //  hours = hours % 12;\n      //  hours = hours ? hours : 12; // the hour '0' should be '12'\n      // minutes = minutes < 10 ? \"0\" + minutes : minutes;\n\n      return dateis;\n    }\n  }, {\n    key: \"currancyAdd\",\n    value: function currancyAdd(number) {\n      if (number >= 0) {\n        return \"$\" + number;\n      } else {\n        return \"-$\" + Math.abs(number);\n      }\n    }\n  }, {\n    key: \"nombarFormat\",\n    value: function nombarFormat(nbr) {\n      if (nbr === 0 && nbr === \"\") {\n        return \"0.00\";\n      } else {\n        if (nbr) {\n          var nr = nbr.toFixed(2);\n          nr = nr.toString();\n          var pattern = /(-?\\d+)(\\d{3})/;\n\n          while (pattern.test(nr)) {\n            nr = nr.replace(pattern, \"$1,$2\");\n          }\n\n          return nr;\n        } else {\n          return 0.0;\n        }\n      }\n    }\n  }, {\n    key: \"currancyAddWithNumber\",\n    value: function currancyAddWithNumber(numberX) {\n      var number = parseFloat(numberX);\n      var withoutUsd = this.currencyWithoutUsd(number); // return `${withoutUsd} USD`;\n\n      return \"\".concat(withoutUsd);\n    }\n  }, {\n    key: \"currencyWithoutUsd\",\n    value: function currencyWithoutUsd(numberX) {\n      if (numberX) {\n        var number = parseFloat(numberX);\n        number = number.toFixed(2);\n        var pattern = /(-?\\d+)(\\d{3})/;\n\n        if (number >= 0) {\n          number = number.toString();\n\n          while (pattern.test(number)) {\n            number = number.replace(pattern, \"$1,$2\");\n          }\n\n          return \"$\" + number;\n        } else {\n          var num = Math.abs(number);\n          num = num.toFixed(2);\n          num = num.toString();\n\n          while (pattern.test(num)) {\n            num = num.replace(pattern, \"$1,$2\");\n          }\n\n          return \"-$\" + num;\n        }\n      } else {\n        return \"$0.00\";\n      }\n    }\n  }, {\n    key: \"capitalizeFirstLetter\",\n    value: function capitalizeFirstLetter(string) {\n      return string.charAt(0).toUpperCase() + string.slice(1);\n    }\n  }, {\n    key: \"sliceToNumber\",\n    value: function sliceToNumber() {\n      var string = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var digit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      return string.slice(0, digit);\n    }\n  }, {\n    key: \"timeConverter\",\n    value: function timeConverter(UNIX_timestamp) {\n      var a = new Date(UNIX_timestamp * 1000); // var months = [\n      //   \"Jan\",\n      //   \"Feb\",\n      //   \"Mar\",\n      //   \"Apr\",\n      //   \"May\",\n      //   \"Jun\",\n      //   \"Jul\",\n      //   \"Aug\",\n      //   \"Sep\",\n      //   \"Oct\",\n      //   \"Nov\",\n      //   \"Dec\"\n      // ];\n      // var year = a.getFullYear();\n      // var month = months[a.getMonth()];\n      // var date = a.getDate();\n\n      var hour = a.getHours();\n      var min = a.getMinutes(); // var sec = a.getSeconds();\n\n      if (min < 10) {\n        min = \"0\" + min;\n      } // var ampm = \"AM\";\n\n\n      var timeis = \"\";\n\n      if (hour <= 12) {\n        timeis = hour + \":\" + min + \"AM\";\n      } else {\n        hour = parseFloat(hour) - 12;\n        timeis = hour + \":\" + min + \"PM\";\n      } //   var res = hour + \":\" + min;\n\n\n      return timeis;\n    }\n  }, {\n    key: \"currentDate\",\n    value: function currentDate() {\n      var d = new Date();\n      var year = parseInt(d.getYear()) - 100;\n      var month = d.getMonth() + 1;\n      return \"20\" + year + \"/\" + month + \"/\" + d.getDate();\n    }\n  }, {\n    key: \"currentDateYesterday\",\n    value: function currentDateYesterday() {\n      var d = new Date();\n      var year = parseInt(d.getYear()) - 100;\n      var month = d.getMonth() + 1;\n      var yesterday = new Date(d.getTime());\n      yesterday.setDate(d.getDate() - 1);\n      var date = yesterday.getDate();\n      return \"20\" + year + \"/\" + month + \"/\" + date;\n    }\n  }, {\n    key: \"currentDateBeforeDay\",\n    value: function currentDateBeforeDay(beforeDay) {\n      var d = new Date();\n      var yesterday = new Date(d.getTime());\n      yesterday.setDate(d.getDate() - parseInt(beforeDay));\n      var date = yesterday.getDate();\n      var year = parseInt(yesterday.getYear()) - 100;\n      var month = yesterday.getMonth() + 1;\n      return \"20\" + year + \"/\" + month + \"/\" + date;\n    }\n  }, {\n    key: \"currentDateBeforeMonth\",\n    value: function currentDateBeforeMonth(beforeMonth) {\n      var d = new Date();\n      d.setMonth(d.getMonth() - parseInt(beforeMonth));\n      var month = d.getMonth() + parseInt(1);\n      var year = parseInt(d.getYear()) - 100;\n      return \"20\" + year + \"/\" + month + \"/\" + d.getDate();\n    }\n  }, {\n    key: \"currentDateBeforeYear\",\n    value: function currentDateBeforeYear(beforeYear) {\n      var d = new Date();\n      var month = d.getMonth() + parseInt(1);\n      var year = parseInt(d.getYear()) - 100;\n      year = year - parseInt(beforeYear);\n      return \"20\" + year + \"/\" + month + \"/\" + d.getDate();\n    }\n  }, {\n    key: \"graphColorPostion\",\n    value: function graphColorPostion(data) {\n      if (data >= 0) {\n        return \"#1fa764\";\n      } else {\n        return \"#ed5454\";\n      }\n    }\n  }, {\n    key: \"graphColorFillPostion\",\n    value: function graphColorFillPostion(data) {\n      if (data >= 0) {\n        return \"#abe5c1\";\n      } else {\n        return \"#ffa1a9\";\n      }\n    }\n  }, {\n    key: \"stringToArray\",\n    value: function stringToArray(str) {\n      var res = str.split(\",\");\n      var newArray = [];\n      res.forEach(function (character) {\n        if (character === character.toUpperCase()) {\n          if (character.length <= 4) {\n            newArray.push(character);\n          }\n        }\n      });\n      return newArray.slice(0, 10);\n    }\n  }, {\n    key: \"checkIsUpparCashOrNot\",\n    value: function checkIsUpparCashOrNot(character) {\n      if (character === character.toUpperCase()) {\n        if (character.length <= 4) {\n          return true;\n        } else {\n          return false;\n        }\n      } else {\n        return false;\n      }\n    }\n  }, {\n    key: \"stringCheckResponseInColor\",\n    value: function stringCheckResponseInColor(str, spn) {\n      var innerHTML = str;\n      spn = spn.toUpperCase();\n      var index = innerHTML.indexOf(spn);\n\n      if (index >= 0) {\n        innerHTML = innerHTML.substring(0, index) + \"<span className='highlight'>\" + innerHTML.substring(index, index + spn.length) + \"</span>\" + innerHTML.substring(index + spn.length); // return 'ram';\n      }\n\n      return innerHTML;\n    }\n  }, {\n    key: \"subStrStartEnd\",\n    value: function subStrStartEnd(str, starting, ending) {\n      if (str) {\n        return str.substr(starting, ending);\n      } else {\n        return str;\n      }\n    }\n  }, {\n    key: \"bodyColor\",\n    value: function bodyColor() {\n      var currentUrl = window.location.href;\n      var ar = currentUrl.split(\"/\");\n\n      if (ar[3] === \"stocks\") {\n        return \"black\";\n      } else {\n        return \"\";\n      }\n    }\n  }, {\n    key: \"getParchantage\",\n    value: function getParchantage(parValue, totalvalue) {\n      return parseFloat(parValue) * parseFloat(totalvalue) / 100;\n    }\n  }, {\n    key: \"getUnknownParchantage\",\n    value: function getUnknownParchantage(parValue, totalvalue) {\n      return parseFloat(parValue) / totalvalue * 100;\n    }\n  }, {\n    key: \"getMinMaxValue\",\n    value: function getMinMaxValue(ar) {\n      /*eslint no-extend-native: [\"error\", { \"exceptions\": [\"Array\"] }]*/\n      if (ar.producttype === \"variable\") {\n        var arr = [];\n        ar.variation.map(function (key) {\n          arr.push(key.sale_price);\n          return null;\n        });\n\n        Array.prototype.max = function () {\n          return Math.max.apply(null, this);\n        };\n\n        Array.prototype.min = function () {\n          return Math.min.apply(null, this);\n        };\n\n        if (arr.length > 1) {\n          if (arr.min() === arr.max()) {\n            var _returnString = \"From $\" + this.nombarFormat(arr.min());\n\n            return _returnString;\n          }\n\n          var returnString = \"From $\" + this.nombarFormat(arr.min()) + \" - $\" + this.nombarFormat(arr.max());\n          return returnString;\n        } else {\n          var _returnString2 = \"From $\" + this.nombarFormat(arr.min());\n\n          return _returnString2;\n        }\n      }\n    }\n  }, {\n    key: \"getMinMaxValue2\",\n    value: function getMinMaxValue2(ar) {\n      /*eslint no-extend-native: [\"error\", { \"exceptions\": [\"Array\"] }]*/\n      if (ar.producttype === \"variable\") {\n        var arr = [];\n        ar.variation.map(function (key) {\n          arr.push(key.sale_price);\n          return null;\n        });\n\n        Array.prototype.max = function () {\n          return Math.max.apply(null, this);\n        };\n\n        Array.prototype.min = function () {\n          return Math.min.apply(null, this);\n        };\n\n        if (arr.length > 1) {\n          if (arr.min() === arr.max()) {\n            var _returnString3 = \"$\" + this.nombarFormat(arr.min());\n\n            return _returnString3;\n          }\n\n          var returnString = \"$\" + this.nombarFormat(arr.min()) + \" - $\" + this.nombarFormat(arr.max());\n          return returnString;\n        } else {\n          var _returnString4 = \"$\" + this.nombarFormat(arr.min());\n\n          return _returnString4;\n        }\n      }\n    }\n  }, {\n    key: \"getMinMaxValueWithVariation\",\n    value: function getMinMaxValueWithVariation(ar) {\n      if (ar.producttype === \"variable\") {\n        var arr = [];\n        ar.variation.map(function (key) {\n          arr.push(key.sale_price);\n          return null;\n        });\n\n        Array.prototype.max = function () {\n          return Math.max.apply(null, this);\n        };\n\n        Array.prototype.min = function () {\n          return Math.min.apply(null, this);\n        };\n\n        if (arr.length > 1) {\n          var returnString = \"From $\" + this.nombarFormat(arr.min()) + \" - $\" + this.nombarFormat(arr.max());\n          return returnString;\n        } else {\n          var _returnString5 = \"From $\" + this.nombarFormat(arr.min());\n\n          return _returnString5;\n        }\n      } else {\n        if (ar.dsaleprice) {\n          var _returnString6 = \"From $\" + this.nombarFormat(ar.dsaleprice);\n\n          return _returnString6;\n        } else {\n          var _returnString7 = \"From $\" + this.nombarFormat(ar.dregularprice);\n\n          return _returnString7;\n        }\n      }\n    }\n  }, {\n    key: \"isLoaded\",\n    value: function isLoaded(obj) {\n      return Object.values(obj).every(function (el) {\n        return el;\n      });\n    }\n  }, {\n    key: \"removeParams\",\n    value: function removeParams(url, sParam) {\n      url = url.split(\"?\")[0] + \"?\";\n      var sPageURL = decodeURIComponent(window.location.search.substring(1)),\n          sURLVariables = sPageURL.split(\"&\"),\n          sParameterName,\n          i;\n\n      for (i = 0; i < sURLVariables.length; i++) {\n        sParameterName = sURLVariables[i].split(\"=\");\n\n        if (sParameterName[0] !== sParam) {\n          url = url + sParameterName[0] + \"=\" + sParameterName[1] + \"&\";\n        }\n      }\n\n      return url.substring(0, url.length - 1);\n    }\n  }, {\n    key: \"returnReferringUrl\",\n    value: function returnReferringUrl(url) {\n      if (!url) return \"Direct traffic\";\n      if (url.trim() === \"\") return \"Direct traffic\";\n      return url;\n    }\n  }, {\n    key: \"getDialCode\",\n    value: function getDialCode(countryCodeList, countryCode) {\n      var returnCuntryCode = \"\";\n      countryCodeList.forEach(function (element) {\n        if (element.code === countryCode) {\n          returnCuntryCode = element.dial_code;\n        }\n      });\n      return returnCuntryCode;\n    }\n  }, {\n    key: \"showExportMsg\",\n    value: function showExportMsg(shippingType, isSame, billingAddress, shippingAddress) {\n      if (shippingType !== \"express\") return false;\n\n      if (isSame) {\n        if (billingAddress) if (billingAddress.toLowerCase().trim() === \"usa\") {\n          return false;\n        }\n      } else {\n        if (shippingAddress) if (shippingAddress.toLowerCase().trim() === \"usa\") {\n          return false;\n        }\n      }\n\n      return true;\n    }\n  }, {\n    key: \"parseOrderProduct\",\n    value: function parseOrderProduct(item) {\n      var isCombo = item.combo ? true : false,\n          comboId = item.combo ? item._id : null,\n          productId = item.combo ? null : item.productid._id,\n          productMeta = item.combo ? null : item._id,\n          isSubscribed = item.subscribed ? true : false,\n          subscriptionMeta = item.subscribed ? {\n        duration: item.subscribedTime\n      } : null,\n          itemId = item._id,\n          _id = item._id,\n          qty = item.qty.value,\n          title = item.combo ? item.title : item.productid.producttitle,\n          unitPrice = item.saleprice ? item.saleprice : item.regularprice,\n          subTotal = item.saleprice ? this.multiply(item.saleprice, item.qty.value) : this.multiply(item.regularprice, item.qty.value),\n          attribute = this.getSelectedAttributes(item),\n          height = item.shipping_height,\n          width = item.shipping_width,\n          length = item.shipping_length,\n          volume = item.volume,\n          weight = item.weight;\n      var order = {\n        isCombo: isCombo,\n        comboId: comboId,\n        productId: productId,\n        productMeta: productMeta,\n        isSubscribed: isSubscribed,\n        subscriptionMeta: subscriptionMeta,\n        itemId: itemId,\n        _id: _id,\n        qty: qty,\n        unitPrice: unitPrice,\n        subTotal: subTotal,\n        attribute: attribute,\n        width: width,\n        length: length,\n        height: height,\n        title: title,\n        volume: volume,\n        weight: weight\n      };\n      this.removeEmpty(order);\n      return order;\n    }\n  }, {\n    key: \"multiply\",\n    value: function multiply(a, b) {\n      return parseFloat(a) * parseFloat(b);\n    }\n  }, {\n    key: \"generateOrderNew\",\n    value: function generateOrderNew(stateObj) {\n      var _this = this;\n\n      var paymentResponse = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n      var referralId = arguments.length > 2 ? arguments[2] : undefined;\n      var cart = arguments.length > 3 ? arguments[3] : undefined;\n      var user = arguments.length > 4 ? arguments[4] : undefined;\n      var confirmShipRes = arguments.length > 5 ? arguments[5] : undefined;\n\n      var service = confirmShipRes.service,\n          confirmRest = _objectWithoutProperties(confirmShipRes, [\"service\"]);\n\n      var paymentMethod = stateObj.paymentMethod;\n      var items = cart.items,\n          shippingCharge = cart.shippingCharge,\n          subTotal = cart.subTotal,\n          totalWeight = cart.totalWeight,\n          totalVolume = cart.totalVolume,\n          taxValue = cart.taxValue,\n          taxPercent = cart.taxPercent,\n          taxCouponDiscount = cart.taxCouponDiscount,\n          taxCouponCode = cart.taxCouponCode;\n      var orderProducts = items.map(function (el) {\n        return _this.parseOrderProduct(el);\n      });\n\n      var _this$getHeightWeight = this.getHeightWeight(orderProducts),\n          totalHeight = _this$getHeightWeight.height,\n          totalLength = _this$getHeightWeight.length,\n          totalWidth = _this$getHeightWeight.width;\n\n      var order = _objectSpread({\n        totalVolume: totalVolume,\n        totalWeight: totalWeight,\n        shippingMethod: service,\n        products: orderProducts,\n        countryTax: taxPercent * 100,\n        taxAmount: taxValue || parseFloat(cart.subTotal || 0) * parseFloat(taxPercent || 0) || 0,\n        shippingCharge: shippingCharge,\n        userDetails: this.getUserDetails(stateObj).user,\n        orderStatus: defaultOrderStatus,\n        paymentMethod: paymentMethod === \"stripe\" ? \"Authorize\" : paymentMethod,\n        status: defaultStatusInOrder,\n        wholeSubtotal: parseFloat(subTotal.toFixed(2)),\n        wasReferred: referralId ? true : false,\n        referral: referralId ? referralId : null,\n        isCoupon: taxCouponCode ? true : false,\n        couponId: taxCouponCode,\n        couponDisc: taxCouponCode ? taxCouponDiscount : null,\n        grandTotal: this.getGrandTotal(subTotal, taxPercent, shippingCharge, taxCouponDiscount),\n        isGuest: user._id ? false : true,\n        userId: user._id ? user._id : null,\n        userMetaId: user.userMetaId ? user.userMetaId : null,\n        totalHeight: totalHeight,\n        totalWidth: totalWidth,\n        totalLength: totalLength,\n        refPercentage: referralPresent\n      }, confirmRest);\n\n      this.removeEmpty(order);\n      return order;\n    }\n  }, {\n    key: \"getDiscount\",\n    value: function getDiscount(discount, subTotal) {\n      return discount * subTotal / 100 || 0;\n    }\n  }, {\n    key: \"getGrandTotal\",\n    value: function getGrandTotal(subTotal, taxPresent, shippingCharge, discount) {\n      var amountWithTax = subTotal + taxPresent * subTotal + shippingCharge;\n      var discountAmount = this.getDiscount(discount, subTotal);\n      var total = parseFloat(amountWithTax || 0) - parseFloat(discountAmount || 0);\n      return parseFloat(total.toFixed(2));\n    }\n  }, {\n    key: \"getHeightWeight\",\n    value: function getHeightWeight(items) {\n      var height = items.map(function (el) {\n        return el.height * parseFloat(el.qty);\n      });\n      var width = items.map(function (el) {\n        return el.width * parseFloat(el.qty);\n      });\n      var length = items.map(function (el) {\n        return el.length * parseFloat(el.qty);\n      });\n      var shape = {\n        height: height.reduce(function (a, b) {\n          return a + b;\n        }, 0),\n        width: width.reduce(function (a, b) {\n          return a + b;\n        }, 0),\n        length: length.reduce(function (a, b) {\n          return a + b;\n        }, 0)\n      };\n      return shape;\n    }\n  }, {\n    key: \"generateOrder\",\n    value: function generateOrder(stateObj) {\n      var paymentResponse = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n      var referrer_url_id = arguments.length > 2 ? arguments[2] : undefined;\n      var cart = arguments.length > 3 ? arguments[3] : undefined;\n      var user = arguments.length > 4 ? arguments[4] : undefined;\n      var confirmShipRes = arguments.length > 5 ? arguments[5] : undefined;\n\n      var service = confirmShipRes.service,\n          confirmRest = _objectWithoutProperties(confirmShipRes, [\"service\"]);\n\n      var transactionId = \"000\";\n      var payType = stateObj.paymentMethod;\n\n      if (stateObj.paymentMethod === \"stripe\" && paymentResponse) {\n        transactionId = paymentResponse;\n      }\n\n      if (stateObj.paymentMethod === \"paypal\" && paymentResponse && paymentResponse.paymentID) {\n        transactionId = paymentResponse.paymentID;\n      } // return false;\n\n\n      var items = cart.items,\n          shippingCharge = cart.shippingCharge,\n          subTotal = cart.subTotal,\n          totalWeight = cart.totalWeight,\n          totalVolume = cart.totalVolume,\n          taxValue = cart.taxValue,\n          taxPercent = cart.taxPercent,\n          taxCouponDiscount = cart.taxCouponDiscount,\n          taxCouponCode = cart.taxCouponCode;\n      var billing_first_name = stateObj.billing_first_name,\n          billing_last_name = stateObj.billing_last_name,\n          billing_email_name = stateObj.billing_email_name,\n          billing_phone_name = stateObj.billing_phone_name,\n          billing_address_name_01 = stateObj.billing_address_name_01,\n          billing_address_name_02 = stateObj.billing_address_name_02,\n          billing_address_town = stateObj.billing_address_town,\n          shipping_first_name = stateObj.shipping_first_name,\n          shipping_last_name = stateObj.shipping_last_name,\n          shipping_address_name_01 = stateObj.shipping_address_name_01,\n          shipping_address_name_02 = stateObj.shipping_address_name_02,\n          shipping_address_town = stateObj.shipping_address_town,\n          selectedShippingCity = stateObj.selectedShippingCity,\n          selectedCity = stateObj.selectedCity,\n          selectedShippingCountry = stateObj.selectedShippingCountry,\n          selectedCountry = stateObj.selectedCountry,\n          shipping_zip_code = stateObj.shipping_zip_code,\n          billing_zip_code = stateObj.billing_zip_code,\n          sameShipping = stateObj.sameShipping;\n      var order = {};\n      var country = \"\";\n\n      if (selectedShippingCountry) {\n        country = selectedShippingCountry;\n      } else if (selectedCountry) {\n        country = selectedCountry || \"\";\n      }\n\n      var state = \"\";\n\n      if (selectedShippingCity) {\n        state = selectedShippingCity;\n      } else if (selectedCity) {\n        state = selectedCity || \"\";\n      }\n\n      var zipcode = \"\";\n\n      if (shipping_zip_code) {\n        zipcode = shipping_zip_code;\n      } else if (billing_zip_code) {\n        zipcode = billing_zip_code;\n      }\n\n      order.orderproduct = items.map(function (el) {\n        // console.log({el})\n        // this.parseOrderProduct(el);\n        // console.log({\n        //   checkOrder: this.parseOrderProduct(el)\n        // })\n        // return this.parseOrderProduct(el)\n        var returnItem = {\n          productmetaid: el._id,\n          proucttitle: el.combo ? el.title : el.productid.producttitle,\n          quantity: el.qty.value,\n          singleprice: el.saleprice ? el.saleprice : el.regularprice,\n          subtotal: 0,\n          orderdate: Date(),\n          country: country,\n          isguest: true || false,\n          subscribed: el.subscribed,\n          subscribedDiscountPersent: el.subscribedDiscountPersent\n        };\n        var subtotal = parseInt(returnItem.quantity || 1) * parseInt(returnItem.singleprice || 1);\n        var attribute = {};\n\n        if (el.producttype === \"variable\") {\n          el.attributes.map(function (item, index) {\n            attribute = _objectSpread(_objectSpread({}, attribute), {}, _defineProperty({}, item.names, el[item.names].value));\n            return null;\n          });\n        }\n\n        returnItem = _objectSpread(_objectSpread({}, returnItem), {}, {\n          subtotal: subtotal,\n          attribute: attribute\n        });\n        return _objectSpread({}, returnItem);\n      });\n      var shippingAddress = \"\".concat(shipping_first_name, \" \").concat(shipping_last_name, \", \").concat(shipping_address_name_01, \" \").concat(shipping_address_name_02, \" \").concat(shipping_address_town, \" \");\n      var billingAddress = \"\".concat(billing_first_name, \" \").concat(billing_last_name, \", \").concat(billing_address_name_01, \" \").concat(billing_address_name_02, \" \").concat(billing_address_town, \" \");\n      var TaxgrandTotalWithTax = subTotal + taxPercent * subTotal + shippingCharge;\n      var discount = taxCouponDiscount * subTotal / 100;\n\n      if (user._id) {\n        var userid = user._id;\n        order.userid = userid;\n      }\n\n      order.grandtotal = parseFloat(TaxgrandTotalWithTax || 0) - parseFloat(discount || 0);\n      order.coupondisc = taxCouponDiscount;\n      order.couponid = taxCouponCode;\n      order.country = country;\n      order.offerprice = 100;\n      order.shippingmethod = service || \"Express shipping\" || \"Normal shipping\";\n      order.wholesubtotal = subTotal;\n      order.shippingcharge = shippingCharge || 0;\n      order.paymentmethod = payType;\n      order.ordernote = \"Make it quick\";\n      order.status = \"in process\";\n      order.paymentstatus = \"Done\";\n      order.transactionid = transactionId;\n      order.country_tax = taxPercent * 100;\n      order.totalweight = totalWeight;\n      order.totalvolume = totalVolume;\n      order.taxamount = taxValue;\n      order.userdetails = {\n        country: country,\n        firstname: billing_first_name,\n        lastname: billing_last_name,\n        email: billing_email_name,\n        shippingaddress: sameShipping ? billingAddress : shippingAddress,\n        billingaddress: billingAddress,\n        extraaddress: \"jdjdjd\",\n        city: shipping_address_town ? shipping_address_town : billing_address_town,\n        state: state,\n        zipcode: zipcode,\n        phonenumber: billing_phone_name\n      };\n      order.orderstatus = \"Not delivered\";\n\n      if (referrer_url_id) {\n        order.wasreferred = true;\n        order.referral = referrer_url_id;\n      }\n\n      return _objectSpread(_objectSpread({}, order), confirmRest);\n    }\n  }, {\n    key: \"getUserDetails\",\n    value: function getUserDetails(stateObj) {\n      var billing_first_name = stateObj.billing_first_name,\n          billing_last_name = stateObj.billing_last_name,\n          billing_email_name = stateObj.billing_email_name,\n          billing_phone_name = stateObj.billing_phone_name,\n          billing_address_name_01 = stateObj.billing_address_name_01,\n          billing_address_name_02 = stateObj.billing_address_name_02,\n          billing_address_town = stateObj.billing_address_town,\n          shipping_first_name = stateObj.shipping_first_name,\n          shipping_last_name = stateObj.shipping_last_name,\n          shipping_address_name_01 = stateObj.shipping_address_name_01,\n          shipping_address_name_02 = stateObj.shipping_address_name_02,\n          shipping_address_town = stateObj.shipping_address_town,\n          selectedShippingCity = stateObj.selectedShippingCity,\n          selectedCity = stateObj.selectedCity,\n          selectedShippingCountry = stateObj.selectedShippingCountry,\n          selectedCountry = stateObj.selectedCountry,\n          shipping_zip_code = stateObj.shipping_zip_code,\n          billing_zip_code = stateObj.billing_zip_code,\n          sameShipping = stateObj.sameShipping;\n      var shippingAddress = \"\".concat(shipping_first_name, \" \").concat(shipping_last_name, \", \").concat(shipping_address_name_01, \" \").concat(shipping_address_name_02, \" \").concat(shipping_address_town, \" \");\n      var billingAddress = \"\".concat(billing_first_name, \" \").concat(billing_last_name, \", \").concat(billing_address_name_01, \" \").concat(billing_address_name_02, \" \").concat(billing_address_town, \" \");\n      var user = {\n        firstname: billing_first_name,\n        lastname: billing_last_name,\n        email: billing_email_name,\n        shippingaddress: sameShipping ? billingAddress : shippingAddress,\n        billingaddress: billingAddress,\n        phonenumber: billing_phone_name,\n        country: this.getOneValid(selectedShippingCountry, selectedCountry),\n        zipcode: this.getOneValid(shipping_zip_code, billing_zip_code),\n        state: this.getOneValid(selectedShippingCity, selectedCity)\n      };\n      return {\n        user: user,\n        shippingAddress: shippingAddress,\n        billingAddress: billingAddress\n      };\n    }\n  }, {\n    key: \"getOneValid\",\n    value: function getOneValid(a, b) {\n      if (a && a.trim()) return a;\n      if (b && b.trim()) return b;\n      return \"\";\n    }\n  }, {\n    key: \"checkProductInWishList\",\n    value: function checkProductInWishList() {\n      var list = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var product_id = arguments.length > 1 ? arguments[1] : undefined;\n      var flag = false; // console.log(list)\n      // console.log(product_id)\n\n      if (list.length > 0) {\n        list.forEach(function (itm, i) {\n          if (itm.productid === product_id) {\n            flag = i;\n          }\n        });\n      }\n\n      return flag;\n    }\n  }, {\n    key: \"getSingleElementByMultipleObject\",\n    value: function getSingleElementByMultipleObject(arrayData, f) {\n      var result = arrayData.reduce(function (r, a) {\n        r[a.carrier] = r[a.carrier] || [];\n        r[a.carrier].push(a);\n        return r;\n      }, {});\n      return result;\n    }\n  }, {\n    key: \"shippingStringRate\",\n    value: function shippingStringRate(key) {\n      if (key && key.est_delivery_days) {\n        return \" in \" + key.est_delivery_days + \" Days .\";\n      } else {\n        return \" in - Days .\";\n      }\n    }\n  }, {\n    key: \"cartHeightWidhtCalculation\",\n    value: function cartHeightWidhtCalculation(item) {\n      var height = 0;\n      var width = 0;\n      var length = 0;\n      var weight = 0;\n\n      if (item.length > 0) {\n        item.forEach(function (itm) {\n          height = height + itm.shipping_height;\n          width = width + itm.shipping_width;\n          length = length + itm.shipping_length;\n          weight = weight + itm.weight;\n        });\n      }\n\n      return {\n        height: height,\n        width: width,\n        length: length,\n        weight: weight\n      };\n    }\n  }, {\n    key: \"cartHeightWidhtCalculation2\",\n    value: function cartHeightWidhtCalculation2(itemA) {\n      var height = 0;\n      var width = 0;\n      var length = 0;\n      var weight = 0;\n\n      function flatten(arr) {\n        return arr.reduce(function (flat, toFlatten) {\n          return flat.concat(Array.isArray(toFlatten) ? flatten(toFlatten) : toFlatten);\n        }, []);\n      }\n\n      var item = flatten(itemA.map(function (el) {\n        var qty = el.qty ? el.qty.value ? parseInt(el.qty.value) : 1 : 1;\n        if (qty > 1) return new Array(qty).fill(el);\n        return el;\n      }));\n\n      var getGreater = function getGreater(a, b) {\n        if (a > b) return a;\n        return b;\n      };\n\n      if (item.length > 0) {\n        item.forEach(function (itm) {\n          // height = getGreater(height, itm.shipping_height);\n          // width = width + itm.shipping_width;\n          // length = getGreater(length, itm.shipping_length);\n          weight = weight + itm.weight;\n        });\n      }\n\n      var itemsB = itemA.map(function (el) {\n        return {\n          h: el.shipping_height,\n          l: el.shipping_length,\n          w: el.shipping_width,\n          qty: el.qty.value\n        };\n      });\n      var itemsC = [].concat.apply([], itemsB);\n      var itemsD = combineLoop(itemsC)[0];\n      return {\n        height: itemsD.h,\n        width: itemsD.w,\n        length: itemsD.l,\n        weight: weight\n      };\n    }\n  }, {\n    key: \"exportToJson\",\n    value: function exportToJson(objectData) {\n      var fileName = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"export\";\n      var filename = \"\".concat(fileName, \".json\");\n      var contentType = \"application/json;charset=utf-8;\";\n\n      if (window.navigator && window.navigator.msSaveOrOpenBlob) {\n        var blob = new Blob([decodeURIComponent(encodeURI(JSON.stringify(objectData)))], {\n          type: contentType\n        });\n        navigator.msSaveOrOpenBlob(blob, filename);\n      } else {\n        var a = document.createElement(\"a\");\n        a.download = filename;\n        a.href = \"data:\" + contentType + \",\" + encodeURIComponent(JSON.stringify(objectData));\n        a.target = \"_blank\";\n        document.body.appendChild(a);\n        a.click();\n        document.body.removeChild(a);\n      }\n    }\n  }, {\n    key: \"qtyList\",\n    value: function qtyList() {\n      var qty = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 10;\n      var quantity = parseFloat(qty) > 10 ? parseFloat(qty) : 10;\n      var temp = new Array(quantity).fill(\"\");\n      var newarray = temp.map(function (el, index) {\n        return {\n          label: index + 1,\n          value: index + 1\n        };\n      });\n      return newarray;\n    }\n  }]);\n\n  return BasicFunction;\n}();\n\nexport { BasicFunction as default };","map":{"version":3,"sources":["/Users/akshataggarwal/Documents/Coding Files/webd projects/missnew front/services/extra/basicFunction.js"],"names":["_","expireMonthInvalid","expireYearInvalid","cardNumberInvalid","cardDetailsNotMAtch","shippingExtraRate","defaultOrderStatus","defaultStatusInOrder","shippingStaticRate","referralPresent","combineLoop","BasicFunction","obj","Object","keys","forEach","key","item","producttype","attributes","map","el","names","value","filter","reduce","a","b","saleprice","regularprice","subscribedDiscountPersent","qty","subscribed","price","parseFloat","error","paymentDetail","cvNumber","expDate","cardNumber","length","rateArr","filteredRates","uniqBy","e","service","smallSorted","sort","rate","Smallest","Smallest1","Smallest2","PriorityRaw","find","ExpressRaw","standard","customName","customRate","Priority","Express","date","d","Date","month","getMonth","day","getDate","year","getFullYear","join","dateis","hours","getHours","minutes","getMinutes","ampm","strTime","monthNames","monthnameis","number","Math","abs","nbr","nr","toFixed","toString","pattern","test","replace","numberX","withoutUsd","currencyWithoutUsd","num","string","charAt","toUpperCase","slice","digit","UNIX_timestamp","hour","min","timeis","parseInt","getYear","yesterday","getTime","setDate","beforeDay","beforeMonth","setMonth","beforeYear","data","str","res","split","newArray","character","push","spn","innerHTML","index","indexOf","substring","starting","ending","substr","currentUrl","window","location","href","ar","parValue","totalvalue","arr","variation","sale_price","Array","prototype","max","apply","returnString","nombarFormat","dsaleprice","dregularprice","values","every","url","sParam","sPageURL","decodeURIComponent","search","sURLVariables","sParameterName","i","trim","countryCodeList","countryCode","returnCuntryCode","element","code","dial_code","shippingType","isSame","billingAddress","shippingAddress","toLowerCase","isCombo","combo","comboId","_id","productId","productid","productMeta","isSubscribed","subscriptionMeta","duration","subscribedTime","itemId","title","producttitle","unitPrice","subTotal","multiply","attribute","getSelectedAttributes","height","shipping_height","width","shipping_width","shipping_length","volume","weight","order","removeEmpty","stateObj","paymentResponse","referralId","cart","user","confirmShipRes","confirmRest","paymentMethod","items","shippingCharge","totalWeight","totalVolume","taxValue","taxPercent","taxCouponDiscount","taxCouponCode","orderProducts","parseOrderProduct","getHeightWeight","totalHeight","totalLength","totalWidth","shippingMethod","products","countryTax","taxAmount","userDetails","getUserDetails","orderStatus","status","wholeSubtotal","wasReferred","referral","isCoupon","couponId","couponDisc","grandTotal","getGrandTotal","isGuest","userId","userMetaId","refPercentage","discount","taxPresent","amountWithTax","discountAmount","getDiscount","total","shape","referrer_url_id","transactionId","payType","paymentID","billing_first_name","billing_last_name","billing_email_name","billing_phone_name","billing_address_name_01","billing_address_name_02","billing_address_town","shipping_first_name","shipping_last_name","shipping_address_name_01","shipping_address_name_02","shipping_address_town","selectedShippingCity","selectedCity","selectedShippingCountry","selectedCountry","shipping_zip_code","billing_zip_code","sameShipping","country","state","zipcode","orderproduct","returnItem","productmetaid","proucttitle","quantity","singleprice","subtotal","orderdate","isguest","TaxgrandTotalWithTax","userid","grandtotal","coupondisc","couponid","offerprice","shippingmethod","wholesubtotal","shippingcharge","paymentmethod","ordernote","paymentstatus","transactionid","country_tax","totalweight","totalvolume","taxamount","userdetails","firstname","lastname","email","shippingaddress","billingaddress","extraaddress","city","phonenumber","orderstatus","wasreferred","getOneValid","list","product_id","flag","itm","arrayData","f","result","r","carrier","est_delivery_days","itemA","flatten","flat","toFlatten","concat","isArray","fill","getGreater","itemsB","h","l","w","itemsC","itemsD","objectData","fileName","filename","contentType","navigator","msSaveOrOpenBlob","blob","Blob","encodeURI","JSON","stringify","type","document","createElement","download","encodeURIComponent","target","body","appendChild","click","removeChild","temp","newarray","label"],"mappings":"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","sourcesContent":["import _ from \"lodash\"\nimport {\n  expireMonthInvalid,\n  expireYearInvalid,\n  cardNumberInvalid,\n  cardDetailsNotMAtch,\n  shippingExtraRate,\n  defaultOrderStatus,\n  defaultStatusInOrder,\n  shippingStaticRate\n} from \"../../constants/constantMessage\";\n// import { referralPresent } from \"../../components\";\n const referralPresent = 25;\nimport { combineLoop } from \"box-dimension-calculator\";\n// import { variablePriceSet } from \"./cartHealpers\";\n\nexport default class BasicFunction {\n  dateFun(date) {\n    var d = new Date(date),\n      month = \"\" + (d.getMonth() + 1),\n      day = \"\" + d.getDate(),\n      year = d.getFullYear();\n    if (month.length < 2) month = \"0\" + month;\n    if (day.length < 2) day = \"0\" + day;\n    return [month, day, year].join(\"/\");\n  }\n  dateFun2(date) {\n    var d = new Date(date),\n      month = \"\" + (d.getMonth() + 1),\n      day = \"\" + d.getDate(),\n      year = d.getFullYear();\n    if (month.length < 2) month = \"0\" + month;\n    if (day.length < 2) day = \"0\" + day;\n    return [month, day, year].join(\"/\");\n  }\n  dateTimeAmPm(date) {\n    var d = new Date(date),\n      month = \"\" + (d.getMonth() + 1),\n      day = \"\" + d.getDate(),\n      year = d.getFullYear();\n\n    if (month.length < 2) month = \"0\" + month;\n    if (day.length < 2) day = \"0\" + day;\n    const dateis = month + \"/\" + day + \"/\" + year + \" \";\n    var hours = d.getHours();\n    var minutes = d.getMinutes();\n    var ampm = hours >= 12 ? \"PM\" : \"AM\";\n    hours = hours % 12;\n    hours = hours ? hours : 12; // the hour '0' should be '12'\n    minutes = minutes < 10 ? \"0\" + minutes : minutes;\n    var strTime = hours + \":\" + minutes + \" \" + ampm;\n    return dateis + strTime;\n  }\n  dateTimeAmPmOld(date) {\n    const monthNames = [\n      \"January\",\n      \"February\",\n      \"March\",\n      \"April\",\n      \"May\",\n      \"June\",\n      \"July\",\n      \"August\",\n      \"September\",\n      \"October\",\n      \"November\",\n      \"December\"\n    ];\n    var d = new Date(date),\n      month = \"\" + (d.getMonth() + 1),\n      day = \"\" + d.getDate(),\n      year = d.getFullYear();\n\n    if (month.length < 2) month = \"0\" + month;\n    if (day.length < 2) day = \"0\" + day;\n    const monthnameis = monthNames[month - 1];\n    const dateis = monthnameis + \" \" + day + \",\" + year + \" \";\n    var hours = d.getHours();\n    var minutes = d.getMinutes();\n    var ampm = hours >= 12 ? \"PM\" : \"AM\";\n    hours = hours % 12;\n    hours = hours ? hours : 12; // the hour '0' should be '12'\n    minutes = minutes < 10 ? \"0\" + minutes : minutes;\n    var strTime = hours + \":\" + minutes + \" \" + ampm;\n    return dateis + strTime;\n  }\n  dateTimeInMonthName(date) {\n    if (!date) return \"-\";\n\n    const monthNames = [\n      \"Jan\",\n      \"Feb\",\n      \"March\",\n      \"April\",\n      \"May\",\n      \"June\",\n      \"July\",\n      \"Aug\",\n      \"Sept\",\n      \"Oct\",\n      \"Nov\",\n      \"Dec\"\n    ];\n    var d = new Date(date),\n      month = \"\" + (d.getMonth() + 1),\n      day = \"\" + d.getDate(),\n      year = d.getFullYear();\n\n    if (month.length < 2) month = \"0\" + month;\n    if (day.length < 2) day = \"0\" + day;\n    const monthnameis = monthNames[month - 1];\n    const dateis = monthnameis + \" \" + day + \", \" + year + \" \";\n    //var hours = d.getHours();\n    // var minutes = d.getMinutes();\n    //  hours = hours % 12;\n    //  hours = hours ? hours : 12; // the hour '0' should be '12'\n    // minutes = minutes < 10 ? \"0\" + minutes : minutes;\n\n    return dateis;\n  }\n\n  currancyAdd(number) {\n    if (number >= 0) {\n      return \"$\" + number;\n    } else {\n      return \"-$\" + Math.abs(number);\n    }\n  }\n  nombarFormat(nbr) {\n    if (nbr === 0 && nbr === \"\") {\n      return \"0.00\";\n    } else {\n      if (nbr) {\n        var nr = nbr.toFixed(2);\n        nr = nr.toString();\n        var pattern = /(-?\\d+)(\\d{3})/;\n        while (pattern.test(nr)) nr = nr.replace(pattern, \"$1,$2\");\n        return nr;\n      } else {\n        return 0.0;\n      }\n    }\n  }\n  currancyAddWithNumber(numberX) {\n    const number = parseFloat(numberX);\n    const withoutUsd = this.currencyWithoutUsd(number);\n    // return `${withoutUsd} USD`;\n    return `${withoutUsd}`;\n  }\n\n  currencyWithoutUsd(numberX) {\n    if (numberX) {\n      let number = parseFloat(numberX);\n      number = number.toFixed(2);\n      var pattern = /(-?\\d+)(\\d{3})/;\n      if (number >= 0) {\n        number = number.toString();\n        while (pattern.test(number)) number = number.replace(pattern, \"$1,$2\");\n        return \"$\" + number;\n      } else {\n        var num = Math.abs(number);\n        num = num.toFixed(2);\n        num = num.toString();\n\n        while (pattern.test(num)) num = num.replace(pattern, \"$1,$2\");\n        return \"-$\" + num;\n      }\n    } else {\n      return \"$0.00\";\n    }\n  }\n  capitalizeFirstLetter(string) {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  }\n\n  sliceToNumber(string = 0, digit = 0) {\n    return string.slice(0, digit);\n  }\n\n  timeConverter(UNIX_timestamp) {\n    var a = new Date(UNIX_timestamp * 1000);\n    // var months = [\n    //   \"Jan\",\n    //   \"Feb\",\n    //   \"Mar\",\n    //   \"Apr\",\n    //   \"May\",\n    //   \"Jun\",\n    //   \"Jul\",\n    //   \"Aug\",\n    //   \"Sep\",\n    //   \"Oct\",\n    //   \"Nov\",\n    //   \"Dec\"\n    // ];\n    // var year = a.getFullYear();\n    // var month = months[a.getMonth()];\n    // var date = a.getDate();\n    var hour = a.getHours();\n    var min = a.getMinutes();\n    // var sec = a.getSeconds();\n    if (min < 10) {\n      min = \"0\" + min;\n    }\n    // var ampm = \"AM\";\n    var timeis = \"\";\n    if (hour <= 12) {\n      timeis = hour + \":\" + min + \"AM\";\n    } else {\n      hour = parseFloat(hour) - 12;\n      timeis = hour + \":\" + min + \"PM\";\n    }\n    //   var res = hour + \":\" + min;\n    return timeis;\n  }\n  currentDate() {\n    var d = new Date();\n    var year = parseInt(d.getYear()) - 100;\n    var month = d.getMonth() + 1;\n    return \"20\" + year + \"/\" + month + \"/\" + d.getDate();\n  }\n  currentDateYesterday() {\n    var d = new Date();\n    var year = parseInt(d.getYear()) - 100;\n    var month = d.getMonth() + 1;\n    var yesterday = new Date(d.getTime());\n    yesterday.setDate(d.getDate() - 1);\n    var date = yesterday.getDate();\n    return \"20\" + year + \"/\" + month + \"/\" + date;\n  }\n  currentDateBeforeDay(beforeDay) {\n    var d = new Date();\n\n    var yesterday = new Date(d.getTime());\n    yesterday.setDate(d.getDate() - parseInt(beforeDay));\n    var date = yesterday.getDate();\n    var year = parseInt(yesterday.getYear()) - 100;\n    var month = yesterday.getMonth() + 1;\n\n    return \"20\" + year + \"/\" + month + \"/\" + date;\n  }\n  currentDateBeforeMonth(beforeMonth) {\n    var d = new Date();\n    d.setMonth(d.getMonth() - parseInt(beforeMonth));\n    var month = d.getMonth() + parseInt(1);\n    var year = parseInt(d.getYear()) - 100;\n    return \"20\" + year + \"/\" + month + \"/\" + d.getDate();\n  }\n  currentDateBeforeYear(beforeYear) {\n    var d = new Date();\n    var month = d.getMonth() + parseInt(1);\n    var year = parseInt(d.getYear()) - 100;\n    year = year - parseInt(beforeYear);\n    return \"20\" + year + \"/\" + month + \"/\" + d.getDate();\n  }\n\n  graphColorPostion(data) {\n    if (data >= 0) {\n      return \"#1fa764\";\n    } else {\n      return \"#ed5454\";\n    }\n  }\n  graphColorFillPostion(data) {\n    if (data >= 0) {\n      return \"#abe5c1\";\n    } else {\n      return \"#ffa1a9\";\n    }\n  }\n\n  stringToArray(str) {\n    var res = str.split(\",\");\n    var newArray = [];\n    res.forEach(character => {\n      if (character === character.toUpperCase()) {\n        if (character.length <= 4) {\n          newArray.push(character);\n        }\n      }\n    });\n    return newArray.slice(0, 10);\n  }\n\n  checkIsUpparCashOrNot(character) {\n    if (character === character.toUpperCase()) {\n      if (character.length <= 4) {\n        return true;\n      } else {\n        return false;\n      }\n    } else {\n      return false;\n    }\n  }\n\n  stringCheckResponseInColor(str, spn) {\n    var innerHTML = str;\n    spn = spn.toUpperCase();\n    var index = innerHTML.indexOf(spn);\n    if (index >= 0) {\n      innerHTML =\n        innerHTML.substring(0, index) +\n        \"<span className='highlight'>\" +\n        innerHTML.substring(index, index + spn.length) +\n        \"</span>\" +\n        innerHTML.substring(index + spn.length);\n\n      // return 'ram';\n    }\n\n    return innerHTML;\n  }\n\n  subStrStartEnd(str, starting, ending) {\n    if (str) {\n      return str.substr(starting, ending);\n    } else {\n      return str;\n    }\n  }\n\n  bodyColor() {\n    var currentUrl = window.location.href;\n    var ar = currentUrl.split(\"/\");\n\n    if (ar[3] === \"stocks\") {\n      return \"black\";\n    } else {\n      return \"\";\n    }\n  }\n\n  getParchantage(parValue, totalvalue) {\n    return (parseFloat(parValue) * parseFloat(totalvalue)) / 100;\n  }\n  getUnknownParchantage(parValue, totalvalue) {\n    return (parseFloat(parValue) / totalvalue) * 100;\n  }\n\n  getMinMaxValue(ar) {\n    /*eslint no-extend-native: [\"error\", { \"exceptions\": [\"Array\"] }]*/\n    if (ar.producttype === \"variable\") {\n      const arr = [];\n      ar.variation.map(key => {\n        arr.push(key.sale_price);\n        return null;\n      });\n      Array.prototype.max = function() {\n        return Math.max.apply(null, this);\n      };\n\n      Array.prototype.min = function() {\n        return Math.min.apply(null, this);\n      };\n      if (arr.length > 1) {\n        if (arr.min() === arr.max()) {\n          const returnString = \"From $\" + this.nombarFormat(arr.min()) ;\n          return returnString;\n        }\n        const returnString =\n          \"From $\" +\n          this.nombarFormat(arr.min()) +\n          \" - $\" +\n          this.nombarFormat(arr.max());\n        return returnString;\n      } else {\n        const returnString = \"From $\" + this.nombarFormat(arr.min());\n        return returnString;\n      }\n    }\n  }\n  getMinMaxValue2(ar) {\n    /*eslint no-extend-native: [\"error\", { \"exceptions\": [\"Array\"] }]*/\n    if (ar.producttype === \"variable\") {\n      const arr = [];\n      ar.variation.map(key => {\n        arr.push(key.sale_price);\n        return null;\n      });\n      Array.prototype.max = function() {\n        return Math.max.apply(null, this);\n      };\n\n      Array.prototype.min = function() {\n        return Math.min.apply(null, this);\n      };\n      if (arr.length > 1) {\n        if (arr.min() === arr.max()) {\n          const returnString = \"$\" + this.nombarFormat(arr.min());\n          return returnString;\n        }\n        const returnString =\n          \"$\" +\n          this.nombarFormat(arr.min()) +\n          \" - $\" +\n          this.nombarFormat(arr.max());\n        return returnString;\n      } else {\n        const returnString = \"$\" + this.nombarFormat(arr.min());\n        return returnString;\n      }\n    }\n  }\n  getMinMaxValueWithVariation(ar) {\n    if (ar.producttype === \"variable\") {\n      const arr = [];\n      ar.variation.map(key => {\n        arr.push(key.sale_price);\n        return null;\n      });\n      Array.prototype.max = function() {\n        return Math.max.apply(null, this);\n      };\n\n      Array.prototype.min = function() {\n        return Math.min.apply(null, this);\n      };\n      if (arr.length > 1) {\n        const returnString =\n          \"From $\" +\n          this.nombarFormat(arr.min()) +\n          \" - $\" +\n          this.nombarFormat(arr.max());\n        return returnString;\n      } else {\n        const returnString = \"From $\" + this.nombarFormat(arr.min());\n        return returnString;\n      }\n    } else {\n      if (ar.dsaleprice) {\n        const returnString =\n          \"From $\" + this.nombarFormat(ar.dsaleprice) ;\n        return returnString;\n      } else {\n        const returnString =\n          \"From $\" + this.nombarFormat(ar.dregularprice) ;\n        return returnString;\n      }\n    }\n  }\n\n  isLoaded(obj) {\n    return Object.values(obj).every(el => el);\n  }\n\n  removeParams(url, sParam) {\n    url = url.split(\"?\")[0] + \"?\";\n    var sPageURL = decodeURIComponent(window.location.search.substring(1)),\n      sURLVariables = sPageURL.split(\"&\"),\n      sParameterName,\n      i;\n\n    for (i = 0; i < sURLVariables.length; i++) {\n      sParameterName = sURLVariables[i].split(\"=\");\n      if (sParameterName[0] !== sParam) {\n        url = url + sParameterName[0] + \"=\" + sParameterName[1] + \"&\";\n      }\n    }\n    return url.substring(0, url.length - 1);\n  }\n\n  returnReferringUrl(url) {\n    if (!url) return \"Direct traffic\";\n    if (url.trim() === \"\") return \"Direct traffic\";\n    return url;\n  }\n  getDialCode(countryCodeList, countryCode) {\n    var returnCuntryCode = \"\";\n    countryCodeList.forEach(element => {\n      if (element.code === countryCode) {\n        returnCuntryCode = element.dial_code;\n      }\n    });\n    return returnCuntryCode;\n  }\n  showExportMsg(shippingType, isSame, billingAddress, shippingAddress) {\n    if (shippingType !== \"express\") return false;\n\n    if (isSame) {\n      if (billingAddress)\n        if (billingAddress.toLowerCase().trim() === \"usa\") {\n          return false;\n        }\n    } else {\n      if (shippingAddress)\n        if (shippingAddress.toLowerCase().trim() === \"usa\") {\n          return false;\n        }\n    }\n\n    return true;\n  }\n  parseOrderProduct(item) {\n    const isCombo = item.combo ? true : false,\n      comboId = item.combo ? item._id : null,\n      productId = item.combo ? null : item.productid._id,\n      productMeta = item.combo ? null : item._id,\n      isSubscribed = item.subscribed ? true : false,\n      subscriptionMeta = item.subscribed\n        ? {\n            duration: item.subscribedTime\n          }\n        : null,\n      itemId = item._id,\n      _id = item._id,\n      qty = item.qty.value,\n      title = item.combo ? item.title : item.productid.producttitle,\n      unitPrice = item.saleprice ? item.saleprice : item.regularprice,\n      subTotal = item.saleprice\n        ? this.multiply(item.saleprice, item.qty.value)\n        : this.multiply(item.regularprice, item.qty.value),\n      attribute = this.getSelectedAttributes(item),\n      height = item.shipping_height,\n      width = item.shipping_width,\n      length = item.shipping_length,\n      volume = item.volume,\n      weight = item.weight;\n\n    const order = {\n      isCombo,\n      comboId,\n      productId,\n      productMeta,\n      isSubscribed,\n      subscriptionMeta,\n      itemId,\n      _id,\n      qty,\n      unitPrice,\n      subTotal,\n      attribute,\n      width,\n      length,\n      height,\n      title,\n      volume,\n      weight\n    };\n    this.removeEmpty(order);\n    return order;\n  }\n  removeEmpty = obj => {\n    Object.keys(obj).forEach(key => obj[key] === null && delete obj[key]);\n  };\n  getSelectedAttributes = item => {\n    if (item.producttype === \"variable\")\n      return item.attributes\n        .map(el => ({\n          [el.names]: item[el.names].value\n        }))\n        .filter(el => el)\n        .reduce(\n          (a, b) => ({\n            ...a,\n            ...b\n          }),\n          {}\n        );\n    return null;\n  };\n  multiply(a, b) {\n    return parseFloat(a) * parseFloat(b);\n  }\n  generateOrderNew(\n    stateObj,\n    paymentResponse = \"\",\n    referralId,\n    cart,\n    user,\n    confirmShipRes\n  ) {\n    const { service, ...confirmRest } = confirmShipRes;\n    const { paymentMethod } = stateObj;\n    const {\n      items,\n      shippingCharge,\n      subTotal,\n      totalWeight,\n      totalVolume,\n      taxValue,\n      taxPercent,\n      taxCouponDiscount,\n      taxCouponCode\n    } = cart;\n\n    const orderProducts = items.map(el => this.parseOrderProduct(el));\n    const {\n      height: totalHeight,\n      length: totalLength,\n      width: totalWidth\n    } = this.getHeightWeight(orderProducts);\n    const order = {\n      totalVolume,\n      totalWeight,\n      shippingMethod: service,\n      products: orderProducts,\n      countryTax: taxPercent * 100,\n      taxAmount:\n        taxValue ||\n        parseFloat(cart.subTotal || 0) * parseFloat(taxPercent || 0) ||\n        0,\n      shippingCharge,\n      userDetails: this.getUserDetails(stateObj).user,\n      orderStatus: defaultOrderStatus,\n      paymentMethod: paymentMethod === \"stripe\" ? \"Authorize\" : paymentMethod,\n      status: defaultStatusInOrder,\n      wholeSubtotal: parseFloat(subTotal.toFixed(2)),\n      wasReferred: referralId ? true : false,\n      referral: referralId ? referralId : null,\n      isCoupon: taxCouponCode ? true : false,\n      couponId: taxCouponCode,\n      couponDisc: taxCouponCode ? taxCouponDiscount : null,\n      grandTotal: this.getGrandTotal(\n        subTotal,\n        taxPercent,\n        shippingCharge,\n        taxCouponDiscount\n      ),\n      isGuest: user._id ? false : true,\n      userId: user._id ? user._id : null,\n      userMetaId: user.userMetaId ? user.userMetaId : null,\n      totalHeight,\n      totalWidth,\n      totalLength,\n      refPercentage: referralPresent,\n      ...confirmRest\n    };\n    this.removeEmpty(order);\n    return order;\n  }\n  getDiscount(discount, subTotal) {\n    return (discount * subTotal) / 100 || 0;\n  }\n  getGrandTotal(subTotal, taxPresent, shippingCharge, discount) {\n    const amountWithTax = subTotal + taxPresent * subTotal + shippingCharge;\n    const discountAmount = this.getDiscount(discount, subTotal);\n    const total =\n      parseFloat(amountWithTax || 0) - parseFloat(discountAmount || 0);\n    return parseFloat(total.toFixed(2));\n  }\n  getHeightWeight(items) {\n    const height = items.map(el => el.height * parseFloat(el.qty));\n    const width = items.map(el => el.width * parseFloat(el.qty));\n    const length = items.map(el => el.length * parseFloat(el.qty));\n    \n    const shape = {\n      height: height.reduce((a, b) => a + b, 0),\n      width: width.reduce((a, b) => a + b, 0),\n      length: length.reduce((a, b) => a + b, 0)\n    };\n    return shape;\n  }\n  generateOrder(\n    stateObj,\n    paymentResponse = \"\",\n    referrer_url_id,\n    cart,\n    user,\n    confirmShipRes\n  ) {\n    const { service, ...confirmRest } = confirmShipRes;\n    var transactionId = \"000\";\n    const payType = stateObj.paymentMethod;\n    if (stateObj.paymentMethod === \"stripe\" && paymentResponse) {\n      transactionId = paymentResponse;\n    }\n    if (\n      stateObj.paymentMethod === \"paypal\" &&\n      paymentResponse &&\n      paymentResponse.paymentID\n    ) {\n      transactionId = paymentResponse.paymentID;\n    }\n    // return false;\n    const {\n      items,\n      shippingCharge,\n      subTotal,\n      totalWeight,\n      totalVolume,\n      taxValue,\n      taxPercent,\n      taxCouponDiscount,\n      taxCouponCode\n    } = cart;\n    const {\n      billing_first_name,\n      billing_last_name,\n      billing_email_name,\n      billing_phone_name,\n      billing_address_name_01,\n      billing_address_name_02,\n      billing_address_town,\n      shipping_first_name,\n      shipping_last_name,\n\n      shipping_address_name_01,\n      shipping_address_name_02,\n      shipping_address_town,\n      selectedShippingCity,\n      selectedCity,\n      selectedShippingCountry,\n      selectedCountry,\n      shipping_zip_code,\n      billing_zip_code,\n      sameShipping\n    } = stateObj;\n\n    let order = {};\n    let country = \"\";\n    if (selectedShippingCountry) {\n      country = selectedShippingCountry;\n    } else if (selectedCountry) {\n      country = selectedCountry || \"\";\n    }\n    let state = \"\";\n    if (selectedShippingCity) {\n      state = selectedShippingCity;\n    } else if (selectedCity) {\n      state = selectedCity || \"\";\n    }\n    let zipcode = \"\";\n    if (shipping_zip_code) {\n      zipcode = shipping_zip_code;\n    } else if (billing_zip_code) {\n      zipcode = billing_zip_code;\n    }\n    order.orderproduct = items.map(el => {\n      // console.log({el})\n      // this.parseOrderProduct(el);\n      // console.log({\n      //   checkOrder: this.parseOrderProduct(el)\n      // })\n      // return this.parseOrderProduct(el)\n      let returnItem = {\n        productmetaid: el._id,\n        proucttitle: el.combo ? el.title : el.productid.producttitle,\n        quantity: el.qty.value,\n        singleprice: el.saleprice ? el.saleprice : el.regularprice,\n        subtotal: 0,\n        orderdate: Date(),\n        country,\n        isguest: true || false,\n        subscribed: el.subscribed,\n        subscribedDiscountPersent: el.subscribedDiscountPersent\n      };\n\n      let subtotal =\n        parseInt(returnItem.quantity || 1) *\n        parseInt(returnItem.singleprice || 1);\n      let attribute = {};\n      if (el.producttype === \"variable\") {\n        el.attributes.map((item, index) => {\n          attribute = { ...attribute, [item.names]: el[item.names].value };\n          return null;\n        });\n      }\n\n      returnItem = { ...returnItem, subtotal, attribute };\n      return { ...returnItem };\n    });\n\n    let shippingAddress = `${shipping_first_name} ${shipping_last_name}, ${shipping_address_name_01} ${shipping_address_name_02} ${shipping_address_town} `;\n    let billingAddress = `${billing_first_name} ${billing_last_name}, ${billing_address_name_01} ${billing_address_name_02} ${billing_address_town} `;\n\n    const TaxgrandTotalWithTax =\n      subTotal + taxPercent * subTotal + shippingCharge;\n    const discount = (taxCouponDiscount * subTotal) / 100;\n    if (user._id) {\n      const userid = user._id;\n      order.userid = userid;\n    }\n\n    order.grandtotal =\n      parseFloat(TaxgrandTotalWithTax || 0) - parseFloat(discount || 0);\n    order.coupondisc = taxCouponDiscount;\n    order.couponid = taxCouponCode;\n    order.country = country;\n    order.offerprice = 100;\n    order.shippingmethod = service || \"Express shipping\" || \"Normal shipping\";\n    order.wholesubtotal = subTotal;\n    order.shippingcharge = shippingCharge || 0;\n    order.paymentmethod = payType;\n    order.ordernote = \"Make it quick\";\n    order.status = \"in process\";\n    order.paymentstatus = \"Done\";\n    order.transactionid = transactionId;\n    order.country_tax = taxPercent * 100;\n    order.totalweight = totalWeight;\n    order.totalvolume = totalVolume;\n    order.taxamount = taxValue;\n    order.userdetails = {\n      country,\n      firstname: billing_first_name,\n      lastname: billing_last_name,\n      email: billing_email_name,\n      shippingaddress: sameShipping ? billingAddress : shippingAddress,\n      billingaddress: billingAddress,\n      extraaddress: \"jdjdjd\",\n      city: shipping_address_town\n        ? shipping_address_town\n        : billing_address_town,\n      state,\n      zipcode,\n      phonenumber: billing_phone_name\n    };\n    order.orderstatus = \"Not delivered\";\n    if (referrer_url_id) {\n      order.wasreferred = true;\n      order.referral = referrer_url_id;\n    }\n    return { ...order, ...confirmRest };\n  }\n  getUserDetails(stateObj) {\n    const {\n      billing_first_name,\n      billing_last_name,\n      billing_email_name,\n      billing_phone_name,\n      billing_address_name_01,\n      billing_address_name_02,\n      billing_address_town,\n      shipping_first_name,\n      shipping_last_name,\n\n      shipping_address_name_01,\n      shipping_address_name_02,\n      shipping_address_town,\n      selectedShippingCity,\n      selectedCity,\n      selectedShippingCountry,\n      selectedCountry,\n      shipping_zip_code,\n      billing_zip_code,\n      sameShipping\n    } = stateObj;\n\n    const shippingAddress = `${shipping_first_name} ${shipping_last_name}, ${shipping_address_name_01} ${shipping_address_name_02} ${shipping_address_town} `;\n    const billingAddress = `${billing_first_name} ${billing_last_name}, ${billing_address_name_01} ${billing_address_name_02} ${billing_address_town} `;\n\n    const user = {\n      firstname: billing_first_name,\n      lastname: billing_last_name,\n      email: billing_email_name,\n      shippingaddress: sameShipping ? billingAddress : shippingAddress,\n      billingaddress: billingAddress,\n      phonenumber: billing_phone_name,\n      country: this.getOneValid(selectedShippingCountry, selectedCountry),\n      zipcode: this.getOneValid(shipping_zip_code, billing_zip_code),\n      state: this.getOneValid(selectedShippingCity, selectedCity)\n    };\n    return {\n      user,\n      shippingAddress,\n      billingAddress\n    };\n  }\n  getOneValid(a, b) {\n    if (a && a.trim()) return a;\n    if (b && b.trim()) return b;\n\n    return \"\";\n  }\n  calculatePrice = item => {\n    const {\n      saleprice,\n      regularprice,\n      subscribedDiscountPersent,\n      qty: { value },\n      subscribed\n    } = item;\n    if (subscribed) {\n      if (saleprice) {\n        const price =\n          (parseFloat(saleprice) * parseFloat(value)) /\n          parseFloat(subscribedDiscountPersent);\n        return price;\n      } else if (regularprice) {\n        const price =\n          (parseFloat(regularprice) * parseFloat(value)) /\n          parseFloat(subscribedDiscountPersent);\n        return price;\n      }\n      return 0;\n    }\n  };\n  convertCardErrors = error => {\n    switch (error) {\n      case \"Your card number is incorrect.\":\n        return cardNumberInvalid;\n\n      case \"Missing required param: card[exp_year].\":\n        return expireYearInvalid;\n\n      case \"Could not find payment information.\":\n        return cardDetailsNotMAtch;\n\n      case \"Your card's expiration year is invalid.\":\n        return expireYearInvalid;\n\n      case \"Your card's expiration month is invalid.\":\n        return expireMonthInvalid;\n\n      default:\n        return expireMonthInvalid;\n    }\n  };\n  stripeCheckValidation = paymentDetail => {\n    const { cvNumber, expDate, cardNumber } = paymentDetail;\n    if (cvNumber && cvNumber.length <= 2) {\n      return false;\n    }\n    if (expDate && expDate.length <= 4) {\n      return false;\n    }\n    if (cardNumber && cardNumber.length <= 18) {\n      return false;\n    }\n\n    return true;\n  };\n  checkProductInWishList(list = [], product_id) {\n    var flag = false;\n    // console.log(list)\n    // console.log(product_id)\n    if (list.length > 0) {\n      list.forEach((itm, i) => {\n        if (itm.productid === product_id) {\n          flag = i;\n        }\n      });\n    }\n    return flag;\n  }\n\n  getSingleElementByMultipleObject(arrayData, f) {\n    const result = arrayData.reduce(function(r, a) {\n      r[a.carrier] = r[a.carrier] || [];\n      r[a.carrier].push(a);\n      return r;\n    }, {});\n    return result;\n  }\n  shippingStringRate(key) {\n    if (key && key.est_delivery_days) {\n      return \" in \" + key.est_delivery_days + \" Days .\";\n    } else {\n      return \" in - Days .\";\n    }\n  }\n  cartHeightWidhtCalculation(item) {\n    var height = 0;\n    var width = 0;\n    var length = 0;\n    var weight = 0;\n    if (item.length > 0) {\n      item.forEach(itm => {\n        height = height + itm.shipping_height;\n        width = width + itm.shipping_width;\n        length = length + itm.shipping_length;\n        weight = weight + itm.weight;\n      });\n    }\n    return {\n      height,\n      width,\n      length,\n      weight\n    };\n  }\n  cartHeightWidhtCalculation2(itemA) {\n    var height = 0;\n    var width = 0;\n    var length = 0;\n    var weight = 0;\n    function flatten(arr) {\n      return arr.reduce(function(flat, toFlatten) {\n        return flat.concat(\n          Array.isArray(toFlatten) ? flatten(toFlatten) : toFlatten\n        );\n      }, []);\n    }\n    const item = flatten(\n      itemA.map(el => {\n        const qty = el.qty ? (el.qty.value ? parseInt(el.qty.value) : 1) : 1;\n        if (qty > 1) return new Array(qty).fill(el);\n\n        return el;\n      })\n    );\n    const getGreater = (a, b) => {\n      if (a > b) return a;\n      return b;\n    };\n    if (item.length > 0) {\n      item.forEach(itm => {\n        // height = getGreater(height, itm.shipping_height);\n        // width = width + itm.shipping_width;\n        // length = getGreater(length, itm.shipping_length);\n        weight = weight + itm.weight;\n      });\n    }\n    const itemsB = itemA.map(el => ({\n      h: el.shipping_height,\n      l: el.shipping_length,\n      w: el.shipping_width,\n      qty: el.qty.value\n    }))\n    const itemsC = [].concat.apply([], itemsB);\n    const itemsD = combineLoop(itemsC)[0]\n    return {\n      height: itemsD.h,\n      width: itemsD.w,\n      length: itemsD.l,\n      weight\n    };\n  }\n  getShippingRates = rateArr => {\n    if (rateArr.length > 0) {\n      const filteredRates =  _.uniqBy(rateArr, function (e) {\n        return e.service;\n      });\n      const smallSorted = filteredRates.sort((a, b) => parseFloat(a.rate || 0) - parseFloat(b.rate || 0))\n      const Smallest = smallSorted[0];\n      const Smallest1 = smallSorted[1];\n      const Smallest2 = smallSorted[2];\n      const PriorityRaw = filteredRates.find(el => el.service === \"Priority\");\n      const ExpressRaw = filteredRates.find(el => el.service === \"Express\");\n\n      // const standard =\n      //   Smallest.service === \"Priority\" || Smallest.service === \"Express\"\n      //     ? null\n      //     : {\n      //         ...Smallest,\n      //         customName: \"Standard\",\n      //         customRate: parseFloat(Smallest.rate) + shippingExtraRate\n      //       };\n      // const Priority = PriorityRaw\n      //   ? {\n      //       ...PriorityRaw,\n      //       customName: \"Priority\",\n      //       customRate: parseFloat(PriorityRaw.rate) + shippingExtraRate\n      //     }\n      //   : null;\n      // const Express = ExpressRaw\n      //   ? {\n      //       ...ExpressRaw,\n      //       customName: \"Express\",\n      //       customRate: parseFloat(ExpressRaw.rate) + shippingExtraRate\n      //     }\n      //   : null;\n      const standard = Smallest && {\n                ...Smallest,\n                customName: \"Standard\",\n                customRate: parseFloat(Smallest.rate) + shippingExtraRate\n              };\n      const Priority = Smallest1 && {\n                ...Smallest1,\n                customName: \"Priority\",\n                customRate: parseFloat(Smallest1.rate) + shippingExtraRate\n              };\n      const Express = Smallest2 && {\n                ...Smallest2,\n                customName: \"Express\",\n                customRate: parseFloat(Smallest2.rate) + shippingExtraRate\n              };\n      return [standard, Priority, Express].filter(el => el);\n    }\n    return rateArr;\n    // return [\n    //   {\n    //     carrier: \"Carrier_Not_Found\",\n    //     created_at: new Date(),\n    //     currency: \"USD\",\n    //     mode: \"test\",\n    //     object: \"Rate\",\n    //     customName: \"Standard\",\n    //     rate: shippingStaticRate,\n    //     customRate: shippingStaticRate,\n    //     retail_currency: \"USD\",\n    //   }\n    // ]\n\n  };\n\n  exportToJson(objectData, fileName = \"export\") {\n    let filename = `${fileName}.json`;\n    let contentType = \"application/json;charset=utf-8;\";\n    if (window.navigator && window.navigator.msSaveOrOpenBlob) {\n      var blob = new Blob(\n        [decodeURIComponent(encodeURI(JSON.stringify(objectData)))],\n        { type: contentType }\n      );\n      navigator.msSaveOrOpenBlob(blob, filename);\n    } else {\n      var a = document.createElement(\"a\");\n      a.download = filename;\n      a.href =\n        \"data:\" +\n        contentType +\n        \",\" +\n        encodeURIComponent(JSON.stringify(objectData));\n      a.target = \"_blank\";\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n    }\n  }\n  qtyList(qty = 10) {\n    const quantity = parseFloat(qty) > 10 ? parseFloat(qty) : 10;\n    const temp = new Array(quantity).fill(\"\");\n    const newarray = temp.map((el, index) => ({\n      label: index + 1,\n      value: index + 1\n    }));\n    return newarray;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}