{"ast":null,"code":"import { ADD_ITEM, REMOVE_ITEM, MODIFY_ITEM, CLEAR_CART, SET_SHIPPING_CHARGE, SET_TAX_VALUE, SET_SHIPPING_TYPE, SET_COUPON_CODE_DISCOUNT_VALUE, SET_FAV_COUNTITY, SET_CART, SET_CART_NULL_ITEM, SET_CART_EDITABLE, REMOVE_COUPON_CODE_DISCOUNT_VALUE } from \"./type\";\nimport { addItem, removeItem, modifyProduct } from \"../../services/helpers/cart\";\nexport const addToCart = (item, cart = null, userMetaId = null) => dispatch => {\n  console.log({\n    item\n  });\n  dispatch({\n    type: ADD_ITEM,\n    payload: item\n  }); // console.log(\"1\");\n\n  if (cart) {\n    console.log(\"2\", {\n      cart\n    });\n    const newCart = addItem(cart, item);\n    const isNulled = newCart.items.find(el => el.isNull); // console.log({\n    //   isNulled\n    // });\n\n    if (isNulled && !newCart.hasNulled) {\n      dispatch(setCartNullItem());\n    } else if (newCart.hasNulled) {\n      dispatch(setCartNullItem(false));\n    } // if (userMetaId) {\n    //   setCartApi({\n    //     usermetaid: userMetaId,\n    //     cart: newCart\n    //   });\n    // }\n\n  } else {\n    if (item.isNull) {\n      dispatch(setCartNullItem());\n    }\n  }\n};\nexport const fetchCart = userId => dispatch => {\n  // console.log({ userId });\n  getSingleUserApi(userId).then(rep => {\n    const res = rep.data;\n    console.log({\n      res\n    });\n\n    if (res.status && res.user && res.user.cart) {\n      dispatch({\n        type: SET_CART,\n        payload: res.user.cart\n      });\n    }\n  });\n};\nexport const removeFromCart = (id, cart = null, userMetaId = null) => dispatch => {\n  dispatch({\n    type: REMOVE_ITEM,\n    payload: id\n  });\n\n  if (cart && userMetaId) {\n    const newCart = removeItem(cart, id); // setCartApi({\n    //   usermetaid: userMetaId,\n    //   cart: newCart\n    // });\n  }\n};\nexport const modifyItem = (oldItem, cart = null, userMetaId = null) => dispatch => {\n  dispatch({\n    type: MODIFY_ITEM,\n    payload: oldItem\n  });\n\n  if (cart && userMetaId) {\n    const newCart = modifyProduct(oldItem.oldItem, oldItem.newItem, cart); // setCartApi({\n    //   usermetaid: userMetaId,\n    //   cart: newCart\n    // });\n  }\n};\nexport const clearCart = (userMetaId = null) => dispatch => {\n  // console.log(\"cleared =========== \")\n  dispatch({\n    type: CLEAR_CART\n  });\n\n  if (userMetaId) {// setCartApi({\n    //   usermetaid: userMetaId,\n    //   cart: initialCart\n    // });\n  }\n};\nexport const clearCartA = () => {\n  //console.log(\"clear AAAAAAAAAA\")\n  return {\n    type: CLEAR_CART\n  };\n};\nexport const setShippingCharge = (charge, cart = null, userMetaId = null) => dispatch => {\n  dispatch({\n    type: SET_SHIPPING_CHARGE,\n    payload: charge\n  });\n\n  if (cart && userMetaId) {// setCartApi({\n    //   usermetaid: userMetaId,\n    //   cart: {\n    //     ...cart,\n    //     shippingCharge: charge\n    //   }\n    // });\n  }\n};\nexport const setShippingType = (type, cart = null, userMetaId = null) => dispatch => {\n  dispatch({\n    type: SET_SHIPPING_TYPE,\n    payload: type\n  });\n\n  if (cart && userMetaId) {// setCartApi({\n    //   usermetaid: userMetaId,\n    //   cart: {\n    //     ...cart,\n    //     shippingType: type\n    //   }\n    // });\n  }\n};\nexport const setTax = (tax, cart = null, userMetaId = null) => dispatch => {\n  dispatch({\n    type: SET_TAX_VALUE,\n    payload: tax\n  });\n\n  if (cart && userMetaId) {// setCartApi({\n    //   usermetaid: userMetaId,\n    //   cart: {\n    //     ...cart,\n    //     taxPercent: tax.taxPercent,\n    //     taxCountry: tax.taxCountry\n    //   }\n    // });\n  }\n};\nexport const setCoupon = (coupon, cart = null, userMetaId = null) => dispatch => {\n  console.log(\"In action\");\n  dispatch({\n    type: SET_COUPON_CODE_DISCOUNT_VALUE,\n    payload: coupon\n  });\n\n  if (cart && userMetaId) {// setCartApi({\n    //   usermetaid: userMetaId,\n    //   cart: {\n    //     ...cart,\n    //     taxCouponCode: coupon.taxCouponCode,\n    //     taxCouponDiscount: coupon.taxCouponDiscount\n    //   }\n    // });\n  }\n};\nexport const setFav = (fav, cart = null, userMetaId = null) => dispatch => {\n  dispatch({\n    type: SET_FAV_COUNTITY,\n    payload: fav\n  });\n\n  if (cart && userMetaId) {// setCartApi({\n    //   usermetaid: userMetaId,\n    //   cart: {\n    //     ...cart,\n    //     setFav: fav.setFav\n    //   }\n    // });\n  }\n};\nexport const setCartNullItem = (isNull = true) => ({\n  type: SET_CART_NULL_ITEM,\n  payload: isNull\n});\nexport const setEditable = (isEditable = true) => ({\n  type: SET_CART_EDITABLE,\n  payload: isEditable\n});\nexport const removeCoupon = (cart = null, userMetaId = null) => dispatch => {\n  console.log(\"In action\");\n  dispatch({\n    type: REMOVE_COUPON_CODE_DISCOUNT_VALUE,\n    payload: {}\n  });\n\n  if (cart && userMetaId) {// setCartApi({\n    //   usermetaid: userMetaId,\n    //   cart: {\n    //     ...cart,\n    //     taxCouponCode: coupon.taxCouponCode,\n    //     taxCouponDiscount: coupon.taxCouponDiscount\n    //   }\n    // });\n  }\n};","map":{"version":3,"sources":["/Users/akshataggarwal/Documents/Coding Files/webd projects/missnew front/redux/actions/cart.js"],"names":["ADD_ITEM","REMOVE_ITEM","MODIFY_ITEM","CLEAR_CART","SET_SHIPPING_CHARGE","SET_TAX_VALUE","SET_SHIPPING_TYPE","SET_COUPON_CODE_DISCOUNT_VALUE","SET_FAV_COUNTITY","SET_CART","SET_CART_NULL_ITEM","SET_CART_EDITABLE","REMOVE_COUPON_CODE_DISCOUNT_VALUE","addItem","removeItem","modifyProduct","addToCart","item","cart","userMetaId","dispatch","console","log","type","payload","newCart","isNulled","items","find","el","isNull","hasNulled","setCartNullItem","fetchCart","userId","getSingleUserApi","then","rep","res","data","status","user","removeFromCart","id","modifyItem","oldItem","newItem","clearCart","clearCartA","setShippingCharge","charge","setShippingType","setTax","tax","setCoupon","coupon","setFav","fav","setEditable","isEditable","removeCoupon"],"mappings":"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","sourcesContent":["import {\n  ADD_ITEM,\n  REMOVE_ITEM,\n  MODIFY_ITEM,\n  CLEAR_CART,\n  SET_SHIPPING_CHARGE,\n  SET_TAX_VALUE,\n  SET_SHIPPING_TYPE,\n  SET_COUPON_CODE_DISCOUNT_VALUE,\n  SET_FAV_COUNTITY,\n  SET_CART,\n  SET_CART_NULL_ITEM,\n  SET_CART_EDITABLE,\n  REMOVE_COUPON_CODE_DISCOUNT_VALUE,\n} from \"./type\";\n\nimport {\n  addItem,\n  removeItem,\n  modifyProduct,\n} from \"../../services/helpers/cart\";\n\nexport const addToCart = (item, cart = null, userMetaId = null) => (\n  dispatch\n) => {\n  console.log({ item });\n  dispatch({\n    type: ADD_ITEM,\n    payload: item,\n  });\n  // console.log(\"1\");\n  if (cart) {\n    console.log(\"2\", { cart });\n    const newCart = addItem(cart, item);\n    const isNulled = newCart.items.find((el) => el.isNull);\n    // console.log({\n    //   isNulled\n    // });\n    if (isNulled && !newCart.hasNulled) {\n      dispatch(setCartNullItem());\n    } else if (newCart.hasNulled) {\n      dispatch(setCartNullItem(false));\n    }\n    // if (userMetaId) {\n    //   setCartApi({\n    //     usermetaid: userMetaId,\n    //     cart: newCart\n    //   });\n    // }\n  } else {\n    if (item.isNull) {\n      dispatch(setCartNullItem());\n    }\n  }\n};\nexport const fetchCart = (userId) => (dispatch) => {\n  // console.log({ userId });\n\n  getSingleUserApi(userId).then((rep) => {\n    const res = rep.data;\n    console.log({ res });\n    if (res.status && res.user && res.user.cart) {\n      dispatch({\n        type: SET_CART,\n        payload: res.user.cart,\n      });\n    }\n  });\n};\nexport const removeFromCart = (id, cart = null, userMetaId = null) => (\n  dispatch\n) => {\n  dispatch({\n    type: REMOVE_ITEM,\n    payload: id,\n  });\n  if (cart && userMetaId) {\n    const newCart = removeItem(cart, id);\n    // setCartApi({\n    //   usermetaid: userMetaId,\n    //   cart: newCart\n    // });\n  }\n};\n\nexport const modifyItem = (oldItem, cart = null, userMetaId = null) => (\n  dispatch\n) => {\n  dispatch({\n    type: MODIFY_ITEM,\n    payload: oldItem,\n  });\n  if (cart && userMetaId) {\n    const newCart = modifyProduct(oldItem.oldItem, oldItem.newItem, cart);\n    // setCartApi({\n    //   usermetaid: userMetaId,\n    //   cart: newCart\n    // });\n  }\n};\nexport const clearCart = (userMetaId = null) => (dispatch) => {\n  // console.log(\"cleared =========== \")\n  dispatch({\n    type: CLEAR_CART,\n  });\n  if (userMetaId) {\n    // setCartApi({\n    //   usermetaid: userMetaId,\n    //   cart: initialCart\n    // });\n  }\n};\nexport const clearCartA = () => {\n  //console.log(\"clear AAAAAAAAAA\")\n  return {\n    type: CLEAR_CART,\n  };\n};\nexport const setShippingCharge = (charge, cart = null, userMetaId = null) => (\n  dispatch\n) => {\n  dispatch({\n    type: SET_SHIPPING_CHARGE,\n    payload: charge,\n  });\n  if (cart && userMetaId) {\n    // setCartApi({\n    //   usermetaid: userMetaId,\n    //   cart: {\n    //     ...cart,\n    //     shippingCharge: charge\n    //   }\n    // });\n  }\n};\n\nexport const setShippingType = (type, cart = null, userMetaId = null) => (\n  dispatch\n) => {\n  dispatch({\n    type: SET_SHIPPING_TYPE,\n    payload: type,\n  });\n  if (cart && userMetaId) {\n    // setCartApi({\n    //   usermetaid: userMetaId,\n    //   cart: {\n    //     ...cart,\n    //     shippingType: type\n    //   }\n    // });\n  }\n};\n\nexport const setTax = (tax, cart = null, userMetaId = null) => (dispatch) => {\n  dispatch({\n    type: SET_TAX_VALUE,\n    payload: tax,\n  });\n  if (cart && userMetaId) {\n    // setCartApi({\n    //   usermetaid: userMetaId,\n    //   cart: {\n    //     ...cart,\n    //     taxPercent: tax.taxPercent,\n    //     taxCountry: tax.taxCountry\n    //   }\n    // });\n  }\n};\n\nexport const setCoupon = (coupon, cart = null, userMetaId = null) => (\n  dispatch\n) => {\n  console.log(\"In action\");\n  dispatch({\n    type: SET_COUPON_CODE_DISCOUNT_VALUE,\n    payload: coupon,\n  });\n  if (cart && userMetaId) {\n    // setCartApi({\n    //   usermetaid: userMetaId,\n    //   cart: {\n    //     ...cart,\n    //     taxCouponCode: coupon.taxCouponCode,\n    //     taxCouponDiscount: coupon.taxCouponDiscount\n    //   }\n    // });\n  }\n};\n\nexport const setFav = (fav, cart = null, userMetaId = null) => (dispatch) => {\n  dispatch({\n    type: SET_FAV_COUNTITY,\n    payload: fav,\n  });\n  if (cart && userMetaId) {\n    // setCartApi({\n    //   usermetaid: userMetaId,\n    //   cart: {\n    //     ...cart,\n    //     setFav: fav.setFav\n    //   }\n    // });\n  }\n};\n\nexport const setCartNullItem = (isNull = true) => ({\n  type: SET_CART_NULL_ITEM,\n  payload: isNull,\n});\n\nexport const setEditable = (isEditable = true) => ({\n  type: SET_CART_EDITABLE,\n  payload: isEditable,\n});\n\nexport const removeCoupon = (cart = null, userMetaId = null) => (dispatch) => {\n  console.log(\"In action\");\n  dispatch({\n    type: REMOVE_COUPON_CODE_DISCOUNT_VALUE,\n    payload: {},\n  });\n  if (cart && userMetaId) {\n    // setCartApi({\n    //   usermetaid: userMetaId,\n    //   cart: {\n    //     ...cart,\n    //     taxCouponCode: coupon.taxCouponCode,\n    //     taxCouponDiscount: coupon.taxCouponDiscount\n    //   }\n    // });\n  }\n};\n"]},"metadata":{},"sourceType":"module"}