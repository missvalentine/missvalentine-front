{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport { Input, Button } from 'antd';\nimport AdminLayout from '../../../components/admin/AdminLayout';\nimport { createSubcategory, getAllCategories } from '../../../services/apis/admin.js';\nimport '../../../components/styles/app.scss';\nimport { Select } from 'antd';\nconst {\n  Option\n} = Select;\nexport default function create() {\n  const {\n    0: name,\n    1: setName\n  } = useState('');\n  const {\n    0: categories,\n    1: setCategories\n  } = useState([]);\n  const {\n    0: categoryId,\n    1: setCategoryId\n  } = useState(null);\n\n  const onSubmit = event => {\n    event.preventDefault();\n    createSubcategory({\n      name: name,\n      category: categoryId\n    }).then(res => {\n      if (res.data && res.data.success) {\n        setName('');\n        setCategoryId(null);\n      }\n    });\n  };\n\n  useEffect(() => {\n    getAllCategories().then(res => res && res.data && setCategories(res.data.data));\n  }, []);\n\n  function handleCatChange(value) {\n    setCategoryId(value);\n  }\n\n  return __jsx(AdminLayout, null, __jsx(\"h3\", null, \"Create a New Category\"), categories.length > 1 ? __jsx(\"div\", null, __jsx(Select, {\n    placeholder: \"Select Category Category\",\n    style: {\n      width: '100%'\n    },\n    onChange: handleCatChange,\n    bordered: true\n  }, categories.map((cate, index) => __jsx(Option, {\n    key: index,\n    value: cate._id,\n    name: cate.name\n  }, cate.name))), __jsx(Input, {\n    addonBefore: 'Enter Sub-Category Name',\n    value: name,\n    onChange: e => setName(e.target.value),\n    placeholder: \"ex Bra, lingrie\",\n    disabled: categoryId === null\n  }), __jsx(Button, {\n    onClick: onSubmit,\n    type: \"submit\",\n    className: \"\"\n  }, \"Submit\")) : __jsx(\"div\", null, \"Create a Category first\"));\n}","map":null,"metadata":{},"sourceType":"module"}