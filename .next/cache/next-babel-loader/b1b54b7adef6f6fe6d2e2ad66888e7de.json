{"ast":null,"code":"var _jsxFileName = \"/Users/akshataggarwal/Documents/Coding Files/webd projects/missvalentine-front/components/nav.js\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport dynamic from 'next/dynamic';\nimport React, { useState, useRef } from 'react';\nimport { connect } from 'react-redux';\nimport Link from 'next/link';\nimport Router from 'next/router';\nimport classNames from 'classnames';\nimport './styles/app.scss';\nconst Drawer = dynamic(() => import('./Drawer'), {\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak('./Drawer')],\n    modules: ['./Drawer']\n  }\n});\nconst CartDrawer = dynamic(() => import('./CartDrawer'), {\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak('./CartDrawer')],\n    modules: ['./CartDrawer']\n  }\n});\nimport { toggleCartBar, hideCartBar, toggleRegBar } from '../redux/actions/drawers';\nimport { unsetUser } from '../redux/actions/user';\nimport { clearCart } from '../redux/actions/cart';\nconst Registration = dynamic(() => import('./popups/Registration'), {\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak('./popups/Registration')],\n    modules: ['./popups/Registration']\n  }\n});\nconst ForgetPassword = dynamic(() => import('./popups/ForgetPassword'), {\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak('./popups/ForgetPassword')],\n    modules: ['./popups/ForgetPassword']\n  }\n});\nconst Login = dynamic(() => import('./popups/Login'), {\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak('./popups/Login')],\n    modules: ['./popups/Login']\n  }\n});\nimport { Menu, Dropdown } from 'antd';\nconst Input = dynamic(() => import('./form-components/Input'), {\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak('./form-components/Input')],\n    modules: ['./form-components/Input']\n  }\n});\nimport CartIcon from './CartIcon';\nimport { SearchOutlined } from '@ant-design/icons';\nimport apiList from '../services/apis/apiList';\nimport { getVisibleProducts, addSlugToProduct, getProductTitle, getProductShortDesc, getBasicPrice } from '../services/helpers/product';\nimport projectSettings from '../constants/projectSettings';\nimport CartItem from './CartItem';\nimport { numberFormat } from '../services/helpers/misc';\nconst {\n  SubMenu\n} = Menu;\n\nconst Nav = ({\n  parent,\n  items,\n  isRight,\n  props\n}) => {\n  const inputEl = useRef(null);\n  const {\n    0: isOpen,\n    1: setOpen\n  } = useState(false);\n  const {\n    0: search,\n    1: setSearch\n  } = useState('');\n  const {\n    0: display,\n    1: setDisplay\n  } = useState(false);\n  const {\n    0: products,\n    1: setProducts\n  } = useState([]); // const [isCartOpen, setIsCartOpen] = useState(false)\n\n  const onClick = (e, action) => {\n    if (action === 'link') {}\n\n    if (action === 'cart') {\n      toggleCartBar(); // setIsCartOpen(!isCartOpen)\n    }\n\n    if (action === 'reg') {\n      toggleRegBar();\n    }\n\n    if (action === 'logout') {\n      // console.log(props);\n      unsetUser();\n      localStorage.clear();\n      clearCart(); //  console.log(\"after logout\",props);\n\n      Router.push('/');\n    } // if(action==='search'){\n    // }\n\n  }; // useEffect(()=> {\n  //   $(inputEl.current).hover(()=> {\n  //     $(this).css(\"background\", \"red\")\n  //   })\n  // })\n\n\n  const onSubmit = e => {\n    //console.log(`${window.location.origin}/search/${search}`);\n    // window.location.href(`${window.location.origin}/search/${search}`)\n    if (e.key === 'Enter') {\n      Router.push(`/search/${search}`);\n    }\n  }; // console.log(display);\n\n\n  const menu = __jsx(\"div\", {\n    className: \"search-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 5\n    }\n  }, __jsx(Menu, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    style: {\n      marginTop: '40px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }), products.length > 0 ? products.map((product, i) => __jsx(Menu.Item, {\n    style: {\n      height: 'fit-content'\n    },\n    key: i,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"c-cart-drawer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 15\n    }\n  }, __jsx(CartItem, {\n    key: i,\n    title: product.title,\n    image: product.image,\n    subTitle: product.totalcbdmg,\n    price: `$${numberFormat(parseFloat(product.price.sale_price))}`,\n    isSearch: true,\n    clearSearch: () => {\n      setDisplay(false);\n      setSearch('');\n      setProducts([]);\n      Router.push(`/shop/${product.title.replace(/ /g, '-')}`);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }\n  })))) : __jsx(SubMenu, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 11\n    }\n  }, __jsx(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  }, \"No records found\"))));\n\n  const filterProducts = async value => {\n    setSearch(value);\n\n    if (value === '') {\n      setDisplay(false);\n      setProducts([]);\n      return;\n    }\n\n    setDisplay(true);\n    const res = await fetch(apiList.getAllProducts);\n    const productList = await res.json();\n    const visibleProducts = getVisibleProducts(productList.products);\n    const newList = visibleProducts.map(el => addSlugToProduct(el));\n    const productsRow = newList.map(el => {\n      return _objectSpread(_objectSpread({}, el), {}, {\n        image: el.productImage ? projectSettings.serverUrl + el.productImage : '//via.placeholder.com/300x500',\n        title: getProductTitle(el),\n        subTitle: getProductShortDesc(el),\n        price: getBasicPrice(el),\n        qty: 1\n      });\n    });\n    const applySearch = productsRow.filter(el => {\n      if (value === '') return false;\n      return el.title.toLowerCase().includes(value.toLowerCase());\n    }); // console.log(applySearch);\n\n    setProducts(applySearch);\n  };\n\n  console.log(user);\n  return __jsx(\"nav\", {\n    // onMouseOver={(element) => {\n    //   setOpen(true);\n    // }} onMouseOut={() => {setOpen(false)}}\n    className: classNames('c-nav', {\n      [`${parent}__nav`]: parent,\n      [`c-nav--right`]: isRight\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 5\n    }\n  }, __jsx(\"ul\", {\n    className: \"c-nav__list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }\n  }, items.map((el, ind) => __jsx(\"li\", {\n    ref: inputEl,\n    key: ind,\n    className: classNames('c-nav__list-item', {\n      'c-nav__list-item--has-sub-menu': el.subMenus\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 11\n    }\n  }, el.link ? __jsx(Link, {\n    as: el.as || el.link,\n    href: el.link,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 15\n    }\n  }, __jsx(\"a\", {\n    onClick: e => {\n      onClick(e, el.action);\n    },\n    className: classNames('c-nav__link', {\n      'c-nav__link sub-menu': el.subMenus\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 17\n    }\n  }, el.label, el.icon)) : __jsx(\"span\", {\n    onClick: e => {\n      onClick(e, el.action);\n    },\n    className: \"c-nav__link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 15\n    }\n  }, el.label, el.icon, el.isCart && __jsx(CartIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 31\n    }\n  })), el.subMenus && // <ul className=\"c-nav__sub-menu\">\n  __jsx(\"div\", {\n    className: \"sidebar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: \"sidebarLeftDiv\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 17\n    }\n  }, __jsx(\"ul\", {\n    style: {\n      listStyleType: 'none'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 19\n    }\n  }, el.subMenus.map((elx, i) => // <Flip key={i} left opposite when={isOpen}>\n  //   <li className=\"c-nav__sub-menu-item\">\n  //     <Link as={elx.as || elx.link} href={elx.link}>\n  //       <a className=\"c-nav__link c-nav__link--sub\">\n  //         {elx.label}\n  //       </a>\n  //     </Link>\n  //   </li>\n  // </Flip>\n  __jsx(\"li\", {\n    style: {\n      margin: '30px 20px'\n    },\n    key: i,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 23\n    }\n  }, __jsx(Link, {\n    as: elx.as || elx.link,\n    href: elx.link,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 25\n    }\n  }, __jsx(\"a\", {\n    className: \"c-nav__link c-nav__link--sub\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 27\n    }\n  }, elx.label)))))))))));\n};\n\nNav.defaultProps = {\n  items: []\n};\nexport default Nav;","map":{"version":3,"sources":["/Users/akshataggarwal/Documents/Coding Files/webd projects/missvalentine-front/components/nav.js"],"names":["dynamic","React","useState","useRef","connect","Link","Router","classNames","Drawer","CartDrawer","toggleCartBar","hideCartBar","toggleRegBar","unsetUser","clearCart","Registration","ForgetPassword","Login","Menu","Dropdown","Input","CartIcon","SearchOutlined","apiList","getVisibleProducts","addSlugToProduct","getProductTitle","getProductShortDesc","getBasicPrice","projectSettings","CartItem","numberFormat","SubMenu","Nav","parent","items","isRight","props","inputEl","isOpen","setOpen","search","setSearch","display","setDisplay","products","setProducts","onClick","e","action","localStorage","clear","push","onSubmit","key","menu","marginTop","length","map","product","i","height","title","image","totalcbdmg","parseFloat","price","sale_price","replace","filterProducts","value","res","fetch","getAllProducts","productList","json","visibleProducts","newList","el","productsRow","productImage","serverUrl","subTitle","qty","applySearch","filter","toLowerCase","includes","console","log","user","ind","subMenus","link","as","label","icon","isCart","listStyleType","elx","margin","defaultProps"],"mappings":"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","sourcesContent":["import dynamic from 'next/dynamic';\nimport React, { useState, useRef } from 'react';\nimport { connect } from 'react-redux';\nimport Link from 'next/link';\nimport Router from 'next/router';\nimport classNames from 'classnames';\nimport './styles/app.scss';\nconst Drawer = dynamic(() => import('./Drawer'));\nconst CartDrawer = dynamic(() => import('./CartDrawer'));\nimport {\n  toggleCartBar,\n  hideCartBar,\n  toggleRegBar,\n} from '../redux/actions/drawers';\nimport { unsetUser } from '../redux/actions/user';\nimport { clearCart } from '../redux/actions/cart';\nconst Registration = dynamic(() => import('./popups/Registration'));\nconst ForgetPassword = dynamic(() => import('./popups/ForgetPassword'));\nconst Login = dynamic(() => import('./popups/Login'));\nimport { Menu, Dropdown } from 'antd';\nconst Input = dynamic(() => import('./form-components/Input'));\nimport CartIcon from './CartIcon';\nimport { SearchOutlined } from '@ant-design/icons';\nimport apiList from '../services/apis/apiList';\nimport {\n  getVisibleProducts,\n  addSlugToProduct,\n  getProductTitle,\n  getProductShortDesc,\n  getBasicPrice,\n} from '../services/helpers/product';\nimport projectSettings from '../constants/projectSettings';\nimport CartItem from './CartItem';\nimport { numberFormat } from '../services/helpers/misc';\nconst { SubMenu } = Menu;\nconst Nav = ({ parent, items, isRight, props }) => {\n  const inputEl = useRef(null);\n  const [isOpen, setOpen] = useState(false);\n  const [search, setSearch] = useState('');\n  const [display, setDisplay] = useState(false);\n  const [products, setProducts] = useState([]);\n\n  // const [isCartOpen, setIsCartOpen] = useState(false)\n  const onClick = (e, action) => {\n    if (action === 'link') {\n    }\n    if (action === 'cart') {\n      toggleCartBar();\n      // setIsCartOpen(!isCartOpen)\n    }\n    if (action === 'reg') {\n      toggleRegBar();\n    }\n    if (action === 'logout') {\n      // console.log(props);\n\n      unsetUser();\n      localStorage.clear();\n      clearCart();\n      //  console.log(\"after logout\",props);\n      Router.push('/');\n    }\n    // if(action==='search'){\n\n    // }\n  };\n  // useEffect(()=> {\n  //   $(inputEl.current).hover(()=> {\n  //     $(this).css(\"background\", \"red\")\n  //   })\n  // })\n  const onSubmit = (e) => {\n    //console.log(`${window.location.origin}/search/${search}`);\n    // window.location.href(`${window.location.origin}/search/${search}`)\n    if (e.key === 'Enter') {\n      Router.push(`/search/${search}`);\n    }\n  };\n\n  // console.log(display);\n\n  const menu = (\n    <div className=\"search-container\">\n      <Menu>\n        <div style={{ marginTop: '40px' }}></div>\n        {products.length > 0 ? (\n          products.map((product, i) => (\n            <Menu.Item style={{ height: 'fit-content' }} key={i}>\n              <div className=\"c-cart-drawer\">\n                <CartItem\n                  key={i}\n                  title={product.title}\n                  image={product.image}\n                  subTitle={product.totalcbdmg}\n                  price={`$${numberFormat(\n                    parseFloat(product.price.sale_price)\n                  )}`}\n                  isSearch={true}\n                  clearSearch={() => {\n                    setDisplay(false);\n                    setSearch('');\n                    setProducts([]);\n                    Router.push(`/shop/${product.title.replace(/ /g, '-')}`);\n                  }}\n                />\n              </div>\n            </Menu.Item>\n          ))\n        ) : (\n          <SubMenu>\n            <h2>No records found</h2>\n          </SubMenu>\n        )}\n      </Menu>\n    </div>\n  );\n\n  const filterProducts = async (value) => {\n    setSearch(value);\n    if (value === '') {\n      setDisplay(false);\n      setProducts([]);\n      return;\n    }\n    setDisplay(true);\n    const res = await fetch(apiList.getAllProducts);\n    const productList = await res.json();\n    const visibleProducts = getVisibleProducts(productList.products);\n    const newList = visibleProducts.map((el) => addSlugToProduct(el));\n    const productsRow = newList.map((el) => {\n      return {\n        ...el,\n        image: el.productImage\n          ? projectSettings.serverUrl + el.productImage\n          : '//via.placeholder.com/300x500',\n        title: getProductTitle(el),\n        subTitle: getProductShortDesc(el),\n        price: getBasicPrice(el),\n        qty: 1,\n      };\n    });\n    const applySearch = productsRow.filter((el) => {\n      if (value === '') return false;\n      return el.title.toLowerCase().includes(value.toLowerCase());\n    });\n    // console.log(applySearch);\n    setProducts(applySearch);\n  };\n  console.log(user);\n  return (\n    <nav\n      // onMouseOver={(element) => {\n      //   setOpen(true);\n      // }} onMouseOut={() => {setOpen(false)}}\n      className={classNames('c-nav', {\n        [`${parent}__nav`]: parent,\n        [`c-nav--right`]: isRight,\n      })}\n    >\n      <ul className=\"c-nav__list\">\n        {items.map((el, ind) => (\n          <li\n            ref={inputEl}\n            key={ind}\n            className={classNames('c-nav__list-item', {\n              'c-nav__list-item--has-sub-menu': el.subMenus,\n            })}\n          >\n            {el.link ? (\n              <Link as={el.as || el.link} href={el.link}>\n                <a\n                  onClick={(e) => {\n                    onClick(e, el.action);\n                  }}\n                  className={classNames('c-nav__link', {\n                    'c-nav__link sub-menu': el.subMenus,\n                  })}\n                >\n                  {el.label}\n                  {el.icon}\n                </a>\n              </Link>\n            ) : (\n              <span\n                onClick={(e) => {\n                  onClick(e, el.action);\n                }}\n                className=\"c-nav__link\"\n              >\n                {el.label}\n                {el.icon}\n                {el.isCart && <CartIcon />}\n              </span>\n            )}\n            {el.subMenus && (\n              // <ul className=\"c-nav__sub-menu\">\n              <div className=\"sidebar\">\n                <div className=\"sidebarLeftDiv\">\n                  <ul style={{ listStyleType: 'none' }}>\n                    {el.subMenus.map((elx, i) => (\n                      // <Flip key={i} left opposite when={isOpen}>\n                      //   <li className=\"c-nav__sub-menu-item\">\n                      //     <Link as={elx.as || elx.link} href={elx.link}>\n                      //       <a className=\"c-nav__link c-nav__link--sub\">\n                      //         {elx.label}\n                      //       </a>\n                      //     </Link>\n                      //   </li>\n                      // </Flip>\n\n                      <li style={{ margin: '30px 20px' }} key={i}>\n                        <Link as={elx.as || elx.link} href={elx.link}>\n                          <a className=\"c-nav__link c-nav__link--sub\">\n                            {elx.label}\n                          </a>\n                        </Link>\n                      </li>\n                    ))}\n                  </ul>\n                </div>\n              </div>\n            )}\n          </li>\n        ))}\n      </ul>\n    </nav>\n  );\n};\n\nNav.defaultProps = {\n  items: [],\n};\n\nexport default Nav;\n"]},"metadata":{},"sourceType":"module"}