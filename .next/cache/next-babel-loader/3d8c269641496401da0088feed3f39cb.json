{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/akshataggarwal/Documents/Coding Files/webd projects/missvalentine-front/components/popups/Login.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport dynamic from \"next/dynamic\";\nimport { Form, Icon, Row } from \"antd\";\nvar Heading = dynamic(_c = function _c() {\n  return import(\"../Heading\");\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak(\"../Heading\")];\n    },\n    modules: [\"../Heading\"]\n  }\n});\n_c2 = Heading;\nvar Input = dynamic(_c3 = function _c3() {\n  return import(\"../form-components/Input\");\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak(\"../form-components/Input\")];\n    },\n    modules: [\"../form-components/Input\"]\n  }\n});\n_c4 = Input;\nimport { connect } from \"react-redux\";\nvar Button = dynamic(_c5 = function _c5() {\n  return import(\"../form-components/Button\");\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak(\"../form-components/Button\")];\n    },\n    modules: [\"../form-components/Button\"]\n  }\n});\n_c6 = Button;\nimport { loginUser, registerUser } from \"../../services/api\";\nimport msgStrings from \"../../constants/msgStrings\";\nimport { toggleRegBar, drawerToDisplay } from \"../../redux/actions/drawers\";\nimport { setUser } from \"../../redux/actions/user\";\nimport regex from \"../../services/helpers/regex\";\nimport reactComponentDebounce from \"react-component-debounce\";\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\nimport GoogleLogin from \"react-google-login\";\nimport FacebookLogin from \"react-facebook-login\";\nimport { faFacebookF } from \"@fortawesome/free-brands-svg-icons\";\nimport { LazyLoadImage } from \"react-lazy-load-image-component\";\nlibrary.add(faFacebookF);\nvar DebounceInput = reactComponentDebounce({\n  valuePropName: \"value\",\n  triggerMs: 1000\n})(Input);\n\nvar LoginForm = /*#__PURE__*/function (_React$Component) {\n  _inherits(LoginForm, _React$Component);\n\n  var _super = _createSuper(LoginForm);\n\n  function LoginForm() {\n    var _this;\n\n    _classCallCheck(this, LoginForm);\n\n    _this = _super.call(this);\n\n    _defineProperty(_assertThisInitialized(_this), \"handleSubmit\", function (e) {\n      e.preventDefault();\n\n      _this.props.form.validateFields(function (err, values) {\n        if (!err) {\n          // console.log(\"Received values of form: \", values);\n          var email = values.email,\n              password = values.password;\n\n          _this.setState({\n            isLoading: true,\n            error: null\n          });\n\n          loginUser({\n            email: email,\n            password: password\n          }).then(function (res) {\n            _this.setState({\n              isLoading: false\n            }); //  console.log({ res });\n\n\n            if (res.status === 200) {\n              if (res.data.status) {\n                _this.props.setUser(res.data.user);\n\n                _this.props.toggleRegBar();\n              } else {\n                var _res$data = res.data,\n                    error = _res$data.error,\n                    message = _res$data.message;\n\n                if (message) {\n                  _this.setState({\n                    error: message === \"User not found\" ? msgStrings.LOGIN_ERROR : message\n                  });\n                } else {\n                  _this.setState({\n                    error: error\n                  });\n                }\n              }\n            } else {}\n          })[\"catch\"](function (err) {\n            console.log({\n              err: err\n            });\n\n            _this.setState({\n              isLoading: false\n            });\n          });\n        }\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"responseGoogle\", function (response) {\n      var socialData;\n\n      var data = _objectSpread({}, response);\n\n      console.log(data);\n\n      if (data.googleId) {\n        var _data$profileObj = data.profileObj,\n            email = _data$profileObj.email,\n            familyName = _data$profileObj.familyName,\n            givenName = _data$profileObj.givenName,\n            googleId = _data$profileObj.googleId;\n        socialData = {\n          google: googleId,\n          email: email,\n          firstname: givenName,\n          lastname: familyName,\n          username: email.split(\"@\")[0]\n        };\n      }\n\n      if (response.graphDomain == \"facebook\") {\n        var _email = response.email,\n            id = response.id,\n            name = response.name;\n        name = name.split(\" \");\n        socialData = {\n          facebook: id,\n          email: _email,\n          username: _email.split(\"@\")[0]\n        };\n      } // console.log(socialData);\n\n\n      loginUser(_objectSpread({}, socialData)).then(function (res) {\n        //   console.log(res);\n        //    console.log({ res });\n        if (res.status === 200) {\n          if (res.data.status) {\n            _this.props.setUser(res.data.user);\n\n            _this.props.toggleRegBar(); // this.props.closeDrawer();\n\n\n            _this.setState({\n              isLoading: false\n            });\n          } else {\n            var _res$data2 = res.data,\n                error = _res$data2.error,\n                message = _res$data2.message;\n\n            if (message === \"User not found\") {\n              registerUser(_objectSpread({}, socialData)).then(function (res) {\n                //   console.log(res);\n                _this.setState({\n                  isLoading: false\n                }); //  console.log({ res });\n\n\n                if (res.status === 200) {\n                  if (res.data.status) {\n                    _this.props.setUser(res.data.user);\n\n                    _this.props.toggleRegBar();\n                  } else {\n                    var _error = res.data.error;\n\n                    if (_error.endsWith(\"is already taken\")) {\n                      _this.setState({\n                        isAlreadyUser: true\n                      });\n                    } else {\n                      _this.setState({\n                        error: res.data.error\n                      });\n                    }\n                  }\n                } else {\n                  _this.setState({\n                    error: \"something wrong\"\n                  });\n                }\n              })[\"catch\"](function (err) {\n                console.log({\n                  err: err\n                });\n\n                _this.setState({\n                  isLoading: false,\n                  error: \"something wrong\"\n                });\n              });\n            } else {\n              _this.setState({\n                error: error\n              });\n            }\n          }\n        } else {}\n      })[\"catch\"](function (err) {\n        console.log({\n          err: err\n        });\n\n        _this.setState({\n          isLoading: false\n        });\n      });\n    });\n\n    _this.state = {\n      isLoading: false,\n      error: null,\n      isAlreadyUser: false,\n      isSignedIn: false\n    };\n    return _this;\n  }\n\n  _createClass(LoginForm, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      // console.log(this.props);\n      var _this$props = this.props,\n          drawerToDisplay = _this$props.drawerToDisplay,\n          getFieldDecorator = _this$props.form.getFieldDecorator;\n      var _this$state = this.state,\n          isLoading = _this$state.isLoading,\n          error = _this$state.error,\n          isAlreadyUser = _this$state.isAlreadyUser,\n          isSignedIn = _this$state.isSignedIn;\n      var finalClass = \"c-login\";\n\n      if (this.props.consult) {\n        finalClass += \" c-userDetails\";\n      }\n\n      return __jsx(\"div\", {\n        className: finalClass,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 7\n        }\n      }, __jsx(Heading, {\n        parentClass: \"c-login\",\n        className: \"heading\",\n        versions: [\"dark\"],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 9\n        }\n      }, isAlreadyUser ? __jsx(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 13\n        }\n      }, \"Looks like you already\", __jsx(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 15\n        }\n      }), \"have an account\") : \"welcome back!\"), !isAlreadyUser && __jsx(\"p\", {\n        className: \"c-login__info\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }\n      }, \"Please login to your account\"), !isAlreadyUser && __jsx(Form, {\n        onSubmit: this.handleSubmit,\n        className: \"c-ant-from c-login__form\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }\n      }, __jsx(Form.Item, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 13\n        }\n      }, getFieldDecorator(\"email\", {\n        rules: [{\n          required: true,\n          message: \"Please input your e-mail!\"\n        }, {\n          max: 40,\n          message: \"You can't use more than 40 characters.\"\n        }, {\n          pattern: regex.email,\n          message: \"Please enter a valid E-mail!\"\n        }]\n      })(__jsx(DebounceInput, {\n        style: {\n          padding: \"0px\",\n          fontSize: \"16px\",\n          fontFamily: \"futuraBT-book\",\n          marginBottom: \"20px\"\n        },\n        versions: [\"light\"],\n        parentClass: \"c-login\",\n        label: \"E-mail\",\n        className: \"input\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 17\n        }\n      }))), __jsx(Form.Item, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 13\n        }\n      }, getFieldDecorator(\"password\", {\n        rules: [{\n          required: true,\n          message: \"Please input your password!\"\n        }, {\n          max: 20,\n          message: \"You can't use more than 20 characters.\"\n        }]\n      })(__jsx(DebounceInput, {\n        style: {\n          padding: \"0px\",\n          fontSize: \"16px\",\n          fontFamily: \"futuraBT-book\",\n          width: \"80%\"\n        },\n        type: \"password\",\n        parentClass: \"c-login\",\n        versions: [\"light\"],\n        label: \"Password\",\n        className: \"input\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 17\n        }\n      }))), __jsx(\"div\", {\n        className: \"c-login__forget\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 13\n        }\n      }, __jsx(\"span\", {\n        onClick: function onClick() {\n          drawerToDisplay(\"forget\");\n        },\n        className: \"c-login__link\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 15\n        }\n      }, \"forgot Password?\")), __jsx(\"div\", {\n        className: \"c-login__error-block\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 13\n        }\n      }, isLoading && __jsx(Icon, {\n        type: \"loading\",\n        className: \"c-login__spinner c-spinner\",\n        style: {\n          fontSize: 24\n        },\n        spin: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 17\n        }\n      }), error && __jsx(\"p\", {\n        className: \"c-login__error\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 17\n        }\n      }, \"Invalid username or password\")), __jsx(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 13\n        }\n      }, __jsx(\"p\", {\n        className: \"c-login__inst\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 15\n        }\n      }, \"Don't have an account yet,\", \" \", __jsx(\"span\", {\n        onClick: function onClick() {\n          drawerToDisplay(\"register\");\n        },\n        className: \"c-login__link\",\n        style: {\n          fontFamily: \"futuraBT-medium\",\n          letterSpacing: \"0.5px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 17\n        }\n      }, \"REGISTER\"))), __jsx(\"div\", {\n        className: \"row\",\n        style: {\n          justifyContent: \"space-around\",\n          marginTop: \"25px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 13\n        }\n      }, __jsx(Button, {\n        theme: \"dark\",\n        disabled: isLoading,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 15\n        }\n      }, \"Login\"))), __jsx(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 9\n        }\n      }), __jsx(Row, {\n        justify: \"center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 9\n        }\n      }, __jsx(\"p\", {\n        className: \"c-login__inst\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 11\n        }\n      }, \"Login with\", __jsx(\"span\", {\n        // onClick={()=> {\n        //     drawerToDisplay(\"register\")\n        // }}\n        style: {\n          marginLeft: \"8px\",\n          marginRight: \"8px\"\n        },\n        className: \"c-login__link\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 13\n        }\n      }, __jsx(GoogleLogin, {\n        clientId: \"523594328071-mcppgl821vmufbh7ts570533mq7bjc4o.apps.googleusercontent.com\",\n        buttonText: \"\",\n        onSuccess: this.responseGoogle,\n        onFailure: this.responseGoogle,\n        cookiePolicy: \"single_host_origin\",\n        isSignedIn: isSignedIn,\n        render: function render(renderProps) {\n          return __jsx(\"button\", {\n            onClick: function onClick() {\n              _this2.setState({\n                isSignedIn: true\n              });\n\n              renderProps.onClick();\n            },\n            className: \"social-button\",\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 19\n            }\n          }, __jsx(LazyLoadImage, {\n            src: \"/images/google.svg\",\n            style: {\n              width: \"30px\"\n            },\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 21\n            }\n          }));\n        },\n        theme: \"dark\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 15\n        }\n      })), \"or\", __jsx(FacebookLogin, {\n        appId: \"379779383176561\" //autoLoad={true}\n        ,\n        textButton: \"\",\n        fields: \"name,email,picture\",\n        callback: this.responseGoogle,\n        cssClass: \"social-button\",\n        icon: __jsx(\"span\", {\n          style: {\n            marginLeft: \"9px\",\n            marginRight: \"8px\"\n          },\n          className: \"c-login__link\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 17\n          }\n        }, __jsx(LazyLoadImage, {\n          src: \"/images/facebook.svg\",\n          style: {\n            width: \"30px\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 19\n          }\n        })),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 13\n        }\n      }))), isAlreadyUser && __jsx(\"div\", {\n        className: \"c-login__no-form-wrapper\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 11\n        }\n      }, __jsx(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 13\n        }\n      }), __jsx(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 13\n        }\n      }), __jsx(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 13\n        }\n      }), __jsx(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 13\n        }\n      }), __jsx(\"p\", {\n        className: \"c-login__inst\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 13\n        }\n      }, \"You can login from\", \" \", __jsx(\"span\", {\n        onClick: function onClick() {\n          drawerToDisplay(\"login\");\n        },\n        className: \"c-login__link\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 15\n        }\n      }, \"HERE\"))));\n    }\n  }]);\n\n  return LoginForm;\n}(React.Component);\n\nvar Login = Form.create({\n  name: \"login\"\n})(LoginForm);\nvar mapActionToProps = {\n  setUser: setUser,\n  toggleRegBar: toggleRegBar,\n  drawerToDisplay: drawerToDisplay\n};\nexport default connect(function (state) {\n  return state;\n}, mapActionToProps)(Login);\n\nvar _c, _c2, _c3, _c4, _c5, _c6;\n\n$RefreshReg$(_c, \"Heading$dynamic\");\n$RefreshReg$(_c2, \"Heading\");\n$RefreshReg$(_c3, \"Input$dynamic\");\n$RefreshReg$(_c4, \"Input\");\n$RefreshReg$(_c5, \"Button$dynamic\");\n$RefreshReg$(_c6, \"Button\");","map":{"version":3,"sources":["/Users/akshataggarwal/Documents/Coding Files/webd projects/missvalentine-front/components/popups/Login.js"],"names":["dynamic","Form","Icon","Row","Heading","Input","connect","Button","loginUser","registerUser","msgStrings","toggleRegBar","drawerToDisplay","setUser","regex","reactComponentDebounce","library","GoogleLogin","FacebookLogin","faFacebookF","LazyLoadImage","add","DebounceInput","valuePropName","triggerMs","LoginForm","e","preventDefault","props","form","validateFields","err","values","email","password","setState","isLoading","error","then","res","status","data","user","message","LOGIN_ERROR","console","log","response","socialData","googleId","profileObj","familyName","givenName","google","firstname","lastname","username","split","graphDomain","id","name","facebook","endsWith","isAlreadyUser","state","isSignedIn","getFieldDecorator","finalClass","consult","handleSubmit","rules","required","max","pattern","padding","fontSize","fontFamily","marginBottom","width","letterSpacing","justifyContent","marginTop","marginLeft","marginRight","responseGoogle","renderProps","onClick","React","Component","Login","create","mapActionToProps"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA,OAAOA,OAAP,MAAoB,cAApB;AACA,SAASC,IAAT,EAAeC,IAAf,EAAqBC,GAArB,QAAgC,MAAhC;AACA,IAAMC,OAAO,GAAGJ,OAAO,MAAC;AAAA,SAAM,OAAO,YAAP,CAAN;AAAA,CAAD;AAAA;AAAA;AAAA,kCAAc,YAAd;AAAA;AAAA,cAAc,YAAd;AAAA;AAAA,EAAvB;MAAMI,O;AACN,IAAMC,KAAK,GAAGL,OAAO,OAAC;AAAA,SAAM,OAAO,0BAAP,CAAN;AAAA,CAAD;AAAA;AAAA;AAAA,kCAAc,0BAAd;AAAA;AAAA,cAAc,0BAAd;AAAA;AAAA,EAArB;MAAMK,K;AACN,SAASC,OAAT,QAAwB,aAAxB;AACA,IAAMC,MAAM,GAAGP,OAAO,OAAC;AAAA,SAAM,OAAO,2BAAP,CAAN;AAAA,CAAD;AAAA;AAAA;AAAA,kCAAc,2BAAd;AAAA;AAAA,cAAc,2BAAd;AAAA;AAAA,EAAtB;MAAMO,M;AACN,SAASC,SAAT,EAAoBC,YAApB,QAAwC,oBAAxC;AACA,OAAOC,UAAP,MAAuB,4BAAvB;AACA,SAASC,YAAT,EAAuBC,eAAvB,QAA8C,6BAA9C;AACA,SAASC,OAAT,QAAwB,0BAAxB;AACA,OAAOC,KAAP,MAAkB,8BAAlB;AACA,OAAOC,sBAAP,MAAmC,0BAAnC;AACA,SAASC,OAAT,QAAwB,mCAAxB;AACA,OAAOC,WAAP,MAAwB,oBAAxB;AACA,OAAOC,aAAP,MAA0B,sBAA1B;AACA,SAASC,WAAT,QAA4B,oCAA5B;AACA,SAASC,aAAT,QAA8B,iCAA9B;AACAJ,OAAO,CAACK,GAAR,CAAYF,WAAZ;AAEA,IAAMG,aAAa,GAAGP,sBAAsB,CAAC;AAC3CQ,EAAAA,aAAa,EAAE,OAD4B;AAE3CC,EAAAA,SAAS,EAAE;AAFgC,CAAD,CAAtB,CAGnBnB,KAHmB,CAAtB;;IAKMoB,S;;;;;AACJ,uBAAc;AAAA;;AAAA;;AACZ;;AADY,mEASC,UAACC,CAAD,EAAO;AACpBA,MAAAA,CAAC,CAACC,cAAF;;AACA,YAAKC,KAAL,CAAWC,IAAX,CAAgBC,cAAhB,CAA+B,UAACC,GAAD,EAAMC,MAAN,EAAiB;AAC9C,YAAI,CAACD,GAAL,EAAU;AACT;AADS,cAEAE,KAFA,GAEoBD,MAFpB,CAEAC,KAFA;AAAA,cAEOC,QAFP,GAEoBF,MAFpB,CAEOE,QAFP;;AAGR,gBAAKC,QAAL,CAAc;AACZC,YAAAA,SAAS,EAAE,IADC;AAEZC,YAAAA,KAAK,EAAE;AAFK,WAAd;;AAIA7B,UAAAA,SAAS,CAAC;AACRyB,YAAAA,KAAK,EAALA,KADQ;AAERC,YAAAA,QAAQ,EAARA;AAFQ,WAAD,CAAT,CAIGI,IAJH,CAIQ,UAACC,GAAD,EAAS;AACb,kBAAKJ,QAAL,CAAc;AACZC,cAAAA,SAAS,EAAE;AADC,aAAd,EADa,CAIf;;;AACE,gBAAIG,GAAG,CAACC,MAAJ,KAAe,GAAnB,EAAwB;AACtB,kBAAID,GAAG,CAACE,IAAJ,CAASD,MAAb,EAAqB;AACnB,sBAAKZ,KAAL,CAAWf,OAAX,CAAmB0B,GAAG,CAACE,IAAJ,CAASC,IAA5B;;AACA,sBAAKd,KAAL,CAAWjB,YAAX;AACD,eAHD,MAGO;AAAA,gCACsB4B,GAAG,CAACE,IAD1B;AAAA,oBACGJ,KADH,aACGA,KADH;AAAA,oBACUM,OADV,aACUA,OADV;;AAEL,oBAAIA,OAAJ,EAAa;AACX,wBAAKR,QAAL,CAAc;AACZE,oBAAAA,KAAK,EACHM,OAAO,KAAK,gBAAZ,GACIjC,UAAU,CAACkC,WADf,GAEID;AAJM,mBAAd;AAMD,iBAPD,MAOO;AACL,wBAAKR,QAAL,CAAc;AACZE,oBAAAA,KAAK,EAAEA;AADK,mBAAd;AAGD;AACF;AACF,aAnBD,MAmBO,CACN;AACF,WA9BH,WA+BS,UAACN,GAAD,EAAS;AACdc,YAAAA,OAAO,CAACC,GAAR,CAAY;AAAEf,cAAAA,GAAG,EAAHA;AAAF,aAAZ;;AACA,kBAAKI,QAAL,CAAc;AACZC,cAAAA,SAAS,EAAE;AADC,aAAd;AAGD,WApCH;AAqCD;AACF,OA9CD;AA+CD,KA1Da;;AAAA,qEA4DG,UAACW,QAAD,EAAc;AAC7B,UAAIC,UAAJ;;AAEA,UAAIP,IAAI,qBAAQM,QAAR,CAAR;;AACAF,MAAAA,OAAO,CAACC,GAAR,CAAYL,IAAZ;;AACA,UAAIA,IAAI,CAACQ,QAAT,EAAmB;AAAA,+BACkCR,IAAI,CAACS,UADvC;AAAA,YACTjB,KADS,oBACTA,KADS;AAAA,YACFkB,UADE,oBACFA,UADE;AAAA,YACUC,SADV,oBACUA,SADV;AAAA,YACqBH,QADrB,oBACqBA,QADrB;AAEjBD,QAAAA,UAAU,GAAG;AACXK,UAAAA,MAAM,EAAEJ,QADG;AAEXhB,UAAAA,KAAK,EAALA,KAFW;AAGXqB,UAAAA,SAAS,EAAEF,SAHA;AAIXG,UAAAA,QAAQ,EAAEJ,UAJC;AAKXK,UAAAA,QAAQ,EAAEvB,KAAK,CAACwB,KAAN,CAAY,GAAZ,EAAiB,CAAjB;AALC,SAAb;AAOD;;AACD,UAAIV,QAAQ,CAACW,WAAT,IAAwB,UAA5B,EAAwC;AAAA,YAChCzB,MADgC,GACZc,QADY,CAChCd,KADgC;AAAA,YACzB0B,EADyB,GACZZ,QADY,CACzBY,EADyB;AAAA,YACrBC,IADqB,GACZb,QADY,CACrBa,IADqB;AAEtCA,QAAAA,IAAI,GAAGA,IAAI,CAACH,KAAL,CAAW,GAAX,CAAP;AACAT,QAAAA,UAAU,GAAG;AACXa,UAAAA,QAAQ,EAAEF,EADC;AAEX1B,UAAAA,KAAK,EAALA,MAFW;AAGXuB,UAAAA,QAAQ,EAAEvB,MAAK,CAACwB,KAAN,CAAY,GAAZ,EAAiB,CAAjB;AAHC,SAAb;AAKD,OAvB4B,CAwB9B;;;AACCjD,MAAAA,SAAS,mBAAMwC,UAAN,EAAT,CACGV,IADH,CACQ,UAACC,GAAD,EAAS;AAChB;AAED;AACI,YAAIA,GAAG,CAACC,MAAJ,KAAe,GAAnB,EAAwB;AACtB,cAAID,GAAG,CAACE,IAAJ,CAASD,MAAb,EAAqB;AACnB,kBAAKZ,KAAL,CAAWf,OAAX,CAAmB0B,GAAG,CAACE,IAAJ,CAASC,IAA5B;;AACA,kBAAKd,KAAL,CAAWjB,YAAX,GAFmB,CAGpB;;;AACC,kBAAKwB,QAAL,CAAc;AACZC,cAAAA,SAAS,EAAE;AADC,aAAd;AAGD,WAPD,MAOO;AAAA,6BACsBG,GAAG,CAACE,IAD1B;AAAA,gBACGJ,KADH,cACGA,KADH;AAAA,gBACUM,OADV,cACUA,OADV;;AAEL,gBAAIA,OAAO,KAAK,gBAAhB,EAAkC;AAChClC,cAAAA,YAAY,mBAAMuC,UAAN,EAAZ,CACGV,IADH,CACQ,UAACC,GAAD,EAAS;AAChB;AACG,sBAAKJ,QAAL,CAAc;AACZC,kBAAAA,SAAS,EAAE;AADC,iBAAd,EAFa,CAKf;;;AACE,oBAAIG,GAAG,CAACC,MAAJ,KAAe,GAAnB,EAAwB;AACtB,sBAAID,GAAG,CAACE,IAAJ,CAASD,MAAb,EAAqB;AACnB,0BAAKZ,KAAL,CAAWf,OAAX,CAAmB0B,GAAG,CAACE,IAAJ,CAASC,IAA5B;;AACA,0BAAKd,KAAL,CAAWjB,YAAX;AACD,mBAHD,MAGO;AAAA,wBACG0B,MADH,GACaE,GAAG,CAACE,IADjB,CACGJ,KADH;;AAEL,wBAAIA,MAAK,CAACyB,QAAN,CAAe,kBAAf,CAAJ,EAAwC;AACtC,4BAAK3B,QAAL,CAAc;AACZ4B,wBAAAA,aAAa,EAAE;AADH,uBAAd;AAGD,qBAJD,MAIO;AACL,4BAAK5B,QAAL,CAAc;AACZE,wBAAAA,KAAK,EAAEE,GAAG,CAACE,IAAJ,CAASJ;AADJ,uBAAd;AAGD;AACF;AACF,iBAhBD,MAgBO;AACL,wBAAKF,QAAL,CAAc;AACZE,oBAAAA,KAAK,EAAE;AADK,mBAAd;AAGD;AACF,eA5BH,WA6BS,UAACN,GAAD,EAAS;AACdc,gBAAAA,OAAO,CAACC,GAAR,CAAY;AAAEf,kBAAAA,GAAG,EAAHA;AAAF,iBAAZ;;AACA,sBAAKI,QAAL,CAAc;AACZC,kBAAAA,SAAS,EAAE,KADC;AAEZC,kBAAAA,KAAK,EAAE;AAFK,iBAAd;AAID,eAnCH;AAoCD,aArCD,MAqCO;AACL,oBAAKF,QAAL,CAAc;AACZE,gBAAAA,KAAK,EAAEA;AADK,eAAd;AAGD;AACF;AACF,SArDD,MAqDO,CACN;AACF,OA5DH,WA6DS,UAACN,GAAD,EAAS;AACdc,QAAAA,OAAO,CAACC,GAAR,CAAY;AAAEf,UAAAA,GAAG,EAAHA;AAAF,SAAZ;;AACA,cAAKI,QAAL,CAAc;AACZC,UAAAA,SAAS,EAAE;AADC,SAAd;AAGD,OAlEH;AAmED,KAxJa;;AAEZ,UAAK4B,KAAL,GAAa;AACX5B,MAAAA,SAAS,EAAE,KADA;AAEXC,MAAAA,KAAK,EAAE,IAFI;AAGX0B,MAAAA,aAAa,EAAE,KAHJ;AAIXE,MAAAA,UAAU,EAAC;AAJA,KAAb;AAFY;AAQb;;;;WAkJD,kBAAS;AAAA;;AACR;AADQ,wBAKH,KAAKrC,KALF;AAAA,UAGLhB,eAHK,eAGLA,eAHK;AAAA,UAIGsD,iBAJH,eAILrC,IAJK,CAIGqC,iBAJH;AAAA,wBAMgD,KAAKF,KANrD;AAAA,UAMC5B,SAND,eAMCA,SAND;AAAA,UAMYC,KANZ,eAMYA,KANZ;AAAA,UAMmB0B,aANnB,eAMmBA,aANnB;AAAA,UAMiCE,UANjC,eAMiCA,UANjC;AAQP,UAAIE,UAAU,GAAG,SAAjB;;AACA,UAAI,KAAKvC,KAAL,CAAWwC,OAAf,EAAwB;AACtBD,QAAAA,UAAU,IAAI,gBAAd;AACD;;AAED,aACE;AAAK,QAAA,SAAS,EAAEA,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,MAAC,OAAD;AAAS,QAAA,WAAW,EAAC,SAArB;AAA+B,QAAA,SAAS,EAAC,SAAzC;AAAmD,QAAA,QAAQ,EAAE,CAAC,MAAD,CAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGJ,aAAa,GACZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,oBADY,GAOZ,eARJ,CADF,EAYG,CAACA,aAAD,IACC;AAAG,QAAA,SAAS,EAAC,eAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCAbJ,EAgBG,CAACA,aAAD,IACC,MAAC,IAAD;AACE,QAAA,QAAQ,EAAE,KAAKM,YADjB;AAEE,QAAA,SAAS,EAAC,0BAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAIE,MAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGH,iBAAiB,CAAC,OAAD,EAAU;AAC1BI,QAAAA,KAAK,EAAE,CACL;AAAEC,UAAAA,QAAQ,EAAE,IAAZ;AAAkB5B,UAAAA,OAAO,EAAE;AAA3B,SADK,EAEL;AACE6B,UAAAA,GAAG,EAAE,EADP;AAEE7B,UAAAA,OAAO,EAAE;AAFX,SAFK,EAML;AACE8B,UAAAA,OAAO,EAAE3D,KAAK,CAACmB,KADjB;AAEEU,UAAAA,OAAO,EAAE;AAFX,SANK;AADmB,OAAV,CAAjB,CAaC,MAAC,aAAD;AACE,QAAA,KAAK,EAAE;AACL+B,UAAAA,OAAO,EAAE,KADJ;AAELC,UAAAA,QAAQ,EAAE,MAFL;AAGLC,UAAAA,UAAU,EAAE,eAHP;AAILC,UAAAA,YAAY,EAAE;AAJT,SADT;AAOE,QAAA,QAAQ,EAAE,CAAC,OAAD,CAPZ;AAQE,QAAA,WAAW,EAAC,SARd;AASE,QAAA,KAAK,EAAC,QATR;AAUE,QAAA,SAAS,EAAC,OAVZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAbD,CADH,CAJF,EAgCE,MAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGX,iBAAiB,CAAC,UAAD,EAAa;AAC7BI,QAAAA,KAAK,EAAE,CACL;AAAEC,UAAAA,QAAQ,EAAE,IAAZ;AAAkB5B,UAAAA,OAAO,EAAE;AAA3B,SADK,EAEL;AACE6B,UAAAA,GAAG,EAAE,EADP;AAEE7B,UAAAA,OAAO,EAAE;AAFX,SAFK;AADsB,OAAb,CAAjB,CASC,MAAC,aAAD;AACE,QAAA,KAAK,EAAE;AACL+B,UAAAA,OAAO,EAAE,KADJ;AAELC,UAAAA,QAAQ,EAAE,MAFL;AAGLC,UAAAA,UAAU,EAAE,eAHP;AAILE,UAAAA,KAAK,EAAE;AAJF,SADT;AAOE,QAAA,IAAI,EAAC,UAPP;AAQE,QAAA,WAAW,EAAC,SARd;AASE,QAAA,QAAQ,EAAE,CAAC,OAAD,CATZ;AAUE,QAAA,KAAK,EAAC,UAVR;AAWE,QAAA,SAAS,EAAC,OAXZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QATD,CADH,CAhCF,EAyDE;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AACE,QAAA,OAAO,EAAE,mBAAM;AACblE,UAAAA,eAAe,CAAC,QAAD,CAAf;AACD,SAHH;AAIE,QAAA,SAAS,EAAC,eAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADF,CAzDF,EAmEE;AAAK,QAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGwB,SAAS,IACR,MAAC,IAAD;AACE,QAAA,IAAI,EAAC,SADP;AAEE,QAAA,SAAS,EAAC,4BAFZ;AAGE,QAAA,KAAK,EAAE;AAAEuC,UAAAA,QAAQ,EAAE;AAAZ,SAHT;AAIE,QAAA,IAAI,MAJN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,EASGtC,KAAK,IACJ;AAAG,QAAA,SAAS,EAAC,gBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCAVJ,CAnEF,EAgFE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAG,QAAA,SAAS,EAAC,eAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCAC6B,GAD7B,EAEE;AACE,QAAA,OAAO,EAAE,mBAAM;AACbzB,UAAAA,eAAe,CAAC,UAAD,CAAf;AACD,SAHH;AAIE,QAAA,SAAS,EAAC,eAJZ;AAKE,QAAA,KAAK,EAAE;AACLgE,UAAAA,UAAU,EAAE,iBADP;AAELG,UAAAA,aAAa,EAAE;AAFV,SALT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFF,CADF,CAhFF,EAiGE;AACE,QAAA,SAAS,EAAC,KADZ;AAEE,QAAA,KAAK,EAAE;AAAEC,UAAAA,cAAc,EAAE,cAAlB;AAAkCC,UAAAA,SAAS,EAAE;AAA7C,SAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAIE,MAAC,MAAD;AAAQ,QAAA,KAAK,EAAC,MAAd;AAAqB,QAAA,QAAQ,EAAE7C,SAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAJF,CAjGF,CAjBJ,EA4HE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA5HF,EA8HE,MAAC,GAAD;AAAK,QAAA,OAAO,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAG,QAAA,SAAS,EAAC,eAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEE;AACE;AACA;AACA;AACA,QAAA,KAAK,EAAE;AAAE8C,UAAAA,UAAU,EAAE,KAAd;AAAqBC,UAAAA,WAAW,EAAE;AAAlC,SAJT;AAKE,QAAA,SAAS,EAAC,eALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAOE,MAAC,WAAD;AACE,QAAA,QAAQ,EAAC,0EADX;AAEE,QAAA,UAAU,EAAC,EAFb;AAGE,QAAA,SAAS,EAAE,KAAKC,cAHlB;AAIE,QAAA,SAAS,EAAE,KAAKA,cAJlB;AAKE,QAAA,YAAY,EAAE,oBALhB;AAME,QAAA,UAAU,EAAEnB,UANd;AAOE,QAAA,MAAM,EAAE,gBAACoB,WAAD;AAAA,iBACN;AACA,YAAA,OAAO,EAAE,mBAAI;AACX,cAAA,MAAI,CAAClD,QAAL,CAAc;AAAC8B,gBAAAA,UAAU,EAAC;AAAZ,eAAd;;AACAoB,cAAAA,WAAW,CAACC,OAAZ;AACD,aAJD;AAKE,YAAA,SAAS,EAAC,eALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAUE,MAAC,aAAD;AAEE,YAAA,GAAG,EAAC,oBAFN;AAGE,YAAA,KAAK,EAAE;AAAER,cAAAA,KAAK,EAAE;AAAT,aAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAVF,CADM;AAAA,SAPV;AAyBE,QAAA,KAAK,EAAC,MAzBR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAPF,CAFF,QAsCE,MAAC,aAAD;AACE,QAAA,KAAK,EAAC,iBADR,CAEE;AAFF;AAGE,QAAA,UAAU,EAAC,EAHb;AAIE,QAAA,MAAM,EAAC,oBAJT;AAKE,QAAA,QAAQ,EAAE,KAAKM,cALjB;AAME,QAAA,QAAQ,EAAC,eANX;AAOE,QAAA,IAAI,EACF;AACE,UAAA,KAAK,EAAE;AAAEF,YAAAA,UAAU,EAAE,KAAd;AAAqBC,YAAAA,WAAW,EAAE;AAAlC,WADT;AAEE,UAAA,SAAS,EAAC,eAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAKE,MAAC,aAAD;AACE,UAAA,GAAG,EAAC,sBADN;AAEE,UAAA,KAAK,EAAE;AAAEL,YAAAA,KAAK,EAAE;AAAT,WAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UALF,CARJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAtCF,CADF,CA9HF,EA2LGf,aAAa,IACZ;AAAK,QAAA,SAAS,EAAC,0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJF,EAKE;AAAG,QAAA,SAAS,EAAC,eAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BACqB,GADrB,EAEE;AACE,QAAA,OAAO,EAAE,mBAAM;AACbnD,UAAAA,eAAe,CAAC,OAAD,CAAf;AACD,SAHH;AAIE,QAAA,SAAS,EAAC,eAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,CALF,CA5LJ,CADF;AAiND;;;;EAzXqB2E,KAAK,CAACC,S;;AA4X9B,IAAMC,KAAK,GAAGxF,IAAI,CAACyF,MAAL,CAAY;AAAE9B,EAAAA,IAAI,EAAE;AAAR,CAAZ,EAA+BnC,SAA/B,CAAd;AACA,IAAMkE,gBAAgB,GAAG;AACvB9E,EAAAA,OAAO,EAAPA,OADuB;AAEvBF,EAAAA,YAAY,EAAZA,YAFuB;AAGvBC,EAAAA,eAAe,EAAfA;AAHuB,CAAzB;AAKA,eAAeN,OAAO,CAAC,UAAC0D,KAAD;AAAA,SAAWA,KAAX;AAAA,CAAD,EAAmB2B,gBAAnB,CAAP,CAA4CF,KAA5C,CAAf","sourcesContent":["import dynamic from \"next/dynamic\";\nimport { Form, Icon, Row } from \"antd\";\nconst Heading = dynamic(() => import(\"../Heading\"));\nconst Input = dynamic(() => import(\"../form-components/Input\"));\nimport { connect } from \"react-redux\";\nconst Button = dynamic(() => import(\"../form-components/Button\"));\nimport { loginUser, registerUser } from \"../../services/api\";\nimport msgStrings from \"../../constants/msgStrings\";\nimport { toggleRegBar, drawerToDisplay } from \"../../redux/actions/drawers\";\nimport { setUser } from \"../../redux/actions/user\";\nimport regex from \"../../services/helpers/regex\";\nimport reactComponentDebounce from \"react-component-debounce\";\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\nimport GoogleLogin from \"react-google-login\";\nimport FacebookLogin from \"react-facebook-login\";\nimport { faFacebookF } from \"@fortawesome/free-brands-svg-icons\";\nimport { LazyLoadImage } from \"react-lazy-load-image-component\";\nlibrary.add(faFacebookF);\n\nconst DebounceInput = reactComponentDebounce({\n  valuePropName: \"value\",\n  triggerMs: 1000,\n})(Input);\n\nclass LoginForm extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      isLoading: false,\n      error: null,\n      isAlreadyUser: false,\n      isSignedIn:false\n    };\n  }\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.props.form.validateFields((err, values) => {\n      if (!err) {\n       // console.log(\"Received values of form: \", values);\n        const { email, password } = values;\n        this.setState({\n          isLoading: true,\n          error: null,\n        });\n        loginUser({\n          email,\n          password,\n        })\n          .then((res) => {\n            this.setState({\n              isLoading: false,\n            });\n          //  console.log({ res });\n            if (res.status === 200) {\n              if (res.data.status) {\n                this.props.setUser(res.data.user);\n                this.props.toggleRegBar();\n              } else {\n                const { error, message } = res.data;\n                if (message) {\n                  this.setState({\n                    error:\n                      message === \"User not found\"\n                        ? msgStrings.LOGIN_ERROR\n                        : message,\n                  });\n                } else {\n                  this.setState({\n                    error: error,\n                  });\n                }\n              }\n            } else {\n            }\n          })\n          .catch((err) => {\n            console.log({ err });\n            this.setState({\n              isLoading: false,\n            });\n          });\n      }\n    });\n  };\n\n  responseGoogle = (response) => {\n    let socialData;\n\n    let data = { ...response };\n    console.log(data);\n    if (data.googleId) {\n      const { email, familyName, givenName, googleId } = data.profileObj;\n      socialData = {\n        google: googleId,\n        email,\n        firstname: givenName,\n        lastname: familyName,\n        username: email.split(\"@\")[0],\n      };\n    }\n    if (response.graphDomain == \"facebook\") {\n      let { email, id, name } = response;\n      name = name.split(\" \");\n      socialData = {\n        facebook: id,\n        email,\n        username: email.split(\"@\")[0],\n      };\n    }\n   // console.log(socialData);\n    loginUser({ ...socialData })\n      .then((res) => {\n     //   console.log(res);\n\n    //    console.log({ res });\n        if (res.status === 200) {\n          if (res.data.status) {\n            this.props.setUser(res.data.user);\n            this.props.toggleRegBar();\n           // this.props.closeDrawer();\n            this.setState({\n              isLoading: false,\n            });\n          } else {\n            const { error, message } = res.data;\n            if (message === \"User not found\") {\n              registerUser({ ...socialData })\n                .then((res) => {\n               //   console.log(res);\n                  this.setState({\n                    isLoading: false,\n                  });\n                //  console.log({ res });\n                  if (res.status === 200) {\n                    if (res.data.status) {\n                      this.props.setUser(res.data.user);\n                      this.props.toggleRegBar();\n                    } else {\n                      const { error } = res.data;\n                      if (error.endsWith(\"is already taken\")) {\n                        this.setState({\n                          isAlreadyUser: true,\n                        });\n                      } else {\n                        this.setState({\n                          error: res.data.error,\n                        });\n                      }\n                    }\n                  } else {\n                    this.setState({\n                      error: \"something wrong\",\n                    });\n                  }\n                })\n                .catch((err) => {\n                  console.log({ err });\n                  this.setState({\n                    isLoading: false,\n                    error: \"something wrong\",\n                  });\n                });\n            } else {\n              this.setState({\n                error: error,\n              });\n            }\n          }\n        } else {\n        }\n      })\n      .catch((err) => {\n        console.log({ err });\n        this.setState({\n          isLoading: false,\n        });\n      });\n  };\n\n  render() {\n   // console.log(this.props);\n    const {\n      drawerToDisplay,\n      form: { getFieldDecorator },\n    } = this.props;\n    const { isLoading, error, isAlreadyUser,isSignedIn } = this.state;\n\n    let finalClass = \"c-login\";\n    if (this.props.consult) {\n      finalClass += \" c-userDetails\";\n    }\n\n    return (\n      <div className={finalClass}>\n        <Heading parentClass=\"c-login\" className=\"heading\" versions={[\"dark\"]}>\n          {isAlreadyUser ? (\n            <span>\n              Looks like you already\n              <br />\n              have an account\n            </span>\n          ) : (\n            \"welcome back!\"\n          )}\n        </Heading>\n        {!isAlreadyUser && (\n          <p className=\"c-login__info\">Please login to your account</p>\n        )}\n\n        {!isAlreadyUser && (\n          <Form\n            onSubmit={this.handleSubmit}\n            className=\"c-ant-from c-login__form\"\n          >\n            <Form.Item>\n              {getFieldDecorator(\"email\", {\n                rules: [\n                  { required: true, message: \"Please input your e-mail!\" },\n                  {\n                    max: 40,\n                    message: \"You can't use more than 40 characters.\",\n                  },\n                  {\n                    pattern: regex.email,\n                    message: \"Please enter a valid E-mail!\",\n                  },\n                ],\n              })(\n                <DebounceInput\n                  style={{\n                    padding: \"0px\",\n                    fontSize: \"16px\",\n                    fontFamily: \"futuraBT-book\",\n                    marginBottom: \"20px\",\n                  }}\n                  versions={[\"light\"]}\n                  parentClass=\"c-login\"\n                  label=\"E-mail\"\n                  className=\"input\"\n                />\n              )}\n            </Form.Item>\n            <Form.Item>\n              {getFieldDecorator(\"password\", {\n                rules: [\n                  { required: true, message: \"Please input your password!\" },\n                  {\n                    max: 20,\n                    message: \"You can't use more than 20 characters.\",\n                  },\n                ],\n              })(\n                <DebounceInput\n                  style={{\n                    padding: \"0px\",\n                    fontSize: \"16px\",\n                    fontFamily: \"futuraBT-book\",\n                    width: \"80%\",\n                  }}\n                  type=\"password\"\n                  parentClass=\"c-login\"\n                  versions={[\"light\"]}\n                  label=\"Password\"\n                  className=\"input\"\n                />\n              )}\n            </Form.Item>\n            <div className=\"c-login__forget\">\n              <span\n                onClick={() => {\n                  drawerToDisplay(\"forget\");\n                }}\n                className=\"c-login__link\"\n              >\n                forgot Password?\n              </span>\n            </div>\n            <div className=\"c-login__error-block\">\n              {isLoading && (\n                <Icon\n                  type=\"loading\"\n                  className=\"c-login__spinner c-spinner\"\n                  style={{ fontSize: 24 }}\n                  spin\n                />\n              )}\n              {error && (\n                <p className=\"c-login__error\">Invalid username or password</p>\n              )}\n            </div>\n            <div>\n              <p className=\"c-login__inst\">\n                Don't have an account yet,{\" \"}\n                <span\n                  onClick={() => {\n                    drawerToDisplay(\"register\");\n                  }}\n                  className=\"c-login__link\"\n                  style={{\n                    fontFamily: \"futuraBT-medium\",\n                    letterSpacing: \"0.5px\",\n                  }}\n                >\n                  REGISTER\n                </span>\n              </p>\n            </div>\n            <div\n              className=\"row\"\n              style={{ justifyContent: \"space-around\", marginTop: \"25px\" }}\n            >\n              <Button theme=\"dark\" disabled={isLoading}>\n                Login\n              </Button>\n            </div>\n          </Form>\n        )}\n        <br />\n\n        <Row justify=\"center\">\n          <p className=\"c-login__inst\">\n            Login with\n            <span\n              // onClick={()=> {\n              //     drawerToDisplay(\"register\")\n              // }}\n              style={{ marginLeft: \"8px\", marginRight: \"8px\" }}\n              className=\"c-login__link\"\n            >\n              <GoogleLogin\n                clientId=\"523594328071-mcppgl821vmufbh7ts570533mq7bjc4o.apps.googleusercontent.com\"\n                buttonText=\"\"\n                onSuccess={this.responseGoogle}\n                onFailure={this.responseGoogle}\n                cookiePolicy={\"single_host_origin\"}\n                isSignedIn={isSignedIn}\n                render={(renderProps) => (\n                  <button\n                  onClick={()=>{\n                    this.setState({isSignedIn:true});\n                    renderProps.onClick();\n                  }}\n                    className=\"social-button\"\n                  >\n                    {/* <GoogleOutlined\n                  style={{ fontSize: \"25px\", verticalAlign: \"0.1em\"}}\n                /> */}\n                    <LazyLoadImage\n                    \n                      src=\"/images/google.svg\"\n                      style={{ width: \"30px\" }}\n                    />\n                  </button>\n                )}\n                theme=\"dark\"\n              />\n            </span>\n            or\n            <FacebookLogin\n              appId=\"379779383176561\"\n              //autoLoad={true}\n              textButton=\"\"\n              fields=\"name,email,picture\"\n              callback={this.responseGoogle}\n              cssClass=\"social-button\"\n              icon={\n                <span\n                  style={{ marginLeft: \"9px\", marginRight: \"8px\" }}\n                  className=\"c-login__link\"\n                >\n                  {/* <FontAwesomeIcon icon={[\"fab\", \"facebook-f\"]} /> */}\n                  <LazyLoadImage\n                    src=\"/images/facebook.svg\"\n                    style={{ width: \"30px\" }}\n                  />\n                </span>\n              }\n            />\n          </p>\n        </Row>\n        {isAlreadyUser && (\n          <div className=\"c-login__no-form-wrapper\">\n            <br />\n            <br />\n            <br />\n            <br />\n            <p className=\"c-login__inst\">\n              You can login from{\" \"}\n              <span\n                onClick={() => {\n                  drawerToDisplay(\"login\");\n                }}\n                className=\"c-login__link\"\n              >\n                HERE\n              </span>\n            </p>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nconst Login = Form.create({ name: \"login\" })(LoginForm);\nconst mapActionToProps = {\n  setUser,\n  toggleRegBar,\n  drawerToDisplay,\n};\nexport default connect((state) => state, mapActionToProps)(Login);\n"]},"metadata":{},"sourceType":"module"}