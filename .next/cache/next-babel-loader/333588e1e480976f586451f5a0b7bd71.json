{"ast":null,"code":"import { ADD_ITEM, REMOVE_ITEM, MODIFY_ITEM, CLEAR_CART, SET_SHIPPING_CHARGE, SET_TAX_VALUE, SET_SHIPPING_TYPE, SET_COUPON_CODE_DISCOUNT_VALUE, SET_FAV_COUNTITY, SET_CART, SET_CART_NULL_ITEM, SET_CART_EDITABLE, REMOVE_COUPON_CODE_DISCOUNT_VALUE } from \"./type\";\nimport { addItem, removeItem, modifyProduct } from \"../../services/helpers/cart\";\nexport const addToCart = (item, cart = null, userMetaId = null) => dispatch => {\n  console.log({\n    item\n  });\n  dispatch({\n    type: ADD_ITEM,\n    payload: item\n  }); // console.log(\"1\");\n\n  if (cart) {\n    console.log(\"2\", {\n      cart\n    });\n    const newCart = addItem(cart, item);\n    const isNulled = newCart.items.find(el => el.isNull); // console.log({\n    //   isNulled\n    // });\n\n    if (isNulled && !newCart.hasNulled) {\n      dispatch(setCartNullItem());\n    } else if (newCart.hasNulled) {\n      dispatch(setCartNullItem(false));\n    } // if (userMetaId) {\n    //   setCartApi({\n    //     usermetaid: userMetaId,\n    //     cart: newCart\n    //   });\n    // }\n\n  } else {\n    if (item.isNull) {\n      dispatch(setCartNullItem());\n    }\n  }\n};\nexport const fetchCart = userId => dispatch => {\n  // console.log({ userId });\n  getSingleUserApi(userId).then(rep => {\n    const res = rep.data;\n    console.log({\n      res\n    });\n\n    if (res.status && res.user && res.user.cart) {\n      dispatch({\n        type: SET_CART,\n        payload: res.user.cart\n      });\n    }\n  });\n};\nexport const removeFromCart = (id, cart = null, userMetaId = null) => dispatch => {\n  dispatch({\n    type: REMOVE_ITEM,\n    payload: id\n  });\n\n  if (cart && userMetaId) {\n    const newCart = removeItem(cart, id); // setCartApi({\n    //   usermetaid: userMetaId,\n    //   cart: newCart\n    // });\n  }\n};\nexport const modifyItem = (oldItem, cart = null, userMetaId = null) => dispatch => {\n  dispatch({\n    type: MODIFY_ITEM,\n    payload: oldItem\n  });\n\n  if (cart && userMetaId) {\n    const newCart = modifyProduct(oldItem.oldItem, oldItem.newItem, cart); // setCartApi({\n    //   usermetaid: userMetaId,\n    //   cart: newCart\n    // });\n  }\n};\nexport const clearCart = (userMetaId = null) => dispatch => {\n  // console.log(\"cleared =========== \")\n  dispatch({\n    type: CLEAR_CART\n  });\n\n  if (userMetaId) {// setCartApi({\n    //   usermetaid: userMetaId,\n    //   cart: initialCart\n    // });\n  }\n};\nexport const clearCartA = () => {\n  //console.log(\"clear AAAAAAAAAA\")\n  return {\n    type: CLEAR_CART\n  };\n};\nexport const setShippingCharge = (charge, cart = null, userMetaId = null) => dispatch => {\n  dispatch({\n    type: SET_SHIPPING_CHARGE,\n    payload: charge\n  });\n\n  if (cart && userMetaId) {// setCartApi({\n    //   usermetaid: userMetaId,\n    //   cart: {\n    //     ...cart,\n    //     shippingCharge: charge\n    //   }\n    // });\n  }\n};\nexport const setShippingType = (type, cart = null, userMetaId = null) => dispatch => {\n  dispatch({\n    type: SET_SHIPPING_TYPE,\n    payload: type\n  });\n\n  if (cart && userMetaId) {// setCartApi({\n    //   usermetaid: userMetaId,\n    //   cart: {\n    //     ...cart,\n    //     shippingType: type\n    //   }\n    // });\n  }\n};\nexport const setTax = (tax, cart = null, userMetaId = null) => dispatch => {\n  dispatch({\n    type: SET_TAX_VALUE,\n    payload: tax\n  });\n\n  if (cart && userMetaId) {// setCartApi({\n    //   usermetaid: userMetaId,\n    //   cart: {\n    //     ...cart,\n    //     taxPercent: tax.taxPercent,\n    //     taxCountry: tax.taxCountry\n    //   }\n    // });\n  }\n};\nexport const setCoupon = (coupon, cart = null, userMetaId = null) => dispatch => {\n  console.log(\"In action\");\n  dispatch({\n    type: SET_COUPON_CODE_DISCOUNT_VALUE,\n    payload: coupon\n  });\n\n  if (cart && userMetaId) {// setCartApi({\n    //   usermetaid: userMetaId,\n    //   cart: {\n    //     ...cart,\n    //     taxCouponCode: coupon.taxCouponCode,\n    //     taxCouponDiscount: coupon.taxCouponDiscount\n    //   }\n    // });\n  }\n};\nexport const setFav = (fav, cart = null, userMetaId = null) => dispatch => {\n  dispatch({\n    type: SET_FAV_COUNTITY,\n    payload: fav\n  });\n\n  if (cart && userMetaId) {// setCartApi({\n    //   usermetaid: userMetaId,\n    //   cart: {\n    //     ...cart,\n    //     setFav: fav.setFav\n    //   }\n    // });\n  }\n};\nexport const setCartNullItem = (isNull = true) => ({\n  type: SET_CART_NULL_ITEM,\n  payload: isNull\n});\nexport const setEditable = (isEditable = true) => ({\n  type: SET_CART_EDITABLE,\n  payload: isEditable\n});\nexport const removeCoupon = (cart = null, userMetaId = null) => dispatch => {\n  console.log(\"In action\");\n  dispatch({\n    type: REMOVE_COUPON_CODE_DISCOUNT_VALUE,\n    payload: {}\n  });\n\n  if (cart && userMetaId) {// setCartApi({\n    //   usermetaid: userMetaId,\n    //   cart: {\n    //     ...cart,\n    //     taxCouponCode: coupon.taxCouponCode,\n    //     taxCouponDiscount: coupon.taxCouponDiscount\n    //   }\n    // });\n  }\n};","map":null,"metadata":{},"sourceType":"module"}