{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport dynamic from 'next/dynamic';\nvar Layout = dynamic(function () {\n  return import(\"../../../components/Layouts/Layout\");\n}, {\n  ssr: false,\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak(\"../../../components/Layouts/Layout\")];\n    },\n    modules: [\"../../../components/Layouts/Layout\"]\n  }\n});\nvar ProductInfo = dynamic(function () {\n  return import(\"../../../components/ProductInfo\");\n}, {\n  ssr: false,\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak(\"../../../components/ProductInfo\")];\n    },\n    modules: [\"../../../components/ProductInfo\"]\n  }\n});\nvar HImgSection = dynamic(function () {\n  return import(\"../../../components/HImgSection\");\n}, {\n  ssr: false,\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak(\"../../../components/HImgSection\")];\n    },\n    modules: [\"../../../components/HImgSection\"]\n  }\n});\nimport { getProductImage, getProductAttributes, getVisibleProducts, getProductDescription } from \"../../../services/helpers/product\";\nvar Heading = dynamic(function () {\n  return import(\"../../../components/Heading\");\n}, {\n  ssr: false,\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak(\"../../../components/Heading\")];\n    },\n    modules: [\"../../../components/Heading\"]\n  }\n});\nvar TitleList = dynamic(function () {\n  return import(\"../../../components/TItleList\");\n}, {\n  ssr: false,\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak(\"../../../components/TItleList\")];\n    },\n    modules: [\"../../../components/TItleList\"]\n  }\n});\nvar ProductDetailsTab = dynamic(function () {\n  return import(\"../../../components/ProductDetailsTab\");\n}, {\n  ssr: false,\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak(\"../../../components/ProductDetailsTab\")];\n    },\n    modules: [\"../../../components/ProductDetailsTab\"]\n  }\n});\nvar ProductSlider = dynamic(function () {\n  return import(\"../../../components/ProductSlider\");\n}, {\n  ssr: false,\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak(\"../../../components/ProductSlider\")];\n    },\n    modules: [\"../../../components/ProductSlider\"]\n  }\n});\nimport { useRouter } from \"next/router\";\nimport { connect } from \"react-redux\";\nimport fetch from \"isomorphic-unfetch\";\nimport projectSettings from \"../../../constants/projectSettings\";\nvar product = {\n  title: \"CBD Isolate 500 mg\"\n};\n\nvar Product = function Product(_ref) {\n  var product = _ref.product,\n      props = _objectWithoutProperties(_ref, [\"product\"]);\n\n  var router = useRouter();\n  var pid = router.query.pid;\n  var state = {\n    productDetails: null,\n    productList: [{\n      title: \"title\",\n      subTitle: \"sub title\",\n      image: \"/images/oil.png\"\n    }, {\n      title: \"lorem\",\n      subTitle: \"sub title\",\n      image: \"/images/capsule-img.png\"\n    }, {\n      title: \"ipsum\",\n      subTitle: \"sub title\",\n      image: \"/images/cbd-oil.png\"\n    }]\n  };\n  var productList = state.productList;\n  console.log({\n    props: props,\n    pid: pid,\n    router: router\n  });\n  var productAttr = getProductAttributes(product);\n  var image = getProductImage(product, \"sectionB\") || \"/images/cbd-oil.png\";\n  var productImage = getProductImage(product) ? projectSettings.serverUrl + getProductImage(product) : \"/images/cbd-oil.png\";\n  return __jsx(Layout, {\n    headerTheme: \"black\"\n  }, __jsx(ProductInfo, {\n    product: product,\n    productAttr: productAttr.filter(function (el, i) {\n      return i < 2;\n    }),\n    image: productImage\n  }), __jsx(HImgSection, {\n    version: [\"full\"],\n    image: projectSettings.filePath + image\n  }, __jsx(\"div\", null, __jsx(Heading, null, getProductDescription(product))), __jsx(\"div\", {\n    className: \"c-product-single__list\"\n  }, productAttr.map(function (el, i) {\n    if (i < 2) return null;\n    return __jsx(TitleList, {\n      parentClass: \"c-product-single\",\n      key: i,\n      title: el.title\n    }, el.description);\n  }))), __jsx(\"div\", {\n    className: \"c-product-single__details-wrapper\"\n  }, __jsx(ProductDetailsTab, {\n    product: product,\n    parentClass: \"c-product-single\"\n  })), __jsx(\"div\", {\n    className: \"c-product-single__related-section\"\n  }, __jsx(\"div\", {\n    className: \"row\"\n  }, __jsx(\"div\", {\n    className: \"col-md-6\"\n  }, __jsx(Heading, {\n    versions: [\"default\", \"upper\"]\n  }, \"Acompany with\")), __jsx(\"div\", {\n    className: \"col-md-6\"\n  }, __jsx(Heading, {\n    subHeading: true,\n    versions: [\"default\", \"lft-br\"]\n  }, \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud.\")), __jsx(\"div\", {\n    className: \"col-12\"\n  }, __jsx(ProductSlider, {\n    parentClass: \"c-product-single\",\n    products: productList\n  })))));\n};\n\nProduct.getInitialProps = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref2) {\n    var query, baseUrl, res, productObj, product;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            query = _ref2.query;\n            baseUrl = projectSettings.baseUrl;\n            _context.next = 4;\n            return fetch(baseUrl + \"/products/api/getbyid/\" + query.pid);\n\n          case 4:\n            res = _context.sent;\n            _context.next = 7;\n            return res.json();\n\n          case 7:\n            productObj = _context.sent;\n            product = getVisibleProducts([productObj.product_details]);\n            return _context.abrupt(\"return\", {\n              product: product.length && product[0],\n              productObj: productObj\n            });\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nexport default connect(function (state) {\n  return state;\n})(Product);","map":null,"metadata":{},"sourceType":"module"}