{"ast":null,"code":"var _jsxFileName = \"/Users/akshataggarwal/Documents/Coding Files/webd projects/missvalentine-front/pages/products/[id].js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport dynamic from 'next/dynamic';\nconst Layout = dynamic(() => import('../../components/Layouts/Layout'), {\n  ssr: false,\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak('../../components/Layouts/Layout')],\n    modules: ['../../components/Layouts/Layout']\n  }\n});\nconst ProductInfo = dynamic(() => import('../../components/ProductInfo'), {\n  ssr: false,\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak('../../components/ProductInfo')],\n    modules: ['../../components/ProductInfo']\n  }\n});\nconst HImgSection = dynamic(() => import('../../components/HImgSection'), {\n  ssr: false,\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak('../../components/HImgSection')],\n    modules: ['../../components/HImgSection']\n  }\n});\nimport { useEffect, useState } from 'react';\nimport { getProductImage, getProductAttributes, getVisibleProducts, getProductDescription } from '../../services/helpers/product';\nconst Heading = dynamic(() => import('../../components/Heading'), {\n  ssr: false,\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak('../../components/Heading')],\n    modules: ['../../components/Heading']\n  }\n});\nconst TitleList = dynamic(() => import('../../components/TItleList'), {\n  ssr: false,\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak('../../components/TItleList')],\n    modules: ['../../components/TItleList']\n  }\n});\nconst ProductDetailsTab = dynamic(() => import('../../components/ProductDetailsTab'), {\n  ssr: false,\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak('../../components/ProductDetailsTab')],\n    modules: ['../../components/ProductDetailsTab']\n  }\n});\nconst ProductSlider = dynamic(() => import('../../components/ProductSlider'), {\n  ssr: false,\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak('../../components/ProductSlider')],\n    modules: ['../../components/ProductSlider']\n  }\n});\nimport { useRouter } from 'next/router';\nimport { connect } from 'react-redux';\nimport fetch from 'isomorphic-unfetch';\nimport projectSettings from '../../constants/projectSettings';\nimport apiList from '../../services/apis/apiList';\nimport Error from 'next/error';\nconst product = {\n  title: 'CBD Isolate 500 mg'\n};\n\nconst Product = (_ref) => {\n  let {\n    product,\n    allProducts\n  } = _ref,\n      props = _objectWithoutProperties(_ref, [\"product\", \"allProducts\"]);\n\n  const {\n    0: isScrolled,\n    1: setIsScrolled\n  } = useState(false);\n  useEffect(() => {\n    setIsScrolled(true);\n    document.body.scrollTop = document.documentElement.scrollTop = 0;\n  }, isScrolled);\n  const router = useRouter();\n  const {\n    pid\n  } = router.query;\n  const state = {\n    productDetails: null,\n    productList: [{\n      title: 'title',\n      subTitle: 'sub title',\n      image: '/images/oil.png'\n    }, {\n      title: 'lorem',\n      subTitle: 'sub title',\n      image: '/images/capsule-img.png'\n    }, {\n      title: 'ipsum',\n      subTitle: 'sub title',\n      image: '/images/cbd-oil.png'\n    }]\n  };\n  const {\n    productList\n  } = state;\n  const productAttr = getProductAttributes(product, allProducts);\n  const image = getProductImage(product, 'sectionB'); //|| \"/images/cbd-oil.png\"\n\n  const productImage = getProductImage(product) ? projectSettings.serverUrl + getProductImage(product) : '/images/cbd-oil.png';\n\n  if (props.err) {\n    return __jsx(Error, _extends({}, props.err, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 12\n      }\n    }));\n  }\n\n  return __jsx(Layout, {\n    headerTheme: \"black\",\n    fixed: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 5\n    }\n  }, __jsx(ProductInfo, {\n    product: product,\n    reviews: props.reviews,\n    productAttr: productAttr.filter((el, i) => product.combo ? i < 2 : i < 1),\n    image: productImage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }), __jsx(HImgSection, {\n    parentClass: 'c-product-single',\n    version: ['full'],\n    image: projectSettings.filePath + image,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  }, __jsx(Heading, {\n    style: {\n      fontSize: '30px',\n      fontFamily: 'futuraBT-book'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 11\n    }\n  }, getProductDescription(product))), __jsx(\"div\", {\n    className: \"c-product-single__list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, productAttr.map((el, i) => {\n    if (product.combo ? i < 2 : i < 1) return null;\n    return __jsx(TitleList, {\n      parentClass: \"c-product-single\",\n      key: i,\n      title: el.title,\n      versions: ['responsive'],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 15\n      }\n    }, el.description);\n  }))), __jsx(\"div\", {\n    className: \"c-product-single__details-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }\n  }, __jsx(ProductDetailsTab, {\n    product: product,\n    reviews: props.reviews,\n    allProducts: allProducts,\n    parentClass: \"c-product-single\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }\n  })), __jsx(\"div\", {\n    className: \"c-product-single__related-section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"row justify-content-center\",\n    style: {\n      maxWidth: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"col-md-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 11\n    }\n  }, __jsx(Heading, {\n    style: {\n      textAlign: 'center'\n    },\n    versions: ['default', 'upper', 'weight-500'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }\n  }, \"Accompany with\")), __jsx(\"div\", {\n    className: \"col-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 11\n    }\n  }, __jsx(ProductSlider, {\n    parentClass: \"c-product-single\",\n    products: allProducts,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }\n  })))));\n};\n\nProduct.getInitialProps = async ({\n  query,\n  res: resMain\n}) => {\n  // const {\n  //     baseUrl\n  // } = projectSettings\n  let product = null;\n  const res = await fetch(apiList.getProductByName + query.pid); // const res           = await fetch(apiList.getProductById+query.pid)\n\n  const productObj = await res.json();\n\n  if (!productObj.product_details) {\n    const res = await fetch(apiList.getProductById + query.pid);\n    const productObj = await res.json();\n    product = getVisibleProducts([productObj.product_details]);\n  } else {\n    product = getVisibleProducts([productObj.product_details]);\n  }\n\n  const reviewRes = await fetch(apiList.getReviews + productObj.product_details._id);\n  const reviews = await reviewRes.json();\n  const allRes = await fetch(apiList.getAllProducts);\n  const allProductObj = await allRes.json();\n  const allProducts = getVisibleProducts(allProductObj.products).filter(el => el._id !== query.pid);\n\n  if (product.length && product[0] && productObj.status) {\n    return {\n      res,\n      product: product.length && product[0],\n      productObj,\n      allProducts,\n      allProductObj,\n      reviews: reviews.reviews\n    };\n  }\n\n  resMain.statusCode = 404;\n  return {\n    err: {\n      statusCode: 404\n    }\n  };\n};\n\nexport default connect(state => ({\n  cart: state.cart,\n  user: state.user\n}))(Product);","map":{"version":3,"sources":["/Users/akshataggarwal/Documents/Coding Files/webd projects/missvalentine-front/pages/products/[id].js"],"names":["dynamic","Layout","ssr","ProductInfo","HImgSection","useEffect","useState","getProductImage","getProductAttributes","getVisibleProducts","getProductDescription","Heading","TitleList","ProductDetailsTab","ProductSlider","useRouter","connect","fetch","projectSettings","apiList","Error","product","title","Product","allProducts","props","isScrolled","setIsScrolled","document","body","scrollTop","documentElement","router","pid","query","state","productDetails","productList","subTitle","image","productAttr","productImage","serverUrl","err","reviews","filter","el","i","combo","filePath","fontSize","fontFamily","map","description","maxWidth","textAlign","getInitialProps","res","resMain","getProductByName","productObj","json","product_details","getProductById","reviewRes","getReviews","_id","allRes","getAllProducts","allProductObj","products","length","status","statusCode","cart","user"],"mappings":"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","sourcesContent":["import dynamic from 'next/dynamic';\nconst Layout = dynamic(() => import('../../components/Layouts/Layout'), {\n  ssr: false,\n});\nconst ProductInfo = dynamic(() => import('../../components/ProductInfo'), {\n  ssr: false,\n});\nconst HImgSection = dynamic(() => import('../../components/HImgSection'), {\n  ssr: false,\n});\nimport { useEffect, useState } from 'react';\nimport {\n  getProductImage,\n  getProductAttributes,\n  getVisibleProducts,\n  getProductDescription,\n} from '../../services/helpers/product';\nconst Heading = dynamic(() => import('../../components/Heading'), {\n  ssr: false,\n});\nconst TitleList = dynamic(() => import('../../components/TItleList'), {\n  ssr: false,\n});\nconst ProductDetailsTab = dynamic(\n  () => import('../../components/ProductDetailsTab'),\n  {\n    ssr: false,\n  }\n);\nconst ProductSlider = dynamic(() => import('../../components/ProductSlider'), {\n  ssr: false,\n});\nimport { useRouter } from 'next/router';\nimport { connect } from 'react-redux';\nimport fetch from 'isomorphic-unfetch';\nimport projectSettings from '../../constants/projectSettings';\nimport apiList from '../../services/apis/apiList';\nimport Error from 'next/error';\nconst product = {\n  title: 'CBD Isolate 500 mg',\n};\n\nconst Product = ({ product, allProducts, ...props }) => {\n  const [isScrolled, setIsScrolled] = useState(false);\n  useEffect(() => {\n    setIsScrolled(true);\n    document.body.scrollTop = document.documentElement.scrollTop = 0;\n  }, isScrolled);\n  const router = useRouter();\n  const { pid } = router.query;\n\n  const state = {\n    productDetails: null,\n    productList: [\n      {\n        title: 'title',\n        subTitle: 'sub title',\n        image: '/images/oil.png',\n      },\n      {\n        title: 'lorem',\n        subTitle: 'sub title',\n        image: '/images/capsule-img.png',\n      },\n      {\n        title: 'ipsum',\n        subTitle: 'sub title',\n        image: '/images/cbd-oil.png',\n      },\n    ],\n  };\n\n  const { productList } = state;\n  const productAttr = getProductAttributes(product, allProducts);\n  const image = getProductImage(product, 'sectionB'); //|| \"/images/cbd-oil.png\"\n  const productImage = getProductImage(product)\n    ? projectSettings.serverUrl + getProductImage(product)\n    : '/images/cbd-oil.png';\n  if (props.err) {\n    return <Error {...props.err} />;\n  }\n  return (\n    <Layout headerTheme=\"black\" fixed={true}>\n      <ProductInfo\n        product={product}\n        reviews={props.reviews}\n        productAttr={productAttr.filter((el, i) =>\n          product.combo ? i < 2 : i < 1\n        )}\n        image={productImage}\n      ></ProductInfo>\n      <HImgSection\n        parentClass={'c-product-single'}\n        version={['full']}\n        image={projectSettings.filePath + image}\n      >\n        <div>\n          <Heading style={{ fontSize: '30px', fontFamily: 'futuraBT-book' }}>\n            {getProductDescription(product)}\n          </Heading>\n        </div>\n        <div className=\"c-product-single__list\">\n          {productAttr.map((el, i) => {\n            if (product.combo ? i < 2 : i < 1) return null;\n            return (\n              <TitleList\n                parentClass=\"c-product-single\"\n                key={i}\n                title={el.title}\n                versions={['responsive']}\n              >\n                {el.description}\n              </TitleList>\n            );\n          })}\n        </div>\n      </HImgSection>\n      <div className=\"c-product-single__details-wrapper\">\n        <ProductDetailsTab\n          product={product}\n          reviews={props.reviews}\n          allProducts={allProducts}\n          parentClass=\"c-product-single\"\n        />\n      </div>\n      <div className=\"c-product-single__related-section\">\n        <div\n          className=\"row justify-content-center\"\n          style={{ maxWidth: '100%' }}\n        >\n          <div className=\"col-md-6\">\n            <Heading\n              style={{\n                textAlign: 'center',\n              }}\n              versions={['default', 'upper', 'weight-500']}\n            >\n              Accompany with\n            </Heading>\n          </div>\n\n          <div className=\"col-12\">\n            <ProductSlider\n              parentClass=\"c-product-single\"\n              products={allProducts}\n            />\n          </div>\n        </div>\n      </div>\n    </Layout>\n  );\n};\nProduct.getInitialProps = async ({ query, res: resMain }) => {\n  // const {\n  //     baseUrl\n  // } = projectSettings\n  let product = null;\n  const res = await fetch(apiList.getProductByName + query.pid);\n  // const res           = await fetch(apiList.getProductById+query.pid)\n  const productObj = await res.json();\n\n  if (!productObj.product_details) {\n    const res = await fetch(apiList.getProductById + query.pid);\n    const productObj = await res.json();\n    product = getVisibleProducts([productObj.product_details]);\n  } else {\n    product = getVisibleProducts([productObj.product_details]);\n  }\n\n  const reviewRes = await fetch(\n    apiList.getReviews + productObj.product_details._id\n  );\n  const reviews = await reviewRes.json();\n\n  const allRes = await fetch(apiList.getAllProducts);\n  const allProductObj = await allRes.json();\n  const allProducts = getVisibleProducts(allProductObj.products).filter(\n    (el) => el._id !== query.pid\n  );\n  if (product.length && product[0] && productObj.status) {\n    return {\n      res,\n      product: product.length && product[0],\n      productObj,\n      allProducts,\n      allProductObj,\n      reviews: reviews.reviews,\n    };\n  }\n  resMain.statusCode = 404;\n  return {\n    err: {\n      statusCode: 404,\n    },\n  };\n};\nexport default connect((state) => ({\n  cart: state.cart,\n  user: state.user,\n}))(Product);\n"]},"metadata":{},"sourceType":"module"}